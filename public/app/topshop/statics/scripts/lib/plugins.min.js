+function(a){function m(c){return this.each(function(){var e=a(this),b=e.data("bs.affix"),f="object"==typeof c&&c;b||e.data("bs.affix",b=new d(this,f));if("string"==typeof c)b[c]()})}var d=function(c,e){this.options=a.extend({},d.DEFAULTS,e);this.$target=a(this.options.target).on("scroll.bs.affix.data-api",a.proxy(this.checkPosition,this)).on("click.bs.affix.data-api",a.proxy(this.checkPositionWithEventLoop,this));this.$element=a(c);this.affixed=this.unpin=this.pinnedOffset=null;this.checkPosition()};
d.VERSION="3.2.0";d.RESET="affix affix-top affix-bottom";d.DEFAULTS={offset:0,target:window};d.prototype.getPinnedOffset=function(){if(this.pinnedOffset)return this.pinnedOffset;this.$element.removeClass(d.RESET).addClass("affix");var c=this.$target.scrollTop();return this.pinnedOffset=this.$element.offset().top-c};d.prototype.checkPositionWithEventLoop=function(){setTimeout(a.proxy(this.checkPosition,this),1)};d.prototype.checkPosition=function(){if(this.$element.is(":visible")){var c=a(document).height(),
e=this.$target.scrollTop(),b=this.$element.offset(),f=this.options.offset,h=f.top,g=f.bottom;"object"!=typeof f&&(g=h=f);"function"==typeof h&&(h=f.top(this.$element));"function"==typeof g&&(g=f.bottom(this.$element));e=null!=this.unpin&&e+this.unpin<=b.top?!1:null!=g&&b.top+this.$element.height()>=c-g?"bottom":null!=h&&e<=h?"top":!1;this.affixed!==e&&(null!=this.unpin&&this.$element.css("top",""),b="affix"+(e?"-"+e:""),f=a.Event(b+".bs.affix"),this.$element.trigger(f),f.isDefaultPrevented()||(this.affixed=
e,this.unpin="bottom"==e?this.getPinnedOffset():null,this.$element.removeClass(d.RESET).addClass(b).trigger(a.Event(b.replace("affix","affixed"))),"bottom"==e&&this.$element.offset({top:c-this.$element.height()-g})))}};var f=a.fn.affix;a.fn.affix=m;a.fn.affix.Constructor=d;a.fn.affix.noConflict=function(){a.fn.affix=f;return this};a(window).on("load",function(){a('[data-spy="affix"]').each(function(){var c=a(this),e=c.data();e.offset=e.offset||{};e.offsetBottom&&(e.offset.bottom=e.offsetBottom);e.offsetTop&&
(e.offset.top=e.offsetTop);m.call(c,e)})})}(jQuery);
+function(a){var m=function(d){a(d).on("click",'[data-dismiss="alert"]',this.close)};m.VERSION="3.2.0";m.prototype.close=function(d){function c(){k.detach().trigger("closed.bs.alert").remove()}var e=a(this),b=e.attr("data-target");b||(b=(b=e.attr("href"))&&b.replace(/.*(?=#[^\s]*$)/,""));var k=a(b);d&&d.preventDefault();k.length||(k=e.hasClass("alert")?e:e.parent());k.trigger(d=a.Event("close.bs.alert"));d.isDefaultPrevented()||(k.removeClass("in"),a.support.transition&&k.hasClass("fade")?k.one("bsTransitionEnd",
c).emulateTransitionEnd(150):c())};var d=a.fn.alert;a.fn.alert=function(d){return this.each(function(){var c=a(this),e=c.data("bs.alert");e||c.data("bs.alert",e=new m(this));"string"==typeof d&&e[d].call(c)})};a.fn.alert.Constructor=m;a.fn.alert.noConflict=function(){a.fn.alert=d;return this};a(document).on("click.bs.alert.data-api",'[data-dismiss="alert"]',m.prototype.close)}(jQuery);
+function(a){function m(c){return this.each(function(){var e=a(this),b=e.data("bs.button"),f="object"==typeof c&&c;b||e.data("bs.button",b=new d(this,f));"toggle"==c?b.toggle():c&&b.setState(c)})}var d=function(c,e){this.$element=a(c);this.options=a.extend({},d.DEFAULTS,e);this.isLoading=!1};d.VERSION="3.2.0";d.DEFAULTS={loadingText:"loading..."};d.prototype.setState=function(c){var e=this.$element,b=e.is("input")?"val":"html",d=e.data();c+="Text";null==d.resetText&&e.data("resetText",e[b]());e[b](null==
d[c]?this.options[c]:d[c]);setTimeout(a.proxy(function(){"loadingText"==c?(this.isLoading=!0,e.addClass("disabled").attr("disabled","disabled")):this.isLoading&&(this.isLoading=!1,e.removeClass("disabled").removeAttr("disabled"))},this),0)};d.prototype.toggle=function(){var c=!0,a=this.$element.closest('[data-toggle="buttons"]');if(a.length){var b=this.$element.find("input");"radio"==b.prop("type")&&(b.prop("checked")&&this.$element.hasClass("active")?c=!1:a.find(".active").removeClass("active"));
c&&b.prop("checked",!this.$element.hasClass("active")).trigger("change")}c&&this.$element.toggleClass("active")};var f=a.fn.button;a.fn.button=m;a.fn.button.Constructor=d;a.fn.button.noConflict=function(){a.fn.button=f;return this};a(document).on("click.bs.button.data-api",'[data-toggle^="button"]',function(c){var e=a(c.target);e.hasClass("btn")||(e=e.closest(".btn"));m.call(e,"toggle");c.preventDefault()})}(jQuery);
+function(a){function m(c){return this.each(function(){var e=a(this),b=e.data("bs.carousel"),f=a.extend({},d.DEFAULTS,e.data(),"object"==typeof c&&c),h="string"==typeof c?c:f.slide;b||e.data("bs.carousel",b=new d(this,f));if("number"==typeof c)b.to(c);else if(h)b[h]();else f.interval&&b.pause().cycle()})}var d=function(c,e){this.$element=a(c).on("keydown.bs.carousel",a.proxy(this.keydown,this));this.$indicators=this.$element.find(".carousel-indicators");this.options=e;this.paused=this.sliding=this.interval=
this.$active=this.$items=null;"hover"==this.options.pause&&this.$element.on("mouseenter.bs.carousel",a.proxy(this.pause,this)).on("mouseleave.bs.carousel",a.proxy(this.cycle,this))};d.VERSION="3.2.0";d.DEFAULTS={interval:5E3,pause:"hover",wrap:!0};d.prototype.keydown=function(c){switch(c.which){case 37:this.prev();break;case 39:this.next();break;default:return}c.preventDefault()};d.prototype.cycle=function(c){c||(this.paused=!1);this.interval&&clearInterval(this.interval);this.options.interval&&!this.paused&&
(this.interval=setInterval(a.proxy(this.next,this),this.options.interval));return this};d.prototype.getItemIndex=function(c){this.$items=c.parent().children(".item");return this.$items.index(c||this.$active)};d.prototype.to=function(c){var e=this,b=this.getItemIndex(this.$active=this.$element.find(".item.active"));if(!(c>this.$items.length-1||0>c))return this.sliding?this.$element.one("slid.bs.carousel",function(){e.to(c)}):b==c?this.pause().cycle():this.slide(c>b?"next":"prev",a(this.$items[c]))};
d.prototype.pause=function(c){c||(this.paused=!0);this.$element.find(".next, .prev").length&&a.support.transition&&(this.$element.trigger(a.support.transition.end),this.cycle(!0));this.interval=clearInterval(this.interval);return this};d.prototype.next=function(){if(!this.sliding)return this.slide("next")};d.prototype.prev=function(){if(!this.sliding)return this.slide("prev")};d.prototype.slide=function(c,e){var b=this.$element.find(".item.active"),d=e||b[c](),f=this.interval,g="next"==c?"left":"right",
l="next"==c?"first":"last",y=this;if(!d.length){if(!this.options.wrap)return;d=this.$element.find(".item")[l]()}if(d.hasClass("active"))return this.sliding=!1;var l=d[0],m=a.Event("slide.bs.carousel",{relatedTarget:l,direction:g});this.$element.trigger(m);if(!m.isDefaultPrevented()){this.sliding=!0;f&&this.pause();this.$indicators.length&&(this.$indicators.find(".active").removeClass("active"),(m=a(this.$indicators.children()[this.getItemIndex(d)]))&&m.addClass("active"));var n=a.Event("slid.bs.carousel",
{relatedTarget:l,direction:g});a.support.transition&&this.$element.hasClass("slide")?(d.addClass(c),d[0].offsetWidth,b.addClass(g),d.addClass(g),b.one("bsTransitionEnd",function(){d.removeClass([c,g].join(" ")).addClass("active");b.removeClass(["active",g].join(" "));y.sliding=!1;setTimeout(function(){y.$element.trigger(n)},0)}).emulateTransitionEnd(1E3*b.css("transition-duration").slice(0,-1))):(b.removeClass("active"),d.addClass("active"),this.sliding=!1,this.$element.trigger(n));f&&this.cycle();
return this}};var f=a.fn.carousel;a.fn.carousel=m;a.fn.carousel.Constructor=d;a.fn.carousel.noConflict=function(){a.fn.carousel=f;return this};a(document).on("click.bs.carousel.data-api","[data-slide], [data-slide-to]",function(c){var e,b=a(this),d=a(b.attr("data-target")||(e=b.attr("href"))&&e.replace(/.*(?=#[^\s]+$)/,""));if(d.hasClass("carousel")){e=a.extend({},d.data(),b.data());if(b=b.attr("data-slide-to"))e.interval=!1;m.call(d,e);b&&d.data("bs.carousel").to(b);c.preventDefault()}});a(window).on("load",
function(){a('[data-ride="carousel"]').each(function(){var c=a(this);m.call(c,c.data())})})}(jQuery);
+function(a){function m(c){return this.each(function(){var e=a(this),b=e.data("bs.collapse"),f=a.extend({},d.DEFAULTS,e.data(),"object"==typeof c&&c);!b&&f.toggle&&"show"==c&&(c=!c);b||e.data("bs.collapse",b=new d(this,f));if("string"==typeof c)b[c]()})}var d=function(c,e){this.$element=a(c);this.options=a.extend({},d.DEFAULTS,e);this.transitioning=null;this.options.parent&&(this.$parent=a(this.options.parent));this.options.toggle&&this.toggle()};d.VERSION="3.2.0";d.DEFAULTS={toggle:!0};d.prototype.dimension=
function(){return this.$element.hasClass("width")?"width":"height"};d.prototype.show=function(){if(!this.transitioning&&!this.$element.hasClass("in")){var c=a.Event("show.bs.collapse");this.$element.trigger(c);if(!c.isDefaultPrevented()){if((c=this.$parent&&this.$parent.find("> .panel > .in"))&&c.length){var e=c.data("bs.collapse");if(e&&e.transitioning)return;m.call(c,"hide");e||c.data("bs.collapse",null)}var b=this.dimension();this.$element.removeClass("collapse").addClass("collapsing")[b](0);this.transitioning=
1;c=function(){this.$element.removeClass("collapsing").addClass("collapse in")[b]("");this.transitioning=0;this.$element.trigger("shown.bs.collapse")};if(!a.support.transition)return c.call(this);e=a.camelCase(["scroll",b].join("-"));this.$element.one("bsTransitionEnd",a.proxy(c,this)).emulateTransitionEnd(350)[b](this.$element[0][e])}}};d.prototype.hide=function(){if(!this.transitioning&&this.$element.hasClass("in")){var c=a.Event("hide.bs.collapse");this.$element.trigger(c);if(!c.isDefaultPrevented()){c=
this.dimension();this.$element[c](this.$element[c]())[0].offsetHeight;this.$element.addClass("collapsing").removeClass("collapse").removeClass("in");this.transitioning=1;var e=function(){this.transitioning=0;this.$element.trigger("hidden.bs.collapse").removeClass("collapsing").addClass("collapse")};if(!a.support.transition)return e.call(this);this.$element[c](0).one("bsTransitionEnd",a.proxy(e,this)).emulateTransitionEnd(350)}}};d.prototype.toggle=function(){this[this.$element.hasClass("in")?"hide":
"show"]()};var f=a.fn.collapse;a.fn.collapse=m;a.fn.collapse.Constructor=d;a.fn.collapse.noConflict=function(){a.fn.collapse=f;return this};a(document).on("click.bs.collapse.data-api",'[data-toggle="collapse"]',function(c){var e,b=a(this);c=b.attr("data-target")||c.preventDefault()||(e=b.attr("href"))&&e.replace(/.*(?=#[^\s]+$)/,"");e=a(c);var d=(c=e.data("bs.collapse"))?"toggle":b.data(),f=b.attr("data-parent"),g=f&&a(f);c&&c.transitioning||(g&&g.find('[data-toggle="collapse"][data-parent="'+f+'"]').not(b).addClass("collapsed"),
b[e.hasClass("in")?"addClass":"removeClass"]("collapsed"));m.call(e,d)})}(jQuery);
+function(a){function m(b){b&&3===b.which||(a(f).remove(),a(c).each(function(){var c=d(a(this)),e={relatedTarget:this};c.hasClass("open")&&(c.trigger(b=a.Event("hide.bs.dropdown",e)),b.isDefaultPrevented()||c.removeClass("open").trigger("hidden.bs.dropdown",e))}))}function d(b){var c=b.attr("data-target");c||(c=(c=b.attr("href"))&&/#[A-Za-z]/.test(c)&&c.replace(/.*(?=#[^\s]*$)/,""));return(c=c&&a(c))&&c.length?c:b.parent()}var f=".dropdown-backdrop",c='[data-toggle="dropdown"]',e=function(b){a(b).on("click.bs.dropdown",
this.toggle)};e.VERSION="3.2.0";e.prototype.toggle=function(b){var c=a(this);if(!c.is(".disabled, :disabled")){var e=d(c);b=e.hasClass("open");m();if(!b){if("ontouchstart"in document.documentElement&&!e.closest(".navbar-nav").length)a('<div class="dropdown-backdrop"/>').insertAfter(a(this)).on("click",m);var f={relatedTarget:this};e.trigger(b=a.Event("show.bs.dropdown",f));if(b.isDefaultPrevented())return;c.trigger("focus");e.toggleClass("open").trigger("shown.bs.dropdown",f)}return!1}};e.prototype.keydown=
function(b){if(/(38|40|27)/.test(b.keyCode)){var e=a(this);b.preventDefault();b.stopPropagation();if(!e.is(".disabled, :disabled")){var f=d(e),l=f.hasClass("open");if(!l||l&&27==b.keyCode)return 27==b.which&&f.find(c).trigger("focus"),e.trigger("click");e=f.find('[role="menu"] li:not(.divider):visible a, [role="listbox"] li:not(.divider):visible a');e.length&&(f=e.index(e.filter(":focus")),38==b.keyCode&&0<f&&f--,40==b.keyCode&&f<e.length-1&&f++,~f||(f=0),e.eq(f).trigger("focus"))}}};var b=a.fn.dropdown;
a.fn.dropdown=function(b){return this.each(function(){var c=a(this),d=c.data("bs.dropdown");d||c.data("bs.dropdown",d=new e(this));"string"==typeof b&&d[b].call(c)})};a.fn.dropdown.Constructor=e;a.fn.dropdown.noConflict=function(){a.fn.dropdown=b;return this};a(document).on("click.bs.dropdown.data-api",m).on("click.bs.dropdown.data-api",".dropdown form",function(b){b.stopPropagation()}).on("click.bs.dropdown.data-api",c,e.prototype.toggle).on("keydown.bs.dropdown.data-api",c+', [role="menu"], [role="listbox"]',
e.prototype.keydown)}(jQuery);
+function(a){function m(c){return this.each(function(){var e=a(this),b=e.data("bs.tab");b||e.data("bs.tab",b=new d(this));if("string"==typeof c)b[c]()})}var d=function(c){this.element=a(c)};d.VERSION="3.2.0";d.prototype.show=function(){var c=this.element,e=c.closest("ul:not(.dropdown-menu)"),b=c.data("target");b||(b=(b=c.attr("href"))&&b.replace(/.*(?=#[^\s]*$)/,""));if(!c.parent("li").hasClass("active")){var d=e.find(".active:last a")[0],f=a.Event("show.bs.tab",{relatedTarget:d});c.trigger(f);f.isDefaultPrevented()||
(b=a(b),this.activate(c.closest("li"),e),this.activate(b,b.parent(),function(){c.trigger({type:"shown.bs.tab",relatedTarget:d})}))}};d.prototype.activate=function(c,e,b){function d(){f.removeClass("active").find("> .dropdown-menu > .active").removeClass("active");c.addClass("active");g?(c[0].offsetWidth,c.addClass("in")):c.removeClass("fade");c.parent(".dropdown-menu")&&c.closest("li.dropdown").addClass("active");b&&b()}var f=e.find("> .active"),g=b&&a.support.transition&&f.hasClass("fade");g?f.one("bsTransitionEnd",
d).emulateTransitionEnd(150):d();f.removeClass("in")};var f=a.fn.tab;a.fn.tab=m;a.fn.tab.Constructor=d;a.fn.tab.noConflict=function(){a.fn.tab=f;return this};a(document).on("click.bs.tab.data-api",'[data-toggle="tab"], [data-toggle="pill"]',function(c){c.preventDefault();m.call(a(this),"show")})}(jQuery);
+function(a){function m(){var a=document.createElement("bootstrap"),f={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"oTransitionEnd otransitionend",transition:"transitionend"},c;for(c in f)if(void 0!==a.style[c])return{end:f[c]};return!1}a.fn.emulateTransitionEnd=function(d){var f=!1,c=this;a(this).one("bsTransitionEnd",function(){f=!0});setTimeout(function(){f||a(c).trigger(a.support.transition.end)},d);return this};a(function(){a.support.transition=m();a.support.transition&&
(a.event.special.bsTransitionEnd={bindType:a.support.transition.end,delegateType:a.support.transition.end,handle:function(d){if(a(d.target).is(this))return d.handleObj.handler.apply(this,arguments)}})})}(jQuery);
+function(a){function m(c,e){var b=a.proxy(this.process,this);this.$body=a("body");this.$scrollElement=a(c).is("body")?a(window):a(c);this.options=a.extend({},m.DEFAULTS,e);this.selector=(this.options.target||"")+" .nav li > a";this.offsets=[];this.targets=[];this.activeTarget=null;this.scrollHeight=0;this.$scrollElement.on("scroll.bs.scrollspy",b);this.refresh();this.process()}function d(c){return this.each(function(){var e=a(this),b=e.data("bs.scrollspy"),d="object"==typeof c&&c;b||e.data("bs.scrollspy",
b=new m(this,d));if("string"==typeof c)b[c]()})}m.VERSION="3.2.0";m.DEFAULTS={offset:10};m.prototype.getScrollHeight=function(){return this.$scrollElement[0].scrollHeight||Math.max(this.$body[0].scrollHeight,document.documentElement.scrollHeight)};m.prototype.refresh=function(){var c="offset",e=0;a.isWindow(this.$scrollElement[0])||(c="position",e=this.$scrollElement.scrollTop());this.offsets=[];this.targets=[];this.scrollHeight=this.getScrollHeight();var b=this;this.$body.find(this.selector).map(function(){var b=
a(this),b=b.data("target")||b.attr("href"),d=/^#./.test(b)&&a(b);return d&&d.length&&d.is(":visible")&&[[d[c]().top+e,b]]||null}).sort(function(b,c){return b[0]-c[0]}).each(function(){b.offsets.push(this[0]);b.targets.push(this[1])})};m.prototype.process=function(){var c=this.$scrollElement.scrollTop()+this.options.offset,a=this.getScrollHeight(),b=this.options.offset+a-this.$scrollElement.height(),d=this.offsets,f=this.targets,g=this.activeTarget,l;this.scrollHeight!=a&&this.refresh();if(c>=b)return g!=
(l=f[f.length-1])&&this.activate(l);if(g&&c<=d[0])return g!=(l=f[0])&&this.activate(l);for(l=d.length;l--;)g!=f[l]&&c>=d[l]&&(!d[l+1]||c<=d[l+1])&&this.activate(f[l])};m.prototype.activate=function(c){this.activeTarget=c;a(this.selector).parentsUntil(this.options.target,".active").removeClass("active");c=a(this.selector+'[data-target="'+c+'"],'+this.selector+'[href="'+c+'"]').parents("li").addClass("active");c.parent(".dropdown-menu").length&&(c=c.closest("li.dropdown").addClass("active"));c.trigger("activate.bs.scrollspy")};
var f=a.fn.scrollspy;a.fn.scrollspy=d;a.fn.scrollspy.Constructor=m;a.fn.scrollspy.noConflict=function(){a.fn.scrollspy=f;return this};a(window).on("load.bs.scrollspy.data-api",function(){a('[data-spy="scroll"]').each(function(){var c=a(this);d.call(c,c.data())})})}(jQuery);
+function(a){var m=function(a,c){this.type=this.options=this.enabled=this.timeout=this.hoverState=this.$element=null;this.init("tooltip",a,c)};m.VERSION="3.2.0";m.DEFAULTS={animation:!0,placement:"top",selector:!1,template:'<div class="tooltip" role="tooltip"><div class="tooltip-arrow"></div><div class="tooltip-inner"></div></div>',trigger:"hover focus",title:"",delay:0,html:!1,container:!1,viewport:{selector:"body",padding:0}};m.prototype.init=function(d,c,e){this.enabled=!0;this.type=d;this.$element=
a(c);this.options=this.getOptions(e);this.$viewport=this.options.viewport&&a(this.options.viewport.selector||this.options.viewport);d=this.options.trigger.split(" ");for(c=d.length;c--;)if(e=d[c],"click"==e)this.$element.on("click."+this.type,this.options.selector,a.proxy(this.toggle,this));else if("manual"!=e){var b="hover"==e?"mouseleave":"focusout";this.$element.on(("hover"==e?"mouseenter":"focusin")+"."+this.type,this.options.selector,a.proxy(this.enter,this));this.$element.on(b+"."+this.type,
this.options.selector,a.proxy(this.leave,this))}this.options.selector?this._options=a.extend({},this.options,{trigger:"manual",selector:""}):this.fixTitle()};m.prototype.getDefaults=function(){return m.DEFAULTS};m.prototype.getOptions=function(d){d=a.extend({},this.getDefaults(),this.$element.data(),d);d.delay&&"number"==typeof d.delay&&(d.delay={show:d.delay,hide:d.delay});return d};m.prototype.getDelegateOptions=function(){var d={},c=this.getDefaults();this._options&&a.each(this._options,function(a,
b){c[a]!=b&&(d[a]=b)});return d};m.prototype.enter=function(d){var c=d instanceof this.constructor?d:a(d.currentTarget).data("bs."+this.type);c||(c=new this.constructor(d.currentTarget,this.getDelegateOptions()),a(d.currentTarget).data("bs."+this.type,c));clearTimeout(c.timeout);c.hoverState="in";if(!c.options.delay||!c.options.delay.show)return c.show();c.timeout=setTimeout(function(){"in"==c.hoverState&&c.show()},c.options.delay.show)};m.prototype.leave=function(d){var c=d instanceof this.constructor?
d:a(d.currentTarget).data("bs."+this.type);c||(c=new this.constructor(d.currentTarget,this.getDelegateOptions()),a(d.currentTarget).data("bs."+this.type,c));clearTimeout(c.timeout);c.hoverState="out";if(!c.options.delay||!c.options.delay.hide)return c.hide();c.timeout=setTimeout(function(){"out"==c.hoverState&&c.hide()},c.options.delay.hide)};m.prototype.show=function(){var d=a.Event("show.bs."+this.type);if(this.hasContent()&&this.enabled){this.$element.trigger(d);var c=a.contains(document.documentElement,
this.$element[0]);if(!d.isDefaultPrevented()&&c){var e=this,d=this.tip(),c=this.getUID(this.type);this.setContent();d.attr("id",c);this.$element.attr("aria-describedby",c);this.options.animation&&d.addClass("fade");var c="function"==typeof this.options.placement?this.options.placement.call(this,d[0],this.$element[0]):this.options.placement,b=/\s?auto?\s?/i,k=b.test(c);k&&(c=c.replace(b,"")||"top");d.detach().css({top:0,left:0,display:"block"}).addClass(c).data("bs."+this.type,this);this.options.container?
d.appendTo(this.options.container):d.insertAfter(this.$element);var b=this.getPosition(),h=d[0].offsetWidth,g=d[0].offsetHeight;if(k){var k=c,l=this.$element.parent(),l=this.getPosition(l),c="bottom"==c&&b.top+b.height+g-l.scroll>l.height?"top":"top"==c&&0>b.top-l.scroll-g?"bottom":"right"==c&&b.right+h>l.width?"left":"left"==c&&b.left-h<l.left?"right":c;d.removeClass(k).addClass(c)}b=this.getCalculatedOffset(c,b,h,g);this.applyPlacement(b,c);c=function(){e.$element.trigger("shown.bs."+e.type);e.hoverState=
null};a.support.transition&&this.$tip.hasClass("fade")?d.one("bsTransitionEnd",c).emulateTransitionEnd(150):c()}}};m.prototype.applyPlacement=function(d,c){var e=this.tip(),b=e[0].offsetWidth,k=e[0].offsetHeight,h=parseInt(e.css("margin-top"),10),g=parseInt(e.css("margin-left"),10);isNaN(h)&&(h=0);isNaN(g)&&(g=0);d.top+=h;d.left+=g;a.offset.setOffset(e[0],a.extend({using:function(b){e.css({top:Math.round(b.top),left:Math.round(b.left)})}},d),0);e.addClass("in");var g=e[0].offsetWidth,l=e[0].offsetHeight;
"top"==c&&l!=k&&(d.top=d.top+k-l);h=this.getViewportAdjustedDelta(c,d,g,l);h.left?d.left+=h.left:d.top+=h.top;b=h.left?2*h.left-b+g:2*h.top-k+l;k=h.left?"left":"top";h=h.left?"offsetWidth":"offsetHeight";e.offset(d);this.replaceArrow(b,e[0][h],k)};m.prototype.replaceArrow=function(a,c,d){this.arrow().css(d,a?50*(1-a/c)+"%":"")};m.prototype.setContent=function(){var a=this.tip(),c=this.getTitle();a.find(".tooltip-inner")[this.options.html?"html":"text"](c);a.removeClass("fade in top bottom left right")};
m.prototype.hide=function(){function d(){"in"!=c.hoverState&&e.detach();c.$element.trigger("hidden.bs."+c.type)}var c=this,e=this.tip(),b=a.Event("hide.bs."+this.type);this.$element.removeAttr("aria-describedby");this.$element.trigger(b);if(!b.isDefaultPrevented())return e.removeClass("in"),a.support.transition&&this.$tip.hasClass("fade")?e.one("bsTransitionEnd",d).emulateTransitionEnd(150):d(),this.hoverState=null,this};m.prototype.fixTitle=function(){var a=this.$element;(a.attr("title")||"string"!=
typeof a.attr("data-original-title"))&&a.attr("data-original-title",a.attr("title")||"").attr("title","")};m.prototype.hasContent=function(){return this.getTitle()};m.prototype.getPosition=function(d){d=d||this.$element;var c=d[0],e="BODY"==c.tagName;return a.extend({},"function"==typeof c.getBoundingClientRect?c.getBoundingClientRect():null,{scroll:e?document.documentElement.scrollTop||document.body.scrollTop:d.scrollTop(),width:e?a(window).width():d.outerWidth(),height:e?a(window).height():d.outerHeight()},
e?{top:0,left:0}:d.offset())};m.prototype.getCalculatedOffset=function(a,c,d,b){return"bottom"==a?{top:c.top+c.height,left:c.left+c.width/2-d/2}:"top"==a?{top:c.top-b,left:c.left+c.width/2-d/2}:"left"==a?{top:c.top+c.height/2-b/2,left:c.left-d}:{top:c.top+c.height/2-b/2,left:c.left+c.width}};m.prototype.getViewportAdjustedDelta=function(a,c,d,b){var k={top:0,left:0};if(!this.$viewport)return k;var h=this.options.viewport&&this.options.viewport.padding||0,g=this.getPosition(this.$viewport);/right|left/.test(a)?
(d=c.top-h-g.scroll,c=c.top+h-g.scroll+b,d<g.top?k.top=g.top-d:c>g.top+g.height&&(k.top=g.top+g.height-c)):(b=c.left-h,c=c.left+h+d,b<g.left?k.left=g.left-b:c>g.width&&(k.left=g.left+g.width-c));return k};m.prototype.getTitle=function(){var a=this.$element,c=this.options;return a.attr("data-original-title")||("function"==typeof c.title?c.title.call(a[0]):c.title)};m.prototype.getUID=function(a){do a+=~~(1E6*Math.random());while(document.getElementById(a));return a};m.prototype.tip=function(){return this.$tip=
this.$tip||a(this.options.template)};m.prototype.arrow=function(){return this.$arrow=this.$arrow||this.tip().find(".tooltip-arrow")};m.prototype.validate=function(){this.$element[0].parentNode||(this.hide(),this.options=this.$element=null)};m.prototype.enable=function(){this.enabled=!0};m.prototype.disable=function(){this.enabled=!1};m.prototype.toggleEnabled=function(){this.enabled=!this.enabled};m.prototype.toggle=function(d){var c=this;d&&(c=a(d.currentTarget).data("bs."+this.type),c||(c=new this.constructor(d.currentTarget,
this.getDelegateOptions()),a(d.currentTarget).data("bs."+this.type,c)));c.tip().hasClass("in")?c.leave(c):c.enter(c)};m.prototype.destroy=function(){clearTimeout(this.timeout);this.hide().$element.off("."+this.type).removeData("bs."+this.type)};var d=a.fn.tooltip;a.fn.tooltip=function(d){return this.each(function(){var c=a(this),e=c.data("bs.tooltip"),b="object"==typeof d&&d;if(e||"destroy"!=d)if(e||c.data("bs.tooltip",e=new m(this,b)),"string"==typeof d)e[d]()})};a.fn.tooltip.Constructor=m;a.fn.tooltip.noConflict=
function(){a.fn.tooltip=d;return this}}(jQuery);
+function(a){var m=function(a,c){this.init("popover",a,c)};if(!a.fn.tooltip)throw Error("Popover requires tooltip.js");m.VERSION="3.2.0";m.DEFAULTS=a.extend({},a.fn.tooltip.Constructor.DEFAULTS,{placement:"right",trigger:"click",content:"",template:'<div class="popover" role="tooltip"><div class="arrow"></div><h3 class="popover-title"></h3><div class="popover-content"></div></div>'});m.prototype=a.extend({},a.fn.tooltip.Constructor.prototype);m.prototype.constructor=m;m.prototype.getDefaults=function(){return m.DEFAULTS};
m.prototype.setContent=function(){var a=this.tip(),c=this.getTitle(),d=this.getContent();a.find(".popover-title")[this.options.html?"html":"text"](c);a.find(".popover-content").empty()[this.options.html?"string"==typeof d?"html":"append":"text"](d);a.removeClass("fade top bottom left right in");a.find(".popover-title").html()||a.find(".popover-title").hide()};m.prototype.hasContent=function(){return this.getTitle()||this.getContent()};m.prototype.getContent=function(){var a=this.$element,d=this.options;
return a.attr("data-content")||("function"==typeof d.content?d.content.call(a[0]):d.content)};m.prototype.arrow=function(){return this.$arrow=this.$arrow||this.tip().find(".arrow")};m.prototype.tip=function(){this.$tip||(this.$tip=a(this.options.template));return this.$tip};var d=a.fn.popover;a.fn.popover=function(d){return this.each(function(){var c=a(this),e=c.data("bs.popover"),b="object"==typeof d&&d;if(e||"destroy"!=d)if(e||c.data("bs.popover",e=new m(this,b)),"string"==typeof d)e[d]()})};a.fn.popover.Constructor=
m;a.fn.popover.noConflict=function(){a.fn.popover=d;return this}}(jQuery);+function(a){function m(c,e){return this.each(function(){var b=a(this),f=b.data("bs.modal"),h=a.extend({},d.DEFAULTS,b.data(),"object"==typeof c&&c);f||b.data("bs.modal",f=new d(this,h));if("string"==typeof c)f[c](e);else h.show&&f.show(e)})}var d=function(d,e){this.options=e;this.$body=a(document.body);this.$element=a(d);this.$dialog=this.$element.find(".modal-dialog");this.originalBodyPad=this.isShown=this.$backdrop=null;this.scrollbarWidth=0;this.ignoreBackdropClick=!1;this.options.remote&&this.$element.find(".modal-content").load(this.options.remote,
a.proxy(function(){this.$element.trigger("loaded.bs.modal")},this))};d.VERSION="3.3.5";d.TRANSITION_DURATION=300;d.BACKDROP_TRANSITION_DURATION=150;d.DEFAULTS={backdrop:!0,keyboard:!0,show:!0};d.prototype.toggle=function(a){return this.isShown?this.hide():this.show(a)};d.prototype.show=function(c){var e=this,b=a.Event("show.bs.modal",{relatedTarget:c});this.$element.trigger(b);this.isShown||b.isDefaultPrevented()||(this.isShown=!0,this.checkScrollbar(),this.setScrollbar(),this.$body.addClass("modal-open"),
this.escape(),this.resize(),this.$element.on("click.dismiss.bs.modal",'[data-dismiss="modal"]',a.proxy(this.hide,this)),this.$dialog.on("mousedown.dismiss.bs.modal",function(){e.$element.one("mouseup.dismiss.bs.modal",function(b){a(b.target).is(e.$element)&&(e.ignoreBackdropClick=!0)})}),this.backdrop(function(){var b=a.support.transition&&e.$element.hasClass("fade");e.$element.parent().length||e.$element.appendTo(e.$body);e.$element.show().scrollTop(0);e.adjustDialog();b&&e.$element[0].offsetWidth;
e.$element.addClass("in");e.enforceFocus();var f=a.Event("shown.bs.modal",{relatedTarget:c});b?e.$dialog.one("bsTransitionEnd",function(){e.$element.trigger("focus").trigger(f)}).emulateTransitionEnd(d.TRANSITION_DURATION):e.$element.trigger("focus").trigger(f)}))};d.prototype.hide=function(c){c&&c.preventDefault();c=a.Event("hide.bs.modal");this.$element.trigger(c);this.isShown&&!c.isDefaultPrevented()&&(this.isShown=!1,this.escape(),this.resize(),a(document).off("focusin.bs.modal"),this.$element.removeClass("in").off("click.dismiss.bs.modal").off("mouseup.dismiss.bs.modal"),
this.$dialog.off("mousedown.dismiss.bs.modal"),a.support.transition&&this.$element.hasClass("fade")?this.$element.one("bsTransitionEnd",a.proxy(this.hideModal,this)).emulateTransitionEnd(d.TRANSITION_DURATION):this.hideModal())};d.prototype.enforceFocus=function(){a(document).off("focusin.bs.modal").on("focusin.bs.modal",a.proxy(function(a){this.$element[0]===a.target||this.$element.has(a.target).length||this.$element.trigger("focus")},this))};d.prototype.escape=function(){if(this.isShown&&this.options.keyboard)this.$element.on("keydown.dismiss.bs.modal",
a.proxy(function(a){27==a.which&&this.hide()},this));else this.isShown||this.$element.off("keydown.dismiss.bs.modal")};d.prototype.resize=function(){if(this.isShown)a(window).on("resize.bs.modal",a.proxy(this.handleUpdate,this));else a(window).off("resize.bs.modal")};d.prototype.hideModal=function(){var a=this;this.$element.hide();this.backdrop(function(){a.$body.removeClass("modal-open");a.resetAdjustments();a.resetScrollbar();a.$element.trigger("hidden.bs.modal")})};d.prototype.removeBackdrop=function(){this.$backdrop&&
this.$backdrop.remove();this.$backdrop=null};d.prototype.backdrop=function(c){var e=this,b=this.$element.hasClass("fade")?"fade":"";if(this.isShown&&this.options.backdrop){var f=a.support.transition&&b;this.$backdrop=a(document.createElement("div")).addClass("modal-backdrop "+b).appendTo(this.$body);this.$element.on("click.dismiss.bs.modal",a.proxy(function(b){this.ignoreBackdropClick&&(this.ignoreBackdropClick=!1)},this));f&&this.$backdrop[0].offsetWidth;this.$backdrop.addClass("in");c&&(f?this.$backdrop.one("bsTransitionEnd",
c).emulateTransitionEnd(d.BACKDROP_TRANSITION_DURATION):c())}else!this.isShown&&this.$backdrop?(this.$backdrop.removeClass("in"),b=function(){e.removeBackdrop();c&&c()},a.support.transition&&this.$element.hasClass("fade")?this.$backdrop.one("bsTransitionEnd",b).emulateTransitionEnd(d.BACKDROP_TRANSITION_DURATION):b()):c&&c()};d.prototype.handleUpdate=function(){this.adjustDialog()};d.prototype.adjustDialog=function(){var a=this.$element[0].scrollHeight>document.documentElement.clientHeight;this.$element.css({paddingLeft:!this.bodyIsOverflowing&&
a?this.scrollbarWidth:"",paddingRight:this.bodyIsOverflowing&&!a?this.scrollbarWidth:""})};d.prototype.resetAdjustments=function(){this.$element.css({paddingLeft:"",paddingRight:""})};d.prototype.checkScrollbar=function(){var a=window.innerWidth;a||(a=document.documentElement.getBoundingClientRect(),a=a.right-Math.abs(a.left));this.bodyIsOverflowing=document.body.clientWidth<a;this.scrollbarWidth=this.measureScrollbar()};d.prototype.setScrollbar=function(){var a=parseInt(this.$body.css("padding-right")||
0,10);this.originalBodyPad=document.body.style.paddingRight||"";this.bodyIsOverflowing&&this.$body.css("padding-right",a+this.scrollbarWidth)};d.prototype.resetScrollbar=function(){this.$body.css("padding-right",this.originalBodyPad)};d.prototype.measureScrollbar=function(){var a=document.createElement("div");a.className="modal-scrollbar-measure";this.$body.append(a);var d=a.offsetWidth-a.clientWidth;this.$body[0].removeChild(a);return d};var f=a.fn.modal;a.fn.modal=m;a.fn.modal.Constructor=d;a.fn.modal.noConflict=
function(){a.fn.modal=f;return this};a(document).on("click.bs.modal.data-api",'[data-toggle="modal"]',function(d){var e=a(this),b=e.attr("href"),f=a(e.attr("data-target")||b&&b.replace(/.*(?=#[^\s]+$)/,"")),b=f.data("bs.modal")?"toggle":a.extend({remote:!/#/.test(b)&&b},f.data(),e.data());e.is("a")&&d.preventDefault();f.one("show.bs.modal",function(b){if(!b.isDefaultPrevented())f.one("hidden.bs.modal",function(){e.is(":visible")&&e.trigger("focus")})});m.call(f,b,this)})}(jQuery);
$(function(){window.Modal=function(){var a=RegExp("\\[([^\\[\\]]*?)\\]","igm"),m=$("#modal-alert"),d=m.html(),f=function(d){var e={msg:"提示内容",title:"操作提示",btnok:"确定",btncl:"取消"};$.extend(e,d);d=m.html().replace(a,function(b,a){return{Title:e.title,Message:e.msg,BtnOk:e.btnok,BtnCancel:e.btncl}[a]});m.html(d);m.modal({width:500,backdrop:"static"})};return{alert:function(a){m.html(d);m.find(".ok").removeClass("btn-success").addClass("btn-primary");m.find(".cancel").hide();f(a);return{on:function(a){a&&
a instanceof Function&&m.find(".ok").click(function(){a(!0)})}}},confirm:function(a){m.html(d);m.find(".ok").removeClass("btn-primary").addClass("btn-success");m.find(".cancel").show();f(a);return{on:function(a){a&&a instanceof Function&&(m.find(".ok").click(function(){a(!0)}),m.find(".cancel").click(function(){a(!1)}))}}}}}()});(function(a){var m=function(d,f){this.$form=a(d);this.options=a.extend({},a.fn.Validator.DEFAULT_OPTIONS,f);this.$invalidFields=a([]);this.$hiddenButton=this.$submitButton=null;this.STATUS_NOT_VALIDATED="NOT_VALIDATED";this.STATUS_VALIDATING="VALIDATING";this.STATUS_INVALID="INVALID";this.STATUS_VALID="VALID";var c;c=3;for(var e=document.createElement("div"),b=e.all||[];e.innerHTML="\x3c!--[if gt IE "+ ++c+"]><br><![endif]--\x3e",b[0];);c=4<c?c:!c;e=document.createElement("input");this._changeEvent=
9!==c&&"oninput"in e?"input":"keyup";this._submitIfValid=null;this._cacheFields={};this._init()};m.prototype={constructor:m,_init:function(){var d=this,f={autoFocus:this.$form.attr("data-validate-autofocus"),disptype:this.$form.attr("data-validate-disptype"),container:this.$form.attr("data-validate-container"),events:{formInit:this.$form.attr("data-validate-events-form-init"),formError:this.$form.attr("data-validate-events-form-error"),formSuccess:this.$form.attr("data-validate-events-form-success"),
fieldAdded:this.$form.attr("data-validate-events-field-added"),fieldRemoved:this.$form.attr("data-validate-events-field-removed"),fieldInit:this.$form.attr("data-validate-events-field-init"),fieldError:this.$form.attr("data-validate-events-field-error"),fieldSuccess:this.$form.attr("data-validate-events-field-success"),fieldStatus:this.$form.attr("data-validate-events-field-status"),validatorError:this.$form.attr("data-validate-events-validator-error"),validatorSuccess:this.$form.attr("data-validate-events-validator-success")},
excluded:this.$form.attr("data-validate-excluded"),icons:{valid:this.$form.attr("data-validate-icon-valid"),invalid:this.$form.attr("data-validate-icon-invalid"),validating:this.$form.attr("data-validate-icon-validating")},group:this.$form.attr("data-validate-group"),live:this.$form.attr("data-validate-live"),message:this.$form.attr("data-validate-message"),onError:this.$form.attr("data-validate-onerror"),onSuccess:this.$form.attr("data-validate-onsuccess"),submitButtons:this.$form.attr("data-validate-submitbuttons"),
threshold:this.$form.attr("data-validate-threshold"),trigger:this.$form.attr("data-validate-trigger"),verbose:this.$form.attr("data-validate-verbose"),fields:{}};this.$form.attr("novalidate","novalidate").addClass(this.options.elementClass).on("submit.validate",function(a){a.preventDefault();d.validate()}).on("click.validate",this.options.submitButtons,function(){d.$submitButton=a(this);d._submitIfValid=!0}).find("[name], [data-validate-field]").each(function(){var c=a(this),b=c.attr("name")||c.attr("data-validate-field"),
k=d._parseOptions(c);k&&(c.attr("data-validate-field",b),f.fields[b]=a.extend({},k,f.fields[b]))});this.options=a.extend(!0,this.options,f);this.$hiddenButton=a("<button/>").attr("type","submit").prependTo(this.$form).addClass("hidden-submit").css({display:"none",width:0,height:0});this.$form.on("click.validate",'[type="submit"]',function(c){c.isDefaultPrevented()||(c=a(c.target),c=c.is('[type="submit"]')?c.eq(0):c.parent('[type="submit"]').eq(0),!d.options.submitButtons||c.is(d.options.submitButtons)||
c.is(d.$hiddenButton)||d.$form.off("submit.validate").submit())});for(var c in this.options.fields)this._initField(c);this.$form.trigger(a.Event(this.options.events.formInit),{validate:this,options:this.options});if(this.options.onSuccess)this.$form.on(this.options.events.formSuccess,function(c){a.fn.Validator.helpers.call(d.options.onSuccess,[c])});if(this.options.onError)this.$form.on(this.options.events.formError,function(c){a.fn.Validator.helpers.call(d.options.onError,[c])})},_parseOptions:function(d){var f=
d.attr("name")||d.attr("data-validate-field"),c={},e,b,k,h,g,l,m;for(b in a.fn.Validator.validators){e=a.fn.Validator.validators[b];h="data-validate-"+b.toLowerCase();g=d.attr(h)+"";l="function"===typeof e.enableByHtml5?e.enableByHtml5(d):null;if("object"===typeof e.html5Attributes)for(k in e.html5Attributes)if(d.is("[data-validate-"+b.toLowerCase()+"-"+k+"]")){g="true";break}if(l&&"false"!==g||!0!==l&&(""===g||"true"===g||h===g.toLowerCase()))for(m in e.html5Attributes=a.extend({},{message:"message",
onerror:"onError",onsuccess:"onSuccess"},e.html5Attributes),c[b]=a.extend({},!0===l?{}:l,c[b]),e.html5Attributes)if(h=e.html5Attributes[m],g="data-validate-"+b.toLowerCase()+"-"+m,l=d.attr(g))"true"===l||g===l.toLowerCase()?l=!0:"false"===l&&(l=!1),c[b][h]=l}d={autoFocus:d.attr("data-validate-autofocus"),disptype:d.attr("data-validate-disptype"),container:d.attr("data-validate-container"),excluded:d.attr("data-validate-excluded"),icons:d.attr("data-validate-icons"),container:d.attr("data-validate-container"),
group:d.attr("data-validate-group"),message:d.attr("data-validate-message"),onError:d.attr("data-validate-onerror"),onStatus:d.attr("data-validate-onstatus"),onSuccess:d.attr("data-validate-onsuccess"),selector:d.attr("data-validate-selector"),threshold:d.attr("data-validate-threshold"),trigger:d.attr("data-validate-trigger"),verbose:d.attr("data-validate-verbose"),validators:c};e=a.isEmptyObject(d);return!a.isEmptyObject(c)||!e&&this.options.fields&&this.options.fields[f]?(d.validators=c,d):null},
_initField:function(d){var f=a([]);switch(typeof d){case "object":f=d;d=d.attr("data-validate-field");break;case "string":f=this.getFieldElements(d),f.attr("data-validate-field",d)}if(0!==f.length&&null!==this.options.fields[d]&&null!==this.options.fields[d].validators){for(var c in this.options.fields[d].validators)a.fn.Validator.validators[c]||delete this.options.fields[d].validators[c];null===this.options.fields[d].enabled&&(this.options.fields[d].enabled=!0);for(var e=this,b=f.length,k=f.attr("type"),
h=1===b||"radio"===k||"checkbox"===k,g,l="radio"===k||"date"===k||"checkbox"===k||"file"===k||"SELECT"===f.eq(0).get(0).tagName?"change":this._changeEvent,l=(this.options.fields[d].trigger||this.options.trigger||l).split(" "),m=a.map(l,function(b){return b+".update.validate"}).join(" "),u=0;u<b;u++){var n=f.eq(u);g=this.options.fields[d].group||this.options.group;var v=n.parents(g),C="function"===typeof(this.options.fields[d].container||this.options.container)?(this.options.fields[d].container||this.options.container).call(this,
n,this):this.options.fields[d].container||this.options.container,s=C&&"tooltip"!==C&&"popover"!==C?a(C):this._getMessageContainer(n,g);C&&"tooltip"!==C&&"popover"!==C&&s.addClass("has-error");s.find('[class|=help][data-validate-validator][data-validate-for="'+d+'"]').remove();v.find('i[data-validate-icon-for="'+d+'"]').remove();n.off(m).on(m,function(){e.updateStatus(a(this),e.STATUS_NOT_VALIDATED)});n.data("validate.messages",s);for(c in this.options.fields[d].validators){n.data("validate.result."+
c,this.STATUS_NOT_VALIDATED);if("inline"===this.options.disptype||"inline"===this.options.fields[d].disptype)g="inline";g="inline-block"===this.options.disptype||"inline-block"===this.options.fields[d].disptype?"inline-block":"block";h&&u!==b-1||a("<ins/>").css("display","none").addClass("help-"+g).attr("data-validate-validator",c).attr("data-validate-for",d).attr("data-validate-result",this.STATUS_NOT_VALIDATED).html(this._getMessage(d,c)).appendTo(s);"function"===typeof a.fn.Validator.validators[c].init&&
a.fn.Validator.validators[c].init(this,n,this.options.fields[d].validators[c])}if(!1!==this.options.fields[d].icons&&"false"!==this.options.fields[d].icons&&this.options.icons&&this.options.icons.validating&&this.options.icons.invalid&&this.options.icons.valid&&(!h||u===b-1)){v.addClass("has-feedback");g=a("<i/>").css("display","none").addClass("form-control-feedback").attr("data-validate-icon-for",d).insertAfter(n);if("checkbox"===k||"radio"===k)s=n.parent(),s.hasClass(k)?g.insertAfter(s):s.parent().hasClass(k)&&
g.insertAfter(s.parent());0===v.find("label").length&&g.addClass("validate-no-label");0!==v.find(".input-group").length&&g.addClass("validate-icon-input-group").insertAfter(v.find(".input-group").eq(0));h?u===b-1&&f.data("validate.icon",g):n.data("validate.icon",g);if(C)n.off("focus.container.validate").on("focus.container.validate",function(){switch(C){case "tooltip":a(this).data("validate.icon").tooltip("show");break;case "popover":a(this).data("validate.icon").popover("show")}}).off("blur.container.validate").on("blur.container.validate",
function(){switch(C){case "tooltip":a(this).data("validate.icon").tooltip("show");break;case "popover":a(this).data("validate.icon").popover("show")}})}}f.on(this.options.events.fieldSuccess,function(b,d){var c=e.getOptions(d.field,null,"onSuccess");c&&a.fn.Validator.helpers.call(c,[b,d])}).on(this.options.events.fieldError,function(b,d){var c=e.getOptions(d.field,null,"onError");c&&a.fn.Validator.helpers.call(c,[b,d])}).on(this.options.events.fieldStatus,function(b,d){var c=e.getOptions(d.field,
null,"onStatus");c&&a.fn.Validator.helpers.call(c,[b,d])}).on(this.options.events.validatorError,function(b,d){var c=e.getOptions(d.field,d.validator,"onError");c&&a.fn.Validator.helpers.call(c,[b,d])}).on(this.options.events.validatorSuccess,function(b,d){var c=e.getOptions(d.field,d.validator,"onSuccess");c&&a.fn.Validator.helpers.call(c,[b,d])});m=a.map(l,function(b){return b+".live.validate"}).join(" ");switch(this.options.live){case "submitted":break;case "disabled":f.off(m);break;default:f.off(m).on(m,
function(){e._exceedThreshold(a(this))&&e.validateField(a(this))})}f.trigger(a.Event(this.options.events.fieldInit),{validate:this,field:d,element:f})}},_getMessage:function(d,f){if(!(this.options.fields[d]&&a.fn.Validator.validators[f]&&this.options.fields[d].validators&&this.options.fields[d].validators[f]))return"";var c=this.options.fields[d].validators[f];switch(!0){case !!c.message:return c.message;case !!this.options.fields[d].message:return this.options.fields[d].message;case !!a.fn.Validator.i18n[f]:return a.fn.Validator.i18n[f]["default"];
default:return this.options.message}},_getMessageContainer:function(a,f){var c=a.parent();if(c.is(f))return c;if(c.is("body"))throw Error("This is no "+f+".");var e=c.attr("class");if(!e)return this._getMessageContainer(c,f);for(var e=e.split(" "),b=e.length,k=0;k<b;k++)if(/^col-(xs|sm|md|lg)-\d+$/.test(e[k])||/^col-(xs|sm|md|lg)-offset-\d+$/.test(e[k]))return c;return this._getMessageContainer(c,f)},_submit:function(){var d=this.isValid(),f=a.Event(d?this.options.events.formSuccess:this.options.events.formError);
this.$form.trigger(f);this.$submitButton&&(this.disableSubmitButtons(!1),d?this._onSuccess(f):this._onError(f))},_isExcluded:function(d){var f=d.attr("data-validate-excluded"),c=d.attr("data-validate-field")||d.attr("name");switch(!0){case !!c&&this.options.fields&&this.options.fields[c]&&("true"===this.options.fields[c].excluded||!0===this.options.fields[c].excluded):case "true"===f:case ""===f:return!0;case !!c&&this.options.fields&&this.options.fields[c]&&("false"===this.options.fields[c].excluded||
!1===this.options.fields[c].excluded):case "false"===f:return!1;default:if(this.options.excluded)for("string"===typeof this.options.excluded&&(this.options.excluded=a.map(this.options.excluded.split(","),function(d){return a.trim(d)})),f=this.options.excluded.length,c=0;c<f;c++)if("string"===typeof this.options.excluded[c]&&d.is(this.options.excluded[c])||"function"===typeof this.options.excluded[c]&&!0===this.options.excluded[c].call(this,d,this))return!0;return!1}},_exceedThreshold:function(d){var f=
d.attr("data-validate-field");return(f=this.options.fields[f].threshold||this.options.threshold)?-1!==a.inArray(d.attr("type"),"button checkbox file hidden image radio reset submit".split(" "))||d.val().length>=f:!0},_onError:function(d){if(!d.isDefaultPrevented()){if("submitted"===this.options.live){this.options.live="enabled";var f=this,c;for(c in this.options.fields)(function(b){b=f.getFieldElements(b);if(b.length){var d=a(b[0]).attr("type"),d="radio"===d||"checkbox"===d||"file"===d||"SELECT"===
a(b[0]).get(0).tagName?"change":f._changeEvent,d=a.map((f.options.fields[c].trigger||f.options.trigger||d).split(" "),function(b){return b+".live.validate"}).join(" ");b.off(d).on(d,function(){f._exceedThreshold(a(this))&&f.validateField(a(this))})}})(c)}for(var e=0;e<this.$invalidFields.length;e++)if(d=this.$invalidFields.eq(e),this._isOptionEnabled(d.attr("data-validate-field"),"autoFocus")){var e=d.parents(".tab-pane"),b;e&&(b=e.attr("id"))&&a('a[href="#'+b+'"][data-toggle="tab"]').tab("show");
d.focus();break}}},_onSuccess:function(a){a.isDefaultPrevented()||this.defaultSubmit()},_onFieldValidated:function(d,f){var c=d.attr("data-validate-field"),e=this.options.fields[c].validators,b={},k=0,h={validate:this,field:c,element:d,validator:f,result:d.data("validate.response."+f)};if(f)switch(d.data("validate.result."+f)){case this.STATUS_INVALID:d.trigger(a.Event(this.options.events.validatorError),h);break;case this.STATUS_VALID:d.trigger(a.Event(this.options.events.validatorSuccess),h)}b[this.STATUS_NOT_VALIDATED]=
0;b[this.STATUS_VALIDATING]=0;b[this.STATUS_INVALID]=0;b[this.STATUS_VALID]=0;for(var g in e)if(!1!==e[g].enabled){k++;var l=d.data("validate.result."+g);l&&b[l]++}b[this.STATUS_VALID]===k?(this.$invalidFields=this.$invalidFields.not(d),d.trigger(a.Event(this.options.events.fieldSuccess),h)):(0===b[this.STATUS_NOT_VALIDATED]||!this._isOptionEnabled(c,"verbose"))&&0===b[this.STATUS_VALIDATING]&&0<b[this.STATUS_INVALID]&&(this.$invalidFields=this.$invalidFields.add(d),d.trigger(a.Event(this.options.events.fieldError),
h))},_isOptionEnabled:function(a,f){return!this.options.fields[a]||"true"!==this.options.fields[a][f]&&!0!==this.options.fields[a][f]?!this.options.fields[a]||"false"!==this.options.fields[a][f]&&!1!==this.options.fields[a][f]?"true"===this.options[f]||!0===this.options[f]:!1:!0},getFieldElements:function(d){this._cacheFields[d]||(this._cacheFields[d]=this.options.fields[d]&&this.options.fields[d].selector?a(this.options.fields[d].selector):this.$form.find('[name="'+d+'"]'));return this._cacheFields[d]},
getOptions:function(a,f,c){if(!a)return c?this.options[c]:this.options;"object"===typeof a&&(a=a.attr("data-validate-field"));if(!this.options.fields[a])return null;a=this.options.fields[a];return f?a.validators&&a.validators[f]?c?a.validators[f][c]:a.validators[f]:null:c?a[c]:a},disableSubmitButtons:function(a){var f=this;a?"disabled"!==this.options.live&&this.$form.find(this.options.submitButtons).prop("disabled",!0):setTimeout(function(){f.$form.find(f.options.submitButtons).prop("disabled",!1)},
200);return this},validate:function(){if(!this.options.fields)return this;this.disableSubmitButtons(!0);this._submitIfValid=!1;for(var a in this.options.fields)this.validateField(a);this._submit();this._submitIfValid=!0;return this},validateField:function(d){var f=a([]);switch(typeof d){case "object":f=d;d=d.attr("data-validate-field");break;case "string":f=this.getFieldElements(d)}if(0===f.length||!this.options.fields[d]||!1===this.options.fields[d].enabled)return this;for(var c=this,e=f.attr("type"),
b="radio"===e||"checkbox"===e?1:f.length,k="radio"===e||"checkbox"===e,e=this.options.fields[d].validators,h=this._isOptionEnabled(d,"verbose"),g,l,m=0;m<b;m++){var u=f.eq(m);if(!this._isExcluded(u)){var n=!1;for(g in e){u.data("validate.dfs."+g)&&u.data("validate.dfs."+g).reject();if(n)break;l=u.data("validate.result."+g);if(l===this.STATUS_VALID||l===this.STATUS_INVALID)this._onFieldValidated(u,g);else if(!1===e[g].enabled)this.updateStatus(k?d:u,this.STATUS_VALID,g);else if(u.data("validate.result."+
g,this.STATUS_VALIDATING),l=a.fn.Validator.validators[g].validate(this,u,e[g]),"object"===typeof l&&l.resolve)this.updateStatus(k?d:u,this.STATUS_VALIDATING,g),u.data("validate.dfs."+g,l),l.done(function(b,a,d){b.removeData("validate.dfs."+a).data("validate.response."+a,d);d.message&&c.updateMessage(b,a,d.message);c.updateStatus(k?b.attr("data-validate-field"):b,d.valid?c.STATUS_VALID:c.STATUS_INVALID,a);d.valid&&!0===c._submitIfValid?c._submit():d.valid||h||(n=!0)});else if("object"===typeof l&&
void 0!==l.valid&&void 0!==l.message){if(u.data("validate.response."+g,l),this.updateMessage(k?d:u,g,l.message),this.updateStatus(k?d:u,l.valid?this.STATUS_VALID:this.STATUS_INVALID,g),!l.valid&&!h)break}else if("boolean"===typeof l&&(u.data("validate.response."+g,l),this.updateStatus(k?d:u,l?this.STATUS_VALID:this.STATUS_INVALID,g),!l&&!h))break}}}return this},updateMessage:function(d,f,c){var e=a([]);switch(typeof d){case "object":e=d;d=d.attr("data-validate-field");break;case "string":e=this.getFieldElements(d)}e.each(function(){a(this).data("validate.messages").find('.help-block[data-validate-validator="'+
f+'"][data-validate-for="'+d+'"]').html(c)})},updateStatus:function(d,f,c){var e=a([]);switch(typeof d){case "object":e=d;d=d.attr("data-validate-field");break;case "string":e=this.getFieldElements(d)}f===this.STATUS_NOT_VALIDATED&&(this._submitIfValid=!1);for(var b=e.attr("type"),k=this.options.fields[d].group||this.options.group,b="radio"===b||"checkbox"===b?1:e.length,h=0;h<b;h++){var g=e.eq(h);if(!this._isExcluded(g)){var l=g.parents(k),m=g.data("validate.messages").find('[class|=help][data-validate-validator][data-validate-for="'+
d+'"]'),u=c?m.filter('[data-validate-validator="'+c+'"]'):m,n=g.data("validate.icon"),v="function"===typeof(this.options.fields[d].container||this.options.container)?(this.options.fields[d].container||this.options.container).call(this,g,this):this.options.fields[d].container||this.options.container,C=null;if(c)g.data("validate.result."+c,f);else for(var s in this.options.fields[d].validators)g.data("validate.result."+s,f);u.attr("data-validate-result",f);var L=g.parents(".tab-pane"),P,Z;L&&(P=L.attr("id"))&&
(Z=a('a[href="#'+P+'"][data-toggle="tab"]').parent());switch(f){case this.STATUS_VALIDATING:C=null;l.removeClass("has-success").removeClass("has-error");n&&n.removeClass(this.options.icons.valid).removeClass(this.options.icons.invalid).addClass(this.options.icons.validating).css("display","");Z&&Z.removeClass("validate-tab-success").removeClass("validate-tab-error");break;case this.STATUS_INVALID:C=!1;l.removeClass("has-success").addClass("has-error");n&&n.removeClass(this.options.icons.valid).removeClass(this.options.icons.validating).addClass(this.options.icons.invalid).css("display",
"");Z&&Z.removeClass("validate-tab-success").addClass("validate-tab-error");break;case this.STATUS_VALID:C=0===m.filter('[data-validate-result="'+this.STATUS_NOT_VALIDATED+'"]').length?m.filter('[data-validate-result="'+this.STATUS_VALID+'"]').length===m.length:null;null!==C&&n&&n.removeClass(this.options.icons.invalid).removeClass(this.options.icons.validating).removeClass(this.options.icons.valid).addClass(C?this.options.icons.valid:this.options.icons.invalid).css("display","");l.removeClass("has-error has-success").addClass(this.isValidContainer(l)?
"has-success":"has-error");Z&&Z.removeClass("validate-tab-success").removeClass("validate-tab-error").addClass(this.isValidContainer(L)?"validate-tab-success":"validate-tab-error");break;default:C=null,this.disableSubmitButtons(!1),l.removeClass("has-success").removeClass("has-error"),n&&n.removeClass(this.options.icons.valid).removeClass(this.options.icons.invalid).removeClass(this.options.icons.validating).hide(),Z&&Z.removeClass("validate-tab-success").removeClass("validate-tab-error")}switch(!0){case n&&
"tooltip"===v:!1===C?n.css("cursor","pointer").tooltip("destroy").tooltip({container:"body",html:!0,placement:"auto top",title:m.filter('[data-validate-result="'+this.STATUS_INVALID+'"]').eq(0).html()}):n.css("cursor","").tooltip("destroy");break;case n&&"popover"===v:!1===C?n.css("cursor","pointer").popover("destroy").popover({container:"body",content:m.filter('[data-validate-result="'+this.STATUS_INVALID+'"]').eq(0).html(),html:!0,placement:"auto top",trigger:"hover click"}):n.css("cursor","").popover("destroy");
break;default:f===this.STATUS_INVALID?u.show():u.hide()}g.trigger(a.Event(this.options.events.fieldStatus),{validate:this,field:d,element:g,status:f});this._onFieldValidated(g,c)}}return this},isValid:function(){for(var a in this.options.fields)if(!this.isValidField(a))return!1;return!0},isValidField:function(d){var f=a([]);switch(typeof d){case "object":f=d;d=d.attr("data-validate-field");break;case "string":f=this.getFieldElements(d)}if(0===f.length||!this.options.fields[d]||!1===this.options.fields[d].enabled)return!0;
for(var c=f.attr("type"),c="radio"===c||"checkbox"===c?1:f.length,e,b,k,h=0;h<c;h++)if(e=f.eq(h),!this._isExcluded(e))for(b in this.options.fields[d].validators)if(!1!==this.options.fields[d].validators[b].enabled&&(k=e.data("validate.result."+b),k!==this.STATUS_VALID))return!1;return!0},isValidContainer:function(d){var f=this,c={};d="string"===typeof d?a(d):d;if(0===d.length)return!0;d.find("[data-validate-field]").each(function(){var b=a(this),d=b.attr("data-validate-field");f._isExcluded(b)||c[d]||
(c[d]=b)});for(var e in c)if(0<c[e].data("validate.messages").find('[class|=help][data-validate-validator][data-validate-for="'+e+'"]').filter('[data-validate-result="'+this.STATUS_INVALID+'"]').length)return!1;return!0},defaultSubmit:function(){this.$submitButton&&a("<input/>").attr("type","hidden").attr("data-validate-submit-hidden","").attr("name",this.$submitButton.attr("name")).val(this.$submitButton.val()).appendTo(this.$form);this.$form.off("submit.validate").submit()},getInvalidFields:function(){return this.$invalidFields},
getSubmitButton:function(){return this.$submitButton},getMessages:function(d,f){var c=this,e=[],b=a([]);switch(!0){case d&&"object"===typeof d:b=d;break;case d&&"string"===typeof d:var k=this.getFieldElements(d);0<k.length&&(b=k.attr("type"),b="radio"===b||"checkbox"===b?k.eq(0):k);break;default:b=this.$invalidFields}var h=f?'[data-validate-validator="'+f+'"]':"";b.each(function(){e=e.concat(a(this).data("validate.messages").find('[class|=help][data-validate-for="'+a(this).attr("data-validate-field")+
'"][data-validate-result="'+c.STATUS_INVALID+'"]'+h).map(function(){var b=a(this).attr("data-validate-validator"),d=a(this).attr("data-validate-for");return!1===c.options.fields[d].validators[b].enabled?"":a(this).html()}).get())});return e},updateOption:function(a,f,c,e){"object"===typeof a&&(a=a.attr("data-validate-field"));this.options.fields[a]&&this.options.fields[a].validators[f]&&(this.options.fields[a].validators[f][c]=e,this.updateStatus(a,this.STATUS_NOT_VALIDATED,f));return this},addField:function(d,
f){var c=a([]);switch(typeof d){case "object":c=d;d=d.attr("data-validate-field")||d.attr("name");break;case "string":delete this._cacheFields[d],c=this.getFieldElements(d)}c.attr("data-validate-field",d);for(var e=c.attr("type"),b="radio"===e||"checkbox"===e?1:c.length,k=0;k<b;k++){var h=c.eq(k),g=this._parseOptions(h),g=null===g?f:a.extend(!0,f,g);this.options.fields[d]=a.extend(!0,this.options.fields[d],g);this._cacheFields[d]=this._cacheFields[d]?this._cacheFields[d].add(h):h;this._initField("checkbox"===
e||"radio"===e?d:h)}this.$form.trigger(a.Event(this.options.events.fieldAdded),{field:d,element:c,options:this.options.fields[d]});return this},removeField:function(d){var f=a([]);switch(typeof d){case "object":f=d;d=d.attr("data-validate-field")||d.attr("name");f.attr("data-validate-field",d);break;case "string":f=this.getFieldElements(d)}if(0===f.length)return this;for(var c=f.attr("type"),e="radio"===c||"checkbox"===c?1:f.length,b=0;b<e;b++){var k=f.eq(b);this.$invalidFields=this.$invalidFields.not(k);
this._cacheFields[d]=this._cacheFields[d].not(k)}this._cacheFields[d]&&0!==this._cacheFields[d].length||delete this.options.fields[d];"checkbox"!==c&&"radio"!==c||this._initField(d);this.$form.trigger(a.Event(this.options.events.fieldRemoved),{field:d,element:f});return this},resetField:function(d,f){var c=a([]);switch(typeof d){case "object":c=d;d=d.attr("data-validate-field");break;case "string":c=this.getFieldElements(d)}var e=c.length;if(this.options.fields[d])for(var b=0;b<e;b++)for(var k in this.options.fields[d].validators)c.eq(b).removeData("validate.dfs."+
k);this.updateStatus(d,this.STATUS_NOT_VALIDATED);f&&(e=c.attr("type"),"radio"===e||"checkbox"===e?c.removeAttr("checked").removeAttr("selected"):c.val(""));return this},resetForm:function(d){for(var f in this.options.fields)this.resetField(f,d);this.$invalidFields=a([]);this.$submitButton=null;this.disableSubmitButtons(!1);return this},revalidateField:function(a){this.updateStatus(a,this.STATUS_NOT_VALIDATED).validateField(a);return this},enableFieldValidators:function(a,f,c){var e=this.options.fields[a].validators;
if(c&&e&&e[c]&&e[c].enabled!==f)this.options.fields[a].validators[c].enabled=f,this.updateStatus(a,this.STATUS_NOT_VALIDATED,c);else if(!c&&this.options.fields[a].enabled!==f){this.options.fields[a].enabled=f;for(var b in e)this.enableFieldValidators(a,f,b)}return this},getDynamicOption:function(d,f){var c="string"===typeof d?this.getFieldElements(d):d,e=c.val();if("function"===typeof f)return a.fn.Validator.helpers.call(f,[e,this,c]);if("string"===typeof f){var b=this.getFieldElements(f);return b.length?
b.val():a.fn.Validator.helpers.call(f,[e,this,c])||f}return null},destroy:function(){var d,f,c,e,b,k;for(d in this.options.fields){f=this.getFieldElements(d);k=this.options.fields[d].group||this.options.group;for(var h=0;h<f.length;h++){c=f.eq(h);c.data("validate.messages").find('[class|=help][data-validate-validator][data-validate-for="'+d+'"]').remove().end().end().removeData("validate.messages").parents(k).removeClass("has-feedback has-error has-success").end().off(".validate").removeAttr("data-validate-field");
if(b=c.data("validate.icon"))switch("function"===typeof(this.options.fields[d].container||this.options.container)?(this.options.fields[d].container||this.options.container).call(this,c,this):this.options.fields[d].container||this.options.container){case "tooltip":b.tooltip("destroy").remove();break;case "popover":b.popover("destroy").remove();break;default:b.remove()}c.removeData("validate.icon");for(e in this.options.fields[d].validators)c.data("validate.dfs."+e)&&c.data("validate.dfs."+e).reject(),
c.removeData("validate.result."+e).removeData("validate.response."+e).removeData("validate.dfs."+e),"function"===typeof a.fn.Validator.validators[e].destroy&&a.fn.Validator.validators[e].destroy(this,c,this.options.fields[d].validators[e])}}this.disableSubmitButtons(!1);this.$hiddenButton.remove();this.$form.removeClass(this.options.elementClass).off(".validate").removeData("Validator").find("[data-validate-submit-hidden]").remove().end().find('[type="submit"]').off("click.validate")}};a.fn.Validator=
function(d){var f=arguments;return this.each(function(){var c=a(this),e=c.data("Validator"),b="object"===typeof d&&d;e||(e=new m(this,b),c.data("Validator",e));"string"===typeof d&&e[d].apply(e,Array.prototype.slice.call(f,1))})};a.fn.Validator.DEFAULT_OPTIONS={autoFocus:!0,container:null,elementClass:"validate-form",events:{formInit:"init.form.validate",formError:"error.form.validate",formSuccess:"success.form.validate",fieldAdded:"added.field.validate",fieldRemoved:"removed.field.validate",fieldInit:"init.field.validate",
fieldError:"error.field.validate",fieldSuccess:"success.field.validate",fieldStatus:"status.field.validate",validatorError:"error.validator.validate",validatorSuccess:"success.validator.validate"},excluded:[":disabled","input[type=hidden]",":not(:visible)"],fields:null,icons:{valid:null,invalid:null,validating:null},group:".form-group",live:"enabled",message:"This value is not valid",submitButtons:'[type="submit"]',threshold:null,verbose:!0};a.fn.Validator.validators={};a.fn.Validator.i18n={};a.fn.Validator.Constructor=
m;a.fn.Validator.helpers={call:function(a,f){if("function"===typeof a)return a.apply(this,f);if("string"===typeof a){"()"===a.substring(a.length-2)&&(a=a.substring(0,a.length-2));for(var c=a.split("."),e=c.pop(),b=window,k=0;k<c.length;k++)b=b[c[k]];return b[e].apply(this,f)}},format:function(d,f){a.isArray(f)||(f=[f]);for(var c in f)d=d.replace("%s",f[c]);return d},date:function(a,f,c,e){if(isNaN(a)||isNaN(f)||isNaN(c)||2<c.length||2<f.length||4<a.length)return!1;c=parseInt(c,10);f=parseInt(f,10);
a=parseInt(a,10);if(1E3>a||9999<a||0>=f||12<f)return!1;var b=[31,28,31,30,31,30,31,31,30,31,30,31];if(0===a%400||0!==a%100&&0===a%4)b[1]=29;if(0>=c||c>b[f-1])return!1;if(!0===e){var k=new Date;e=k.getFullYear();b=k.getMonth();k=k.getDate();return a<e||a===e&&f-1<b||a===e&&f-1===b&&c<k}return!0},luhn:function(a){for(var f=a.length,c=0,e=[[0,1,2,3,4,5,6,7,8,9],[0,2,4,6,8,1,3,5,7,9]],b=0;f--;)b+=e[c][parseInt(a.charAt(f),10)],c^=1;return 0===b%10&&0<b}};a.fn.Validator.validators.alpha={validate:function(a,
f,c){a=f.val();return""===a?!0:""===a||/^[a-zA-Z]+$/.test(a)}};a.fn.Validator.validators.alphadigits={validate:function(a,f,c){a=f.val();return""===a?!0:""===a||/^[a-zA-Z\d]+$/.test(a)}};a.fn.Validator.validators.between={html5Attributes:{message:"message",min:"min",max:"max",inclusive:"inclusive"},enableByHtml5:function(a){return"range"===a.attr("type")?{min:a.attr("min"),max:a.attr("max")}:!1},validate:function(d,f,c){var e=f.val();if(""===e)return!0;var e=this._format(e),b=a.isNumeric(c.min)?c.min:
d.getDynamicOption(f,c.min);d=a.isNumeric(c.max)?c.max:d.getDynamicOption(f,c.max);f=this._format(b);var k=this._format(d),e=Number(e);return!0===c.inclusive||void 0===c.inclusive?{valid:e>=f&&e<=k,message:a.fn.Validator.helpers.format(c.message||a.fn.Validator.i18n.between["default"],[b,d])}:{valid:e>f&&e<k,message:a.fn.Validator.helpers.format(c.message||a.fn.Validator.i18n.between.notInclusive,[b,d])}},_format:function(a){return(a+"").replace(",",".")}};a.fn.Validator.validators.callback={html5Attributes:{message:"message",
callback:"callback"},validate:function(d,f,c){var e=f.val(),b=new a.Deferred,k={valid:!0};c.callback&&(d=a.fn.Validator.helpers.call(c.callback,[e,d,f]),k="boolean"===typeof d?{valid:d}:d);b.resolve(f,"callback",k);return b}};a.fn.Validator.validators.choice={html5Attributes:{message:"message",min:"min",max:"max"},validate:function(d,f,c){var e=f.is("select")?d.getFieldElements(f.attr("data-validate-field")).find("option").filter(":selected").length:d.getFieldElements(f.attr("data-validate-field")).filter(":checked").length,
b=c.min?a.isNumeric(c.min)?c.min:d.getDynamicOption(f,c.min):null;d=c.max?a.isNumeric(c.max)?c.max:d.getDynamicOption(f,c.max):null;f=!0;var k=c.message||a.fn.Validator.i18n.choice["default"];if(b&&e<parseInt(b,10)||d&&e>parseInt(d,10))f=!1;switch(!0){case !!b&&!!d:k=a.fn.Validator.helpers.format(c.message||a.fn.Validator.i18n.choice.between,[parseInt(b,10),parseInt(d,10)]);break;case !!b:k=a.fn.Validator.helpers.format(c.message||a.fn.Validator.i18n.choice.less,parseInt(b,10));break;case !!d:k=a.fn.Validator.helpers.format(c.message||
a.fn.Validator.i18n.choice.more,parseInt(d,10))}return{valid:f,message:k}}};a.fn.Validator.validators.cnchar={validate:function(a,f,c){a=f.val();return""===a||/^[\u4e00-\u9fa5]+$/.test(a)}};a.fn.Validator.validators.color={enableByHtml5:function(a){return"color"===a.attr("type")},validate:function(a,f,c){a=f.val();return""===a?!0:/(^#[0-9A-F]{6}$)|(^#[0-9A-F]{3}$)/i.test(a)}};a.fn.Validator.validators.date={html5Attributes:{message:"message",format:"format",min:"min",max:"max",separator:"separator"},
validate:function(d,f,c){var e=f.val();if(""===e)return!0;c.format=c.format||"MM/DD/YYYY";"date"===f.attr("type")&&(c.format="YYYY-MM-DD");var b=c.format.split(" "),k=b[0],h=1<b.length?b[1]:null,g=2<b.length?b[2]:null,e=e.split(" "),l=e[0],m=1<e.length?e[1]:null;if(b.length!==e.length)return{valid:!1,message:c.message||a.fn.Validator.i18n.date["default"]};(b=c.separator)||(b=-1!==l.indexOf("/")?"/":-1!==l.indexOf("-")?"-":null);if(null===b||-1===l.indexOf(b))return{valid:!1,message:c.message||a.fn.Validator.i18n.date["default"]};
l=l.split(b);k=k.split(b);if(l.length!==k.length)return{valid:!1,message:c.message||a.fn.Validator.i18n.date["default"]};var e=l[a.inArray("YYYY",k)],u=l[a.inArray("MM",k)],l=l[a.inArray("DD",k)];if(!e||!u||!l||4!==e.length)return!1;var n=null,v=null,C=null;if(h){h=h.split(":");m=m.split(":");if(h.length!==m.length)return!1;v=0<m.length?m[0]:null;n=1<m.length?m[1]:null;if(C=2<m.length?m[2]:null){if(isNaN(C)||2<C.length)return!1;C=parseInt(C,10);if(0>C||60<C)return!1}if(v){if(isNaN(v)||2<v.length)return!1;
v=parseInt(v,10);if(0>v||24<=v||g&&12<v)return!1}if(n){if(isNaN(n)||2<n.length)return!1;n=parseInt(n,10);if(0>n||59<n)return!1}}var h=a.fn.Validator.helpers.date(e,u,l),g=a.fn.Validator.i18n.date["default"],s=m=null,L=c.min,P=c.max;L&&(isNaN(Date.parse(L))&&(L=d.getDynamicOption(f,L)),m=this._parseDate(L,k,b));P&&(isNaN(Date.parse(P))&&(P=d.getDynamicOption(f,P)),s=this._parseDate(P,k,b));l=new Date(e,u,l,v,n,C);switch(!0){case L&&!P&&h:h=l.getTime()>=m.getTime();g=c.message||a.fn.Validator.helpers.format(a.fn.Validator.i18n.date.min,
L);break;case P&&!L&&h:h=l.getTime()<=s.getTime();g=c.message||a.fn.Validator.helpers.format(a.fn.Validator.i18n.date.max,P);break;case P&&L&&h:h=l.getTime()<=s.getTime()&&l.getTime()>=m.getTime(),g=c.message||a.fn.Validator.helpers.format(a.fn.Validator.i18n.date.range,[L,P])}return{valid:h,message:g}},_parseDate:function(d,f,c){var e=0,b=0,k=0,h=d.split(" ");d=h[0];h=1<h.length?h[1]:null;d=d.split(c);c=d[a.inArray("YYYY",f)];var g=d[a.inArray("MM",f)];f=d[a.inArray("DD",f)];h&&(h=h.split(":"),b=
0<h.length?h[0]:null,e=1<h.length?h[1]:null,k=2<h.length?h[2]:null);return new Date(c,g,f,b,e,k)}};a.fn.Validator.validators.different={html5Attributes:{message:"message",field:"field"},validate:function(a,f,c){f=f.val();if(""===f)return!0;c=c.field.split(",");for(var e=!0,b=0;b<c.length;b++){var k=a.getFieldElements(c[b]);if(null!=k&&0!==k.length){var h=k.val();f===h?e=!1:""!==h&&a.updateStatus(k,a.STATUS_VALID,"different")}}return e}};a.fn.Validator.validators.digits={validate:function(a,f,c){a=
f.val();return""===a?!0:/^\d+$/.test(a)}};a.fn.Validator.validators.email={html5Attributes:{message:"message",multiple:"multiple",separator:"separator"},enableByHtml5:function(a){return"email"===a.attr("type")},validate:function(a,f,c){f=f.val();if(""===f)return!0;a=/^(([^<>()[\]\\.,;:\s@\"]+(\.[^<>()[\]\\.,;:\s@\"]+)*)|(\".+\"))@(?:[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?\.)+[a-zA-Z]{2,6}$/;if(!0===c.multiple||"true"===c.multiple){c=this._splitEmail(f,c.separator||/[,;]/);for(f=0;f<c.length;f++)if(!a.test(c[f]))return!1;
return!0}return a.test(f)},_splitEmail:function(a,f){for(var c=a.split(/"/),e=c.length,b=[],k="",h=0;h<e;h++)if(0===h%2){var g=c[h].split(f),l=g.length;if(1===l)k+=g[0];else{b.push(k+g[0]);for(k=1;k<l-1;k++)b.push(g[k]);k=g[l-1]}}else k+='"'+c[h],h<e-1&&(k+='"');b.push(k);return b}};a.fn.Validator.validators.equalto={html5Attributes:{message:"message",field:"field"},validate:function(a,f,c){f=f.val();if(""===f)return!0;var e=a.getFieldElements(c.field);return null===e?!0:f===e.val()?(a.updateStatus(c.field,
a.STATUS_VALID,"equalto"),!0):!1}};a.fn.Validator.validators.file={html5Attributes:{extension:"extension",maxfiles:"maxFiles",minfiles:"minFiles",maxsize:"maxSize",minsize:"minSize",maxtotalsize:"maxTotalSize",mintotalsize:"minTotalSize",message:"message",type:"type"},validate:function(d,f,c){var e=f.val();if(""===e)return!0;d=c.extension?c.extension.toLowerCase().split(","):null;var b=c.type?c.type.toLowerCase().split(","):null;if(window.File&&window.FileList&&window.FileReader){var e=f.get(0).files,
k=e.length,h=0;if(c.maxFiles&&k>parseInt(c.maxFiles,10)||c.minFiles&&k<parseInt(c.minFiles,10))return!1;for(var g=0;g<k;g++)if(h+=e[g].size,f=e[g].name.substr(e[g].name.lastIndexOf(".")+1),c.minSize&&e[g].size<parseInt(c.minSize,10)||c.maxSize&&e[g].size>parseInt(c.maxSize,10)||d&&-1===a.inArray(f.toLowerCase(),d)||e[g].type&&b&&-1===a.inArray(e[g].type.toLowerCase(),b))return!1;if(c.maxTotalSize&&h>parseInt(c.maxTotalSize,10)||c.minTotalSize&&h<parseInt(c.minTotalSize,10))return!1}else if(f=e.substr(e.lastIndexOf(".")+
1),d&&-1===a.inArray(f.toLowerCase(),d))return!1;return!0}};a.fn.Validator.validators.gt={html5Attributes:{message:"message",value:"value",inclusive:"inclusive"},enableByHtml5:function(a){var f=a.attr("type");return(a=a.attr("min"))&&"date"!==f?{value:a}:!1},validate:function(d,f,c){var e=f.val();if(""===e)return!0;e=this._format(e);d=a.isNumeric(c.value)?c.value:d.getDynamicOption(f,c.value);f=this._format(d);e=Number(e);return!0===c.inclusive||void 0===c.inclusive?{valid:e>=f,message:a.fn.Validator.helpers.format(c.message||
a.fn.Validator.i18n.gt["default"],d)}:{valid:e>f,message:a.fn.Validator.helpers.format(c.message||a.fn.Validator.i18n.gt.notInclusive,d)}},_format:function(a){return(a+"").replace(",",".")}};a.fn.Validator.validators.id={html5Attributes:{message:"message",country:"country"},COUNTRY_CODES:["CN"],validate:function(d,f,c){var e=f.val();if(""===e)return!0;var b=c.country||this.COUNTRY_CODES[0];if("string"!==typeof b||-1===a.inArray(b.toUpperCase(),this.COUNTRY_CODES))b=d.getDynamicOption(f,b);return-1===
a.inArray(b,this.COUNTRY_CODES)?{valid:!1,message:a.fn.Validator.helpers.format(a.fn.Validator.i18n.id.countryNotSupported,b)}:this[["_",b.toLowerCase()].join("")](e)?!0:{valid:!1,message:a.fn.Validator.helpers.format(c.message||a.fn.Validator.i18n.id.country,a.fn.Validator.i18n.id.countries[b.toUpperCase()])}},_cn:function(d){function f(a){var c=0;"x"==a[17].toLowerCase()&&(a[17]=10);for(var d=0;17>d;d++)c+=b[d]*a[d];valCodePosition=c%11;return a[17]==k[valCodePosition]?!0:!1}function c(b){var c=
b.substr(6,4),d=b.substr(10,2);b=b.substr(12,2);return a.fn.Validator.helpers.date(c,d,b)?!0:!1}function e(b){var c=parseInt(b.substr(6,2),10)+1900,d=b.substr(8,2);b=b.substr(10,2);return a.fn.Validator.helpers.date(c,d,b)?!0:!1}var b=[7,9,10,5,8,4,2,1,6,3,7,9,10,5,8,4,2,1],k=[1,0,10,9,8,7,6,5,4,3,2];d=d.replace(/ /g,"");if(15==d.length)return e(d);if(18==d.length){var h=d.split("");return c(d)&&f(h)?!0:!1}return!1}};a.fn.Validator.validators.integer={enableByHtml5:function(a){return"number"===a.attr("type")&&
void 0!==a.attr("step")&&0===a.attr("step")%1},validate:function(a,f,c){if(this.enableByHtml5(f)&&f.get(0).validity&&!0===f.get(0).validity.badInput)return!1;a=f.val();return""===a?!0:/^(?:-?(?:0|[1-9][0-9]*))$/.test(a)}};a.fn.Validator.validators.ip={html5Attributes:{message:"message",ipv4:"ipv4",ipv6:"ipv6"},validate:function(d,f,c){f=f.val();if(""===f)return!0;c=a.extend({},{ipv4:!0,ipv6:!0},c);var e=/^(?:(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\.){3}(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)$/,
b=/^\s*((([0-9A-Fa-f]{1,4}:){7}([0-9A-Fa-f]{1,4}|:))|(([0-9A-Fa-f]{1,4}:){6}(:[0-9A-Fa-f]{1,4}|((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(([0-9A-Fa-f]{1,4}:){5}(((:[0-9A-Fa-f]{1,4}){1,2})|:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(([0-9A-Fa-f]{1,4}:){4}(((:[0-9A-Fa-f]{1,4}){1,3})|((:[0-9A-Fa-f]{1,4})?:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9A-Fa-f]{1,4}:){3}(((:[0-9A-Fa-f]{1,4}){1,4})|((:[0-9A-Fa-f]{1,4}){0,2}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9A-Fa-f]{1,4}:){2}(((:[0-9A-Fa-f]{1,4}){1,5})|((:[0-9A-Fa-f]{1,4}){0,3}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9A-Fa-f]{1,4}:){1}(((:[0-9A-Fa-f]{1,4}){1,6})|((:[0-9A-Fa-f]{1,4}){0,4}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(:(((:[0-9A-Fa-f]{1,4}){1,7})|((:[0-9A-Fa-f]{1,4}){0,5}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:)))(%.+)?\s*$/;
d=!1;switch(!0){case c.ipv4&&!c.ipv6:d=e.test(f);c=c.message||a.fn.Validator.i18n.ip.ipv4;break;case !c.ipv4&&c.ipv6:d=b.test(f);c=c.message||a.fn.Validator.i18n.ip.ipv6;break;default:d=e.test(f)||b.test(f),c=c.message||a.fn.Validator.i18n.ip["default"]}return{valid:d,message:c}}};a.fn.Validator.validators.landline={html5Attributes:{message:"message",country:"country"},COUNTRY_CODES:["CN"],validate:function(d,f,c){var e=f.val();if(""===e)return!0;var b=c.country||this.COUNTRY_CODES[0];if("string"!==
typeof b||-1===a.inArray(b,this.COUNTRY_CODES))b=d.getDynamicOption(f,b);if(-1===a.inArray(b.toUpperCase(),this.COUNTRY_CODES))return{valid:!1,message:a.fn.Validator.helpers.format(a.fn.Validator.i18n.landline.countryNotSupported,b)};d=!0;switch(b.toUpperCase()){default:d=/^(0\d{2,3}-?)?[2-9]\d{5,7}(-\d{1,5})?$/.test(e)}return{valid:d,message:a.fn.Validator.helpers.format(c.message||a.fn.Validator.i18n.landline.country,a.fn.Validator.i18n.landline.countries[b])}}};a.fn.Validator.validators.length=
{html5Attributes:{message:"message",min:"min",max:"max",trim:"trim",utf8bytes:"utf8Bytes"},enableByHtml5:function(d){var f={},c=d.attr("maxlength");d=d.attr("minlength");c&&(f.max=parseInt(c,10));d&&(f.min=parseInt(d,10));return a.isEmptyObject(f)?!1:f},validate:function(d,f,c){var e=f.val();if(!0===c.trim||"true"===c.trim)e=a.trim(e);if(""===e)return!0;var b=a.isNumeric(c.min)?c.min:d.getDynamicOption(f,c.min);d=a.isNumeric(c.max)?c.max:d.getDynamicOption(f,c.max);if(c.utf8Bytes){f=e.length;for(var k=
e.length-1;0<=k;k--){var h=e.charCodeAt(k);127<h&&2047>=h?f++:2047<h&&65535>=h&&(f+=2);56320<=h&&57343>=h&&k--}e=f}else e=e.length;f=!0;k=c.message||a.fn.Validator.i18n.length["default"];if(b&&e<parseInt(b,10)||d&&e>parseInt(d,10))f=!1;switch(!0){case !!b&&!!d:k=a.fn.Validator.helpers.format(c.message||a.fn.Validator.i18n.length.between,[parseInt(b,10),parseInt(d,10)]);break;case !!b:k=a.fn.Validator.helpers.format(c.message||a.fn.Validator.i18n.length.more,parseInt(b,10));break;case !!d:k=a.fn.Validator.helpers.format(c.message||
a.fn.Validator.i18n.length.less,parseInt(d,10))}return{valid:f,message:k}}};a.fn.Validator.validators.lt={html5Attributes:{message:"message",value:"value",inclusive:"inclusive"},enableByHtml5:function(a){var f=a.attr("type");return(a=a.attr("max"))&&"date"!==f?{value:a}:!1},validate:function(d,f,c){var e=f.val();if(""===e)return!0;e=this._format(e);d=a.isNumeric(c.value)?c.value:d.getDynamicOption(f,c.value);f=this._format(d);e=Number(e);return!0===c.inclusive||void 0===c.inclusive?{valid:e<=f,message:a.fn.Validator.helpers.format(c.message||
a.fn.Validator.i18n.lt["default"],d)}:{valid:e<f,message:a.fn.Validator.helpers.format(c.message||a.fn.Validator.i18n.lt.notInclusive,d)}},_format:function(a){return(a+"").replace(",",".")}};a.fn.Validator.validators.mobile={html5Attributes:{message:"message",country:"country"},COUNTRY_CODES:["CN"],validate:function(d,f,c){var e=f.val();if(""===e)return!0;var b=c.country||this.COUNTRY_CODES[0];if("string"!==typeof b||-1===a.inArray(b,this.COUNTRY_CODES))b=d.getDynamicOption(f,b);if(-1===a.inArray(b.toUpperCase(),
this.COUNTRY_CODES))return{valid:!1,message:a.fn.Validator.helpers.format(a.fn.Validator.i18n.mobile.countryNotSupported,b)};d=!0;switch(b.toUpperCase()){default:d=/^0?1[3-8]\d{9}$/.test(e)}return{valid:d,message:a.fn.Validator.helpers.format(c.message||a.fn.Validator.i18n.mobile.country,a.fn.Validator.i18n.mobile.countries[b])}}};a.fn.Validator.validators.numeric={html5Attributes:{message:"message",separator:"separator"},enableByHtml5:function(a){return"number"===a.attr("type")&&void 0!==a.attr("step")&&
0!==a.attr("step")%1},validate:function(a,f,c){if(this.enableByHtml5(f)&&f.get(0).validity&&!0===f.get(0).validity.badInput)return!1;a=f.val();if(""===a)return!0;c=c.separator||".";"."!==c&&(a=a.replace(c,"."));return!isNaN(parseFloat(a))&&isFinite(a)}};a.fn.Validator.validators.regexp={html5Attributes:{message:"message",regexp:"regexp"},enableByHtml5:function(a){return(a=a.attr("pattern"))?{regexp:a}:!1},validate:function(a,f,c){a=f.val();return""===a?!0:("string"===typeof c.regexp?RegExp(c.regexp):
c.regexp).test(a)}};a.fn.Validator.validators.remote={html5Attributes:{message:"message",name:"name",type:"type",url:"url",data:"data",delay:"delay"},destroy:function(a,f,c){f.data("validate.remote.timer")&&(clearTimeout(f.data("validate.remote.timer")),f.removeData("validate.remote.timer"))},validate:function(d,f,c){function e(){var b=a.ajax({type:m,headers:u,url:l,dataType:"json",data:g});b.then(function(a){a.valid=!0===a.valid||"true"===a.valid;k.resolve(f,"remote",a)});k.fail(function(){b.abort()});
return k}var b=f.val(),k=new a.Deferred;if(""===b)return k.resolve(f,"remote",{valid:!0}),k;var h=f.attr("data-validate-field"),g=c.data||{},l=c.url,m=c.type||"GET",u=c.headers||{};"function"===typeof g&&(g=g.call(this,d));"string"===typeof g&&(g=JSON.parse(g));"function"===typeof l&&(l=l.call(this,d));g[c.name||h]=b;return c.delay?(f.data("validate.remote.timer")&&clearTimeout(f.data("validate.remote.timer")),f.data("validate.remote.timer",setTimeout(e,c.delay)),k):e()}};a.fn.Validator.validators.required=
{enableByHtml5:function(a){a=a.attr("required")+"";return"required"===a||"true"===a},validate:function(d,f,c){c=f.attr("type");return"radio"===c||"checkbox"===c?0<d.getFieldElements(f.attr("data-validate-field")).filter(":checked").length:"number"===c&&f.get(0).validity&&!0===f.get(0).validity.badInput?!0:""!==a.trim(f.val())}};a.fn.Validator.validators.step={html5Attributes:{message:"message",base:"baseValue",step:"step"},validate:function(d,f,c){d=f.val();if(""===d)return!0;c=a.extend({},{baseValue:0,
step:1},c);d=parseFloat(d);if(!a.isNumeric(d))return!1;var e=d-c.baseValue,b=c.step;0===b?d=1:(d=(e+"").split("."),f=(b+"").split("."),e-=b*Math.floor(e/b),d=Math.pow(10,(1===d.length?0:d[1].length)+(1===f.length?0:f[1].length)),e*=d,f=0<e|-(0>e),d=e%1===0.5*f?(Math.floor(e)+(0<f))/d:Math.round(e)/d);return{valid:0===d||d===c.step,message:a.fn.Validator.helpers.format(c.message||a.fn.Validator.i18n.step["default"],[c.step])}}};a.fn.Validator.validators.tel={html5Attributes:{message:"message",country:"country"},
enableByHtml5:function(a){return"tel"===a.attr("type")},COUNTRY_CODES:["CN"],validate:function(d,f,c){var e=f.val();if(""===e)return!0;var b=c.country||this.COUNTRY_CODES[0];if("string"!==typeof b||-1===a.inArray(b,this.COUNTRY_CODES))b=d.getDynamicOption(f,b);if(-1===a.inArray(b.toUpperCase(),this.COUNTRY_CODES))return{valid:!1,message:a.fn.Validator.helpers.format(a.fn.Validator.i18n.tel.countryNotSupported,b)};d=!0;switch(b.toUpperCase()){default:d=/^((00|\+)?(86(?:-| )))?((1[3-8]\d[- ]?\d{4}[- ]?\d{4})|((0\d{2,3}[- ]?)?([2-9]((\d{2,3}[- ]?\d{4})|(\d{3}[- ]?\d{3})))([- ]\d{1,4})?))$/.test(e)}return{valid:d,
message:a.fn.Validator.helpers.format(c.message||a.fn.Validator.i18n.tel.country,a.fn.Validator.i18n.tel.countries[b])}}};a.fn.Validator.validators.tocase={html5Attributes:{message:"message","case":"case"},validate:function(d,f,c){d=f.val();if(""===d)return!0;f=(c["case"]||"lower").toLowerCase();return{valid:"upper"===f?d===d.toUpperCase():d===d.toLowerCase(),message:c.message||("upper"===f?a.fn.Validator.i18n.tocase.upper:a.fn.Validator.i18n.tocase["default"])}}};a.fn.Validator.validators.url={html5Attributes:{message:"message",
allowlocal:"allowLocal",protocol:"protocol"},enableByHtml5:function(a){return"url"===a.attr("type")},validate:function(a,f,c){a=f.val();if(""===a)return!0;f=!0===c.allowLocal||"true"===c.allowLocal;c=(c.protocol||"http, https, ftp").split(",").join("|").replace(/\s/g,"");return RegExp("^(?:(?:"+c+")://)(?:\\S+(?::\\S*)?@)?(?:"+(f?"":"(?!(?:10|127)(?:\\.\\d{1,3}){3})(?!(?:169\\.254|192\\.168)(?:\\.\\d{1,3}){2})(?!172\\.(?:1[6-9]|2\\d|3[0-1])(?:\\.\\d{1,3}){2})")+"(?:[1-9]\\d?|1\\d\\d|2[01]\\d|22[0-3])(?:\\.(?:1?\\d{1,2}|2[0-4]\\d|25[0-5])){2}(?:\\.(?:[1-9]\\d?|1\\d\\d|2[0-4]\\d|25[0-4]))|(?:(?:[a-z\\u00a1-\\uffff0-9]+-?)*[a-z\\u00a1-\\uffff0-9]+)(?:\\.(?:[a-z\\u00a1-\\uffff0-9]+-?)*[a-z\\u00a1-\\uffff0-9]+)*(?:\\.(?:[a-z\\u00a1-\\uffff]{2,}))"+
(f?"?":"")+")(?::\\d{2,5})?(?:/[^\\s]*)?$","i").test(a)}};a.fn.Validator.validators.zip={html5Attributes:{message:"message",country:"country"},COUNTRY_CODES:["CN"],validate:function(d,f,c){var e=f.val();if(""===e||!c.country)return!0;var b=c.country;if("string"!==typeof b||-1===a.inArray(b,this.COUNTRY_CODES))b=d.getDynamicOption(f,b);if(!b||-1===a.inArray(b.toUpperCase(),this.COUNTRY_CODES))return{valid:!1,message:a.fn.Validator.helpers.format(a.fn.Validator.i18n.zip.countryNotSupported,b)};d=!1;
b=b.toUpperCase();switch(b){default:d=/^\d{6}$/.test(e)}return{valid:d,message:a.fn.Validator.helpers.format(c.message||a.fn.Validator.i18n.zip.country,a.fn.Validator.i18n.zip.countries[b])}}};a.fn.Validator.i18n=a.extend(!0,a.fn.Validator.i18n,{alpha:{"default":"只能输入字母"},alphadigits:{"default":"只能输入字母或数字"},between:{"default":"请输入在 %s 和 %s 之间的数值",notInclusive:"请输入在 %s 和 %s 之间(不含两端)的数值"},callback:{"default":"请输入有效的值"},choice:{"default":"请输入有效的值",less:"请至少选中 %s 个选项",more:"最多只能选中 %s 个选项",between:"请选择 %s 至 %s 个选项"},
cnchar:{"default":"只能输入中文字符"},color:{"default":"请输入有效的颜色值"},date:{"default":"请输入有效的日期",min:"请输入 %s 或之后的日期",max:"请输入 %s 或以前的日期",range:"请输入 %s 和 %s 之间的日期"},different:{"default":"请输入不同的值"},digits:{"default":"请输入有效的数字"},email:{"default":"请输入有效的email地址"},equalto:{"default":"请输入一样的值"},file:{"default":"请选择有效的文件"},gt:{"default":"请输入大于等于 %s 的数值",notInclusive:"请输入大于 %s 的数值"},hexColor:{"default":"请输入有效的16进制颜色值"},id:{"default":"请输入有效的身份证件号码",countryNotSupported:"不支持 %s 国家或地区",country:"请输入有效的 %s 国家或地区的身份证件号码",
countries:{CN:""}},integer:{"default":"请输入有效的整数值"},ip:{"default":"请输入有效的IP地址",ipv4:"请输入有效的IPv4地址",ipv6:"请输入有效的IPv6地址"},length:{"default":"请输入符合长度限制的值",less:"最多只能输入 %s 个字符",more:"需要输入至少 %s 个字符",between:"请输入 %s 至 %s 个字符"},lt:{"default":"请输入小于等于 %s 的数值",notInclusive:"请输入小于 %s 的数值"},landline:{"default":"请输入有效的固定电话号码",countryNotSupported:"不支持 %s 国家或地区",country:"请输入有效的%s国家或地区的固定电话号码",countries:{CN:""}},mobile:{"default":"请输入有效的手机号码",countryNotSupported:"不支持该国家代码 %s",country:"请输入有效的%s手机号码",countries:{CN:""}},
numeric:{"default":"请输入有效的数值，允许小数"},regexp:{"default":"请输入符合正则表达式限制的值"},required:{"default":"请填写必填项目"},remote:{"default":"请输入有效的值"},step:{"default":"请输入在基础值上，增加 %s 的整数倍的数值"},tel:{"default":"请输入有效的手机/电话号码",countryNotSupported:"不支持该国家代码 %s",country:"请输入有效的%s手机/电话号码",countries:{CN:""}},tocase:{"default":"只能输入小写字母",upper:"只能输入小写字母"},url:{"default":"请输入一个有效的URL地址"},zip:{"default":"请输入有效的邮政编码",countryNotSupported:"不支持%s国家或地区",country:"请输入有效的%s国家或地区的邮政编码",countries:{CN:"邮政编码"}}})})(window.jQuery);(function(a,m,d,f){var c=function(c,b){this.widget="";this.$element=a(c);this.defaultTime=b.defaultTime;this.disableFocus=b.disableFocus;this.isOpen=b.isOpen;this.minuteStep=b.minuteStep;this.modalBackdrop=b.modalBackdrop;this.secondStep=b.secondStep;this.showInputs=b.showInputs;this.showMeridian=b.showMeridian;this.showSeconds=b.showSeconds;this.template=b.template;this.appendWidgetTo=b.appendWidgetTo;this.upArrowStyle=b.upArrowStyle;this.downArrowStyle=b.downArrowStyle;this.containerClass=b.containerClass;
this._init()};c.prototype={constructor:c,_init:function(){var c=this;if(this.$element.parent().hasClass("input-append")||this.$element.parent().hasClass("input-prepend")){if(this.$element.parent(".input-append, .input-prepend").find(".add-on").length)this.$element.parent(".input-append, .input-prepend").find(".add-on").on({"click.timepicker":a.proxy(this.showWidget,this)});else this.$element.closest(this.containerClass).find(".add-on").on({"click.timepicker":a.proxy(this.showWidget,this)});this.$element.on({"focus.timepicker":a.proxy(this.highlightUnit,
this),"click.timepicker":a.proxy(this.highlightUnit,this),"keydown.timepicker":a.proxy(this.elementKeydown,this),"blur.timepicker":a.proxy(this.blurElement,this)})}else if(this.template)this.$element.on({"focus.timepicker":a.proxy(this.showWidget,this),"click.timepicker":a.proxy(this.showWidget,this),"blur.timepicker":a.proxy(this.blurElement,this)});else this.$element.on({"focus.timepicker":a.proxy(this.highlightUnit,this),"click.timepicker":a.proxy(this.highlightUnit,this),"keydown.timepicker":a.proxy(this.elementKeydown,
this),"blur.timepicker":a.proxy(this.blurElement,this)});this.$widget=!1!==this.template?a(this.getTemplate()).prependTo(this.$element.parents(this.appendWidgetTo)).on("click",a.proxy(this.widgetClick,this)):!1;this.showInputs&&!1!==this.$widget&&this.$widget.find("input").each(function(){a(this).on({"click.timepicker":function(){a(this).select()},"keydown.timepicker":a.proxy(c.widgetKeydown,c)})});this.setDefaultTime(this.defaultTime)},blurElement:function(){this.highlightedUnit=f;this.updateFromElementVal()},
decrementHour:function(){if(this.showMeridian)if(1===this.hour)this.hour=12;else{if(12===this.hour)return this.hour--,this.toggleMeridian();if(0===this.hour)return this.hour=11,this.toggleMeridian();this.hour--}else 0===this.hour?this.hour=23:this.hour--;this.update()},decrementMinute:function(a){a=a?this.minute-a:this.minute-this.minuteStep;0>a?(this.decrementHour(),this.minute=a+60):this.minute=a;this.update()},decrementSecond:function(){var a=this.second-this.secondStep;0>a?(this.decrementMinute(!0),
this.second=a+60):this.second=a;this.update()},elementKeydown:function(a){switch(a.keyCode){case 9:this.updateFromElementVal();switch(this.highlightedUnit){case "hour":a.preventDefault();this.highlightNextUnit();break;case "minute":if(this.showMeridian||this.showSeconds)a.preventDefault(),this.highlightNextUnit();break;case "second":this.showMeridian&&(a.preventDefault(),this.highlightNextUnit())}break;case 27:this.updateFromElementVal();break;case 37:a.preventDefault();this.highlightPrevUnit();this.updateFromElementVal();
break;case 38:a.preventDefault();switch(this.highlightedUnit){case "hour":this.incrementHour();this.highlightHour();break;case "minute":this.incrementMinute();this.highlightMinute();break;case "second":this.incrementSecond();this.highlightSecond();break;case "meridian":this.toggleMeridian(),this.highlightMeridian()}break;case 39:a.preventDefault();this.updateFromElementVal();this.highlightNextUnit();break;case 40:switch(a.preventDefault(),this.highlightedUnit){case "hour":this.decrementHour();this.highlightHour();
break;case "minute":this.decrementMinute();this.highlightMinute();break;case "second":this.decrementSecond();this.highlightSecond();break;case "meridian":this.toggleMeridian(),this.highlightMeridian()}}},formatTime:function(a,b,c,d){return(10>a?"0"+a:a)+":"+(10>b?"0"+b:b)+(this.showSeconds?":"+(10>c?"0"+c:c):"")+(this.showMeridian?" "+d:"")},getCursorPosition:function(){var a=this.$element.get(0);if("selectionStart"in a)return a.selectionStart;if(d.selection){a.focus();var b=d.selection.createRange(),
c=d.selection.createRange().text.length;b.moveStart("character",-a.value.length);return b.text.length-c}},getTemplate:function(){var a,b,c,d,f;this.showInputs?(b='<input type="text" name="hour" class="bootstrap-timepicker-hour form-control" maxlength="2"/>',c='<input type="text" name="minute" class="bootstrap-timepicker-minute form-control" maxlength="2"/>',d='<input type="text" name="second" class="bootstrap-timepicker-second form-control" maxlength="2"/>',f='<input type="text" name="meridian" class="bootstrap-timepicker-meridian form-control" maxlength="2"/>'):
(b='<span class="bootstrap-timepicker-hour"></span>',c='<span class="bootstrap-timepicker-minute"></span>',d='<span class="bootstrap-timepicker-second"></span>',f='<span class="bootstrap-timepicker-meridian"></span>');b='<table><tr><td><a href="#" data-action="incrementHour"><i class="'+this.upArrowStyle+'"></i></a></td><td class="separator">&nbsp;</td><td><a href="#" data-action="incrementMinute"><i class="'+this.upArrowStyle+'"></i></a></td>'+(this.showSeconds?'<td class="separator">&nbsp;</td><td><a href="#" data-action="incrementSecond"><i class="'+
this.upArrowStyle+'"></i></a></td>':"")+(this.showMeridian?'<td class="separator">&nbsp;</td><td class="meridian-column"><a href="#" data-action="toggleMeridian"><i class="'+this.upArrowStyle+'"></i></a></td>':"")+"</tr><tr><td>"+b+'</td> <td class="separator">:</td><td>'+c+"</td> "+(this.showSeconds?'<td class="separator">:</td><td>'+d+"</td>":"")+(this.showMeridian?'<td class="separator">&nbsp;</td><td>'+f+"</td>":"")+'</tr><tr><td><a href="#" data-action="decrementHour"><i class="'+this.downArrowStyle+
'"></i></a></td><td class="separator"></td><td><a href="#" data-action="decrementMinute"><i class="'+this.downArrowStyle+'"></i></a></td>'+(this.showSeconds?'<td class="separator">&nbsp;</td><td><a href="#" data-action="decrementSecond"><i class="'+this.downArrowStyle+'"></i></a></td>':"")+(this.showMeridian?'<td class="separator">&nbsp;</td><td><a href="#" data-action="toggleMeridian"><i class="'+this.downArrowStyle+'"></i></a></td>':"")+"</tr></table>";switch(this.template){case "modal":a='<div class="bootstrap-timepicker-widget modal hide fade in" data-backdrop="'+
(this.modalBackdrop?"true":"false")+'"><div class="modal-header"><a href="#" class="close" data-dismiss="modal">×</a><h3>Pick a Time</h3></div><div class="modal-content">'+b+'</div><div class="modal-footer"><a href="#" class="btn btn-primary" data-dismiss="modal">OK</a></div></div>';break;case "dropdown":a='<div class="bootstrap-timepicker-widget dropdown-menu">'+b+"</div>"}return a},getTime:function(){return this.formatTime(this.hour,this.minute,this.second,this.meridian)},hideWidget:function(){!1!==
this.isOpen&&(this.showInputs&&this.updateFromWidgetInputs(),this.$element.trigger({type:"hide.timepicker",time:{value:this.getTime(),hours:this.hour,minutes:this.minute,seconds:this.second,meridian:this.meridian}}),"modal"===this.template&&this.$widget.modal?this.$widget.modal("hide"):this.$widget.removeClass("open"),a(d).off("mousedown.timepicker"),this.isOpen=!1)},highlightUnit:function(){this.position=this.getCursorPosition();0<=this.position&&2>=this.position?this.highlightHour():3<=this.position&&
5>=this.position?this.highlightMinute():6<=this.position&&8>=this.position?this.showSeconds?this.highlightSecond():this.highlightMeridian():9<=this.position&&11>=this.position&&this.highlightMeridian()},highlightNextUnit:function(){switch(this.highlightedUnit){case "hour":this.highlightMinute();break;case "minute":this.showSeconds?this.highlightSecond():this.showMeridian?this.highlightMeridian():this.highlightHour();break;case "second":this.showMeridian?this.highlightMeridian():this.highlightHour();
break;case "meridian":this.highlightHour()}},highlightPrevUnit:function(){switch(this.highlightedUnit){case "hour":this.highlightMeridian();break;case "minute":this.highlightHour();break;case "second":this.highlightMinute();break;case "meridian":this.showSeconds?this.highlightSecond():this.highlightMinute()}},highlightHour:function(){var a=this.$element.get(0);this.highlightedUnit="hour";a.setSelectionRange&&setTimeout(function(){a.setSelectionRange(0,2)},0)},highlightMinute:function(){var a=this.$element.get(0);
this.highlightedUnit="minute";a.setSelectionRange&&setTimeout(function(){a.setSelectionRange(3,5)},0)},highlightSecond:function(){var a=this.$element.get(0);this.highlightedUnit="second";a.setSelectionRange&&setTimeout(function(){a.setSelectionRange(6,8)},0)},highlightMeridian:function(){var a=this.$element.get(0);this.highlightedUnit="meridian";a.setSelectionRange&&(this.showSeconds?setTimeout(function(){a.setSelectionRange(9,11)},0):setTimeout(function(){a.setSelectionRange(6,8)},0))},incrementHour:function(){if(this.showMeridian){if(11===
this.hour)return this.hour++,this.toggleMeridian();12===this.hour&&(this.hour=0)}23===this.hour?this.hour=0:(this.hour++,this.update())},incrementMinute:function(a){a=a?this.minute+a:this.minute+this.minuteStep-this.minute%this.minuteStep;59<a?(this.incrementHour(),this.minute=a-60):this.minute=a;this.update()},incrementSecond:function(){var a=this.second+this.secondStep-this.second%this.secondStep;59<a?(this.incrementMinute(!0),this.second=a-60):this.second=a;this.update()},remove:function(){a("document").off(".timepicker");
this.$widget&&this.$widget.remove();delete this.$element.data().timepicker},setDefaultTime:function(a){if(this.$element.val())this.updateFromElementVal();else if("current"===a){var b=new Date;a=b.getHours();var c=Math.floor(b.getMinutes()/this.minuteStep)*this.minuteStep,b=Math.floor(b.getSeconds()/this.secondStep)*this.secondStep,d="AM";this.showMeridian&&(0===a?a=12:12<=a?(12<a&&(a-=12),d="PM"):d="AM");this.hour=a;this.minute=c;this.second=b;this.meridian=d;this.update()}else!1===a?(this.second=
this.minute=this.hour=0,this.meridian="AM"):this.setTime(a)},setTime:function(a){var b;this.showMeridian?(a=a.split(" "),b=a[0].split(":"),this.meridian=a[1]):b=a.split(":");this.hour=parseInt(b[0],10);this.minute=parseInt(b[1],10);this.second=parseInt(b[2],10);isNaN(this.hour)&&(this.hour=0);isNaN(this.minute)&&(this.minute=0);if(this.showMeridian){12<this.hour?this.hour=12:1>this.hour&&(this.hour=12);if("am"===this.meridian||"a"===this.meridian)this.meridian="AM";else if("pm"===this.meridian||"p"===
this.meridian)this.meridian="PM";"AM"!==this.meridian&&"PM"!==this.meridian&&(this.meridian="AM")}else 24<=this.hour?this.hour=23:0>this.hour&&(this.hour=0);0>this.minute?this.minute=0:60<=this.minute&&(this.minute=59);this.showSeconds&&(isNaN(this.second)?this.second=0:0>this.second?this.second=0:60<=this.second&&(this.second=59));this.update()},showWidget:function(){if(!this.isOpen&&!this.$element.is(":disabled")){var c=this;a(d).on("mousedown.timepicker",function(b){0===a(b.target).closest(".bootstrap-timepicker-widget").length&&
c.hideWidget()});this.$element.trigger({type:"show.timepicker",time:{value:this.getTime(),hours:this.hour,minutes:this.minute,seconds:this.second,meridian:this.meridian}});this.disableFocus&&this.$element.blur();this.updateFromElementVal();if("modal"===this.template&&this.$widget.modal)this.$widget.modal("show").on("hidden",a.proxy(this.hideWidget,this));else!1===this.isOpen&&this.$widget.addClass("open");this.isOpen=!0}},toggleMeridian:function(){this.meridian="AM"===this.meridian?"PM":"AM";this.update()},
update:function(){this.$element.trigger({type:"changeTime.timepicker",time:{value:this.getTime(),hours:this.hour,minutes:this.minute,seconds:this.second,meridian:this.meridian}});this.updateElement();this.updateWidget()},updateElement:function(){this.$element.val(this.getTime()).change()},updateFromElementVal:function(){var a=this.$element.val();a&&this.setTime(a)},updateWidget:function(){if(!1!==this.$widget){var a=10>this.hour?"0"+this.hour:this.hour,b=10>this.minute?"0"+this.minute:this.minute,
c=10>this.second?"0"+this.second:this.second;this.showInputs?(this.$widget.find("input.bootstrap-timepicker-hour").val(a),this.$widget.find("input.bootstrap-timepicker-minute").val(b),this.showSeconds&&this.$widget.find("input.bootstrap-timepicker-second").val(c),this.showMeridian&&this.$widget.find("input.bootstrap-timepicker-meridian").val(this.meridian)):(this.$widget.find("span.bootstrap-timepicker-hour").text(a),this.$widget.find("span.bootstrap-timepicker-minute").text(b),this.showSeconds&&
this.$widget.find("span.bootstrap-timepicker-second").text(c),this.showMeridian&&this.$widget.find("span.bootstrap-timepicker-meridian").text(this.meridian))}},updateFromWidgetInputs:function(){if(!1!==this.$widget){var c=a("input.bootstrap-timepicker-hour",this.$widget).val()+":"+a("input.bootstrap-timepicker-minute",this.$widget).val()+(this.showSeconds?":"+a("input.bootstrap-timepicker-second",this.$widget).val():"")+(this.showMeridian?" "+a("input.bootstrap-timepicker-meridian",this.$widget).val():
"");this.setTime(c)}},widgetClick:function(c){c.stopPropagation();c.preventDefault();if(c=a(c.target).closest("a").data("action"))this[c]()},widgetKeydown:function(c){var b=a(c.target).closest("input").attr("name");switch(c.keyCode){case 9:if(this.showMeridian){if("meridian"===b)return this.hideWidget()}else if(this.showSeconds){if("second"===b)return this.hideWidget()}else if("minute"===b)return this.hideWidget();this.updateFromWidgetInputs();break;case 27:this.hideWidget();break;case 38:c.preventDefault();
switch(b){case "hour":this.incrementHour();break;case "minute":this.incrementMinute();break;case "second":this.incrementSecond();break;case "meridian":this.toggleMeridian()}break;case 40:switch(c.preventDefault(),b){case "hour":this.decrementHour();break;case "minute":this.decrementMinute();break;case "second":this.decrementSecond();break;case "meridian":this.toggleMeridian()}}}};a.fn.timepicker=function(d){var b=Array.apply(null,arguments);b.shift();return this.each(function(){var f=a(this),h=f.data("timepicker"),
g="object"===typeof d&&d;h||f.data("timepicker",h=new c(this,a.extend({},a.fn.timepicker.defaults,g,a(this).data())));"string"===typeof d&&h[d].apply(h,b)})};a.fn.timepicker.defaults={defaultTime:"current",disableFocus:!1,isOpen:!1,minuteStep:15,modalBackdrop:!1,secondStep:15,showSeconds:!1,showInputs:!0,showMeridian:!0,template:"dropdown",appendWidgetTo:".bootstrap-timepicker",upArrowStyle:"glyphicon glyphicon-chevron-up",downArrowStyle:"glyphicon glyphicon-chevron-down",containerClass:"bootstrap-timepicker"};
a.fn.timepicker.Constructor=c})(jQuery,window,document);(function(a,m){"object"===typeof exports&&"undefined"!==typeof module?module.exports=m():"function"===typeof define&&define.amd?define(m):a.moment=m()})(this,function(){function a(){return gb.apply(null,arguments)}function m(a){return"[object Array]"===Object.prototype.toString.call(a)}function d(a){return a instanceof Date||"[object Date]"===Object.prototype.toString.call(a)}function f(a,b){var c=[],d;for(d=0;d<a.length;++d)c.push(b(a[d],d));return c}function c(a,b){return Object.prototype.hasOwnProperty.call(a,
b)}function e(a,b){for(var d in b)c(b,d)&&(a[d]=b[d]);c(b,"toString")&&(a.toString=b.toString);c(b,"valueOf")&&(a.valueOf=b.valueOf);return a}function b(a,b,c,d){return K(a,b,c,d,!0).utc()}function k(a){null==a._pf&&(a._pf={empty:!1,unusedTokens:[],unusedInput:[],overflow:-2,charsLeftOver:0,nullInput:!1,invalidMonth:null,invalidFormat:!1,userInvalidated:!1,iso:!1});return a._pf}function h(a){if(null==a._isValid){var b=k(a);a._isValid=!isNaN(a._d.getTime())&&0>b.overflow&&!b.empty&&!b.invalidMonth&&
!b.nullInput&&!b.invalidFormat&&!b.userInvalidated;a._strict&&(a._isValid=a._isValid&&0===b.charsLeftOver&&0===b.unusedTokens.length&&void 0===b.bigHour)}return a._isValid}function g(a){var c=b(NaN);null!=a?e(k(c),a):k(c).userInvalidated=!0;return c}function l(a,b){var c,d,e;"undefined"!==typeof b._isAMomentObject&&(a._isAMomentObject=b._isAMomentObject);"undefined"!==typeof b._i&&(a._i=b._i);"undefined"!==typeof b._f&&(a._f=b._f);"undefined"!==typeof b._l&&(a._l=b._l);"undefined"!==typeof b._strict&&
(a._strict=b._strict);"undefined"!==typeof b._tzm&&(a._tzm=b._tzm);"undefined"!==typeof b._isUTC&&(a._isUTC=b._isUTC);"undefined"!==typeof b._offset&&(a._offset=b._offset);"undefined"!==typeof b._pf&&(a._pf=k(b));"undefined"!==typeof b._locale&&(a._locale=b._locale);if(0<Wa.length)for(c in Wa)d=Wa[c],e=b[d],"undefined"!==typeof e&&(a[d]=e);return a}function y(b){l(this,b);this._d=new Date(+b._d);!1===Xa&&(Xa=!0,a.updateOffset(this),Xa=!1)}function u(a){return a instanceof y||null!=a&&null!=a._isAMomentObject}
function n(a){a=+a;var b=0;0!==a&&isFinite(a)&&(b=0<=a?Math.floor(a):Math.ceil(a));return b}function v(a,b,c){var d=Math.min(a.length,b.length),e=Math.abs(a.length-b.length),f=0,z;for(z=0;z<d;z++)(c&&a[z]!==b[z]||!c&&n(a[z])!==n(b[z]))&&f++;return f+e}function C(){}function s(a){return a?a.toLowerCase().replace("_","-"):a}function L(a){var b=null;if(!ya[a]&&"undefined"!==typeof module&&module&&module.exports)try{b=Ma._abbr,require("./locale/"+a),P(b)}catch(c){}return ya[a]}function P(a,b){var c;a&&
(c="undefined"===typeof b?H(a):Z(a,b))&&(Ma=c);return Ma._abbr}function Z(a,b){if(null!==b)return b.abbr=a,ya[a]||(ya[a]=new C),ya[a].set(b),P(a),ya[a];delete ya[a];return null}function H(a){var b;a&&a._locale&&a._locale._abbr&&(a=a._locale._abbr);if(!a)return Ma;if(!m(a)){if(b=L(a))return b;a=[a]}a:{b=0;for(var c,d,e,f;b<a.length;){f=s(a[b]).split("-");c=f.length;for(d=(d=s(a[b+1]))?d.split("-"):null;0<c;){if(e=L(f.slice(0,c).join("-"))){a=e;break a}if(d&&d.length>=c&&v(f,d,!0)>=c-1)break;c--}b++}a=
null}return a}function U(a,b){var c=a.toLowerCase();Ha[c]=Ha[c+"s"]=Ha[b]=a}function Q(a){return"string"===typeof a?Ha[a]||Ha[a.toLowerCase()]:void 0}function ha(a){var b={},d,e;for(e in a)c(a,e)&&(d=Q(e))&&(b[d]=a[e]);return b}function E(b,c){return function(d){return null!=d?(this._d["set"+(this._isUTC?"UTC":"")+b](d),a.updateOffset(this,c),this):r(this,b)}}function r(a,b){return a._d["get"+(a._isUTC?"UTC":"")+b]()}function F(a,b){var c;if("object"===typeof a)for(c in a)this.set(c,a[c]);else if(a=
Q(a),"function"===typeof this[a])return this[a](b);return this}function p(a,b,c){for(var d=""+Math.abs(a);d.length<b;)d="0"+d;return(0<=a?c?"+":"":"-")+d}function x(a,b,c,d){var e=d;"string"===typeof d&&(e=function(){return this[d]()});a&&(Ea[a]=e);b&&(Ea[b[0]]=function(){return p(e.apply(this,arguments),b[1],b[2])});c&&(Ea[c]=function(){return this.localeData().ordinal(e.apply(this,arguments),a)})}function pa(a){return a.match(/\[[\s\S]/)?a.replace(/^\[|\]$/g,""):a.replace(/\\/g,"")}function J(a){var b=
a.match(hb),c,d;c=0;for(d=b.length;c<d;c++)b[c]=Ea[b[c]]?Ea[b[c]]:pa(b[c]);return function(e){var f="";for(c=0;c<d;c++)f+=b[c]instanceof Function?b[c].call(e,a):b[c];return f}}function ma(a,b){if(!a.isValid())return a.localeData().invalidDate();b=Ia(b,a.localeData());Ya[b]||(Ya[b]=J(b));return Ya[b](a)}function Ia(a,b){function c(a){return b.longDateFormat(a)||a}var d=5;for(Na.lastIndex=0;0<=d&&Na.test(a);)a=a.replace(Na,c),Na.lastIndex=0,d-=1;return a}function A(a,b,c){Za[a]="function"===typeof b?
b:function(a){return a&&c?c:b}}function Ja(a,b){return c(Za,a)?Za[a](b._strict,b._locale):RegExp(Y(a))}function Y(a){return a.replace("\\","").replace(/\\(\[)|\\(\])|\[([^\]\[]*)\]|\\(.)/g,function(a,b,c,d,e){return b||c||d||e}).replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")}function R(a,b){var c,d=b;"string"===typeof a&&(a=[a]);"number"===typeof b&&(d=function(a,c){c[b]=n(a)});for(c=0;c<a.length;c++)$a[a[c]]=d}function ta(a,b){R(a,function(a,c,d,e){d._w=d._w||{};b(a,d._w,d,e)})}function W(a,b){return(new Date(Date.UTC(a,
b+1,0))).getUTCDate()}function da(a,b){var c;if("string"===typeof b&&(b=a.localeData().monthsParse(b),"number"!==typeof b))return a;c=Math.min(a.date(),W(a.year(),b));a._d["set"+(a._isUTC?"UTC":"")+"Month"](b,c);return a}function la(b){return null!=b?(da(this,b),a.updateOffset(this,!0),this):r(this,"Month")}function ia(a){var b;(b=a._a)&&-2===k(a).overflow&&(b=0>b[qa]||11<b[qa]?qa:1>b[na]||b[na]>W(b[ra],b[qa])?na:0>b[ja]||24<b[ja]||24===b[ja]&&(0!==b[za]||0!==b[Aa]||0!==b[Ba])?ja:0>b[za]||59<b[za]?
za:0>b[Aa]||59<b[Aa]?Aa:0>b[Ba]||999<b[Ba]?Ba:-1,k(a)._overflowDayOfYear&&(b<ra||b>na)&&(b=na),k(a).overflow=b);return a}function G(b){!1===a.suppressDeprecationWarnings&&"undefined"!==typeof console&&console.warn&&console.warn("Deprecation warning: "+b)}function q(a,b){var c=!0,d=a+"\n"+Error().stack;return e(function(){c&&(G(d),c=!1);return b.apply(this,arguments)},b)}function V(a){var b,c,d=a._i,e=Ab.exec(d);if(e){k(a).iso=!0;b=0;for(c=ab.length;b<c;b++)if(ab[b][1].exec(d)){a._f=ab[b][0]+(e[6]||
" ");break}b=0;for(c=bb.length;b<c;b++)if(bb[b][1].exec(d)){a._f+=bb[b][0];break}d.match(Oa)&&(a._f+="Z");ea(a)}else a._isValid=!1}function ca(b){var c=Bb.exec(b._i);null!==c?b._d=new Date(+c[1]):(V(b),!1===b._isValid&&(delete b._isValid,a.createFromInputFallback(b)))}function ba(a,b,c,d,e,f,z){b=new Date(a,b,c,d,e,f,z);1970>a&&b.setFullYear(a);return b}function t(a){var b=new Date(Date.UTC.apply(null,arguments));1970>a&&b.setUTCFullYear(a);return b}function S(a){return 0===a%4&&0!==a%100||0===a%
400}function N(a,b,c){b=c-b;c-=a.day();c>b&&(c-=7);c<b-7&&(c+=7);a=I(a).add(c,"d");return{week:Math.ceil(a.dayOfYear()/7),year:a.year()}}function T(a,b,c){return null!=a?a:null!=b?b:c}function D(a){var b,c,d=[],e;if(!a._d){e=new Date;e=a._useUTC?[e.getUTCFullYear(),e.getUTCMonth(),e.getUTCDate()]:[e.getFullYear(),e.getMonth(),e.getDate()];if(a._w&&null==a._a[na]&&null==a._a[qa]){var f,z,s;f=a._w;null!=f.GG||null!=f.W||null!=f.E?(b=1,s=4,c=T(f.GG,a._a[ra],N(I(),1,4).year),z=T(f.W,1),f=T(f.E,1)):(b=
a._locale._week.dow,s=a._locale._week.doy,c=T(f.gg,a._a[ra],N(I(),b,s).year),z=T(f.w,1),null!=f.d?(f=f.d,f<b&&++z):f=null!=f.e?f.e+b:b);var w=t(c,0,1).getUTCDay(),w=0===w?7:w;s=7*(z-1)+((null!=f?f:b)-b)+(b-w+(w>s?7:0)-(w<b?7:0))+1;b=0<s?c:c-1;c=0<s?s:(S(c-1)?366:365)+s;a._a[ra]=b;a._dayOfYear=c}a._dayOfYear&&(c=T(a._a[ra],e[ra]),a._dayOfYear>(S(c)?366:365)&&(k(a)._overflowDayOfYear=!0),c=t(c,0,a._dayOfYear),a._a[qa]=c.getUTCMonth(),a._a[na]=c.getUTCDate());for(c=0;3>c&&null==a._a[c];++c)a._a[c]=d[c]=
e[c];for(;7>c;c++)a._a[c]=d[c]=null==a._a[c]?2===c?1:0:a._a[c];24===a._a[ja]&&0===a._a[za]&&0===a._a[Aa]&&0===a._a[Ba]&&(a._nextDay=!0,a._a[ja]=0);a._d=(a._useUTC?t:ba).apply(null,d);null!=a._tzm&&a._d.setUTCMinutes(a._d.getUTCMinutes()-a._tzm);a._nextDay&&(a._a[ja]=24)}}function ea(b){if(b._f===a.ISO_8601)V(b);else{b._a=[];k(b).empty=!0;var d=""+b._i,e,f,z,s,w,ga=d.length,p=0;z=Ia(b._f,b._locale).match(hb)||[];for(e=0;e<z.length;e++){s=z[e];if(f=(d.match(Ja(s,b))||[])[0])w=d.substr(0,d.indexOf(f)),
0<w.length&&k(b).unusedInput.push(w),d=d.slice(d.indexOf(f)+f.length),p+=f.length;if(Ea[s]){if(f?k(b).empty=!1:k(b).unusedTokens.push(s),w=b,null!=f&&c($a,s))$a[s](f,w._a,w,s)}else b._strict&&!f&&k(b).unusedTokens.push(s)}k(b).charsLeftOver=ga-p;0<d.length&&k(b).unusedInput.push(d);!0===k(b).bigHour&&12>=b._a[ja]&&0<b._a[ja]&&(k(b).bigHour=void 0);d=b._a;e=ja;ga=b._locale;z=b._a[ja];p=b._meridiem;null!=p&&(null!=ga.meridiemHour?z=ga.meridiemHour(z,p):null!=ga.isPM&&((ga=ga.isPM(p))&&12>z&&(z+=12),
ga||12!==z||(z=0)));d[e]=z;D(b);ia(b)}}function fa(a){if(!a._d){var b=ha(a._i);a._a=[b.year,b.month,b.day||b.date,b.hour,b.minute,b.second,b.millisecond];D(a)}}function aa(b){var c=b._i;void 0===c?b._d=new Date:d(c)?b._d=new Date(+c):"string"===typeof c?ca(b):m(c)?(b._a=f(c.slice(0),function(a){return parseInt(a,10)}),D(b)):"object"===typeof c?fa(b):"number"===typeof c?b._d=new Date(c):a.createFromInputFallback(b)}function K(a,b,c,f,z){var s={};"boolean"===typeof c&&(f=c,c=void 0);s._isAMomentObject=
!0;s._useUTC=s._isUTC=z;s._l=c;s._i=a;s._f=b;s._strict=f;a=s._i;b=s._f;s._locale=s._locale||H(s._l);if(null===a||void 0===b&&""===a)s=g({nullInput:!0});else if("string"===typeof a&&(s._i=a=s._locale.preparse(a)),u(a))s=new y(ia(a));else{if(m(b)){var w,ga,p;if(0===s._f.length)k(s).invalidFormat=!0,s._d=new Date(NaN);else{for(a=0;a<s._f.length;a++)if(b=0,w=l({},s),null!=s._useUTC&&(w._useUTC=s._useUTC),w._f=s._f[a],ea(w),h(w)&&(b+=k(w).charsLeftOver,b+=10*k(w).unusedTokens.length,k(w).score=b,null==
p||b<p))p=b,ga=w;e(s,ga||w)}}else b?ea(s):d(a)?s._d=a:aa(s);s=new y(ia(s));s._nextDay&&(s.add(1,"d"),s._nextDay=void 0)}return s}function I(a,b,c,d){return K(a,b,c,d,!1)}function ua(a,b){var c,d;1===b.length&&m(b[0])&&(b=b[0]);if(!b.length)return I();c=b[0];for(d=1;d<b.length;++d)b[d][a](c)&&(c=b[d]);return c}function ga(a){a=ha(a);var b=a.year||0,c=a.quarter||0,d=a.month||0,e=a.week||0,f=a.day||0;this._milliseconds=+(a.millisecond||0)+1E3*(a.second||0)+6E4*(a.minute||0)+36E5*(a.hour||0);this._days=
+f+7*e;this._months=+d+3*c+12*b;this._data={};this._locale=H();this._bubble()}function z(a){return a instanceof ga}function w(a,b){x(a,0,0,function(){var a=this.utcOffset(),c="+";0>a&&(a=-a,c="-");return c+p(~~(a/60),2)+b+p(~~a%60,2)})}function cb(a){a=(a||"").match(Oa)||[];a=((a[a.length-1]||[])+"").match(Cb)||["-",0,0];var b=+(60*a[1])+n(a[2]);return"+"===a[0]?b:-b}function db(b,c){var e,f;return c._isUTC?(e=c.clone(),f=(u(b)||d(b)?+b:+I(b))-+e,e._d.setTime(+e._d+f),a.updateOffset(e,!1),e):I(b).local()}
function Pa(){return this._isUTC&&0===this._offset}function va(a,b){var d=a,e=null;z(a)?d={ms:a._milliseconds,d:a._days,M:a._months}:"number"===typeof a?(d={},b?d[b]=a:d.milliseconds=a):(e=Db.exec(a))?(d="-"===e[1]?-1:1,d={y:0,d:n(e[na])*d,h:n(e[ja])*d,m:n(e[za])*d,s:n(e[Aa])*d,ms:n(e[Ba])*d}):(e=Eb.exec(a))?(d="-"===e[1]?-1:1,d={y:Ca(e[2],d),M:Ca(e[3],d),d:Ca(e[4],d),h:Ca(e[5],d),m:Ca(e[6],d),s:Ca(e[7],d),w:Ca(e[8],d)}):null==d?d={}:"object"===typeof d&&("from"in d||"to"in d)&&(e=I(d.from),d=I(d.to),
d=db(d,e),e.isBefore(d)?d=ib(e,d):(d=ib(d,e),d.milliseconds=-d.milliseconds,d.months=-d.months),e=d,d={},d.ms=e.milliseconds,d.M=e.months);d=new ga(d);z(a)&&c(a,"_locale")&&(d._locale=a._locale);return d}function Ca(a,b){var c=a&&parseFloat(a.replace(",","."));return(isNaN(c)?0:c)*b}function ib(a,b){var c={milliseconds:0,months:0};c.months=b.month()-a.month()+12*(b.year()-a.year());a.clone().add(c.months,"M").isAfter(b)&&--c.months;c.milliseconds=+b-+a.clone().add(c.months,"M");return c}function jb(a,
b){return function(c,d){var e;null===d||isNaN(+d)||(kb[b]||(G("moment()."+b+"(period, number) is deprecated. Please use moment()."+b+"(number, period)."),kb[b]=!0),e=c,c=d,d=e);e=va("string"===typeof c?+c:c,d);lb(this,e,a);return this}}function lb(b,c,d,e){var f=c._milliseconds,z=c._days;c=c._months;e=null==e?!0:e;f&&b._d.setTime(+b._d+f*d);z&&(f=r(b,"Date")+z*d,b._d["set"+(b._isUTC?"UTC":"")+"Date"](f));c&&da(b,r(b,"Month")+c*d);e&&a.updateOffset(b,z||c)}function oa(a){return 0>a?Math.ceil(a):Math.floor(a)}
function mb(){var a=this.clone().utc();return 0<a.year()&&9999>=a.year()?"function"===typeof Date.prototype.toISOString?this.toDate().toISOString():ma(a,"YYYY-MM-DD[T]HH:mm:ss.SSS[Z]"):ma(a,"YYYYYY-MM-DD[T]HH:mm:ss.SSS[Z]")}function nb(a){if(void 0===a)return this._locale._abbr;a=H(a);null!=a&&(this._locale=a);return this}function ob(){return this._locale}function Qa(a,b){x(0,[a,a.length],0,b)}function pb(a,b,c){return N(I([a,11,31+b-c]),b,c).week}function qb(a,b){x(a,0,0,function(){return this.localeData().meridiem(this.hours(),
this.minutes(),b)})}function rb(a,b){return b._meridiemParse}function sb(a){return a}function tb(a,c,d,e){var f=H();c=b().set(e,c);return f[d](c,a)}function Ka(a,b,c,d,e){"number"===typeof a&&(b=a,a=void 0);a=a||"";if(null!=b)return tb(a,b,c,e);var f=[];for(b=0;b<d;b++)f[b]=tb(a,b,c,e);return f}function ub(a,b,c,d){b=va(b,c);a._milliseconds+=d*b._milliseconds;a._days+=d*b._days;a._months+=d*b._months;return a._bubble()}function wa(a){return function(){return this.as(a)}}function Da(a){return function(){return this._data[a]}}
function Fb(a,b,c,d,e){return e.relativeTime(b||1,!!c,a,d)}function Ra(){var a=Fa(this.years()),b=Fa(this.months()),c=Fa(this.days()),d=Fa(this.hours()),e=Fa(this.minutes()),f=Fa(this.seconds()+this.milliseconds()/1E3),z=this.asSeconds();return z?(0>z?"-":"")+"P"+(a?a+"Y":"")+(b?b+"M":"")+(c?c+"D":"")+(d||e||f?"T":"")+(d?d+"H":"")+(e?e+"M":"")+(f?f+"S":""):"P0D"}var gb,Wa=a.momentProperties=[],Xa=!1,ya={},Ma,Ha={},hb=/(\[[^\[]*\])|(\\)?(Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|Q|YYYYYY|YYYYY|YYYY|YY|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|mm?|ss?|S{1,4}|x|X|zz?|ZZ?|.)/g,
Na=/(\[[^\[]*\])|(\\)?(LTS|LT|LL?L?L?|l{1,4})/g,Ya={},Ea={},vb=/\d/,ka=/\d\d/,wb=/\d{3}/,eb=/\d{4}/,Sa=/[+-]?\d{6}/,X=/\d\d?/,Ta=/\d{1,3}/,fb=/\d{1,4}/,Ua=/[+-]?\d{1,6}/,Va=/[+-]?\d+/,Oa=/Z|[+-]\d\d:?\d\d/gi,La=/[0-9]*['a-z\u00A0-\u05FF\u0700-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]+|[\u0600-\u06FF\/]+(\s*?[\u0600-\u06FF]+){1,2}/i,Za={},$a={},ra=0,qa=1,na=2,ja=3,za=4,Aa=5,Ba=6;x("M",["MM",2],"Mo",function(){return this.month()+1});x("MMM",0,0,function(a){return this.localeData().monthsShort(this,a)});x("MMMM",
0,0,function(a){return this.localeData().months(this,a)});U("month","M");A("M",X);A("MM",X,ka);A("MMM",La);A("MMMM",La);R(["M","MM"],function(a,b){b[qa]=n(a)-1});R(["MMM","MMMM"],function(a,b,c,d){d=c._locale.monthsParse(a,d,c._strict);null!=d?b[qa]=d:k(c).invalidMonth=a});var kb={};a.suppressDeprecationWarnings=!1;var Ab=/^\s*(?:[+-]\d{6}|\d{4})-(?:(\d\d-\d\d)|(W\d\d$)|(W\d\d-\d)|(\d\d\d))((T| )(\d\d(:\d\d(:\d\d(\.\d+)?)?)?)?([\+\-]\d\d(?::?\d\d)?|\s*Z)?)?$/,ab=[["YYYYYY-MM-DD",/[+-]\d{6}-\d{2}-\d{2}/],
["YYYY-MM-DD",/\d{4}-\d{2}-\d{2}/],["GGGG-[W]WW-E",/\d{4}-W\d{2}-\d/],["GGGG-[W]WW",/\d{4}-W\d{2}/],["YYYY-DDD",/\d{4}-\d{3}/]],bb=[["HH:mm:ss.SSSS",/(T| )\d\d:\d\d:\d\d\.\d+/],["HH:mm:ss",/(T| )\d\d:\d\d:\d\d/],["HH:mm",/(T| )\d\d:\d\d/],["HH",/(T| )\d\d/]],Bb=/^\/?Date\((\-?\d+)/i;a.createFromInputFallback=q("moment construction falls back to js Date. This is discouraged and will be removed in upcoming major release. Please refer to https://github.com/moment/moment/issues/1407 for more info.",function(a){a._d=
new Date(a._i+(a._useUTC?" UTC":""))});x(0,["YY",2],0,function(){return this.year()%100});x(0,["YYYY",4],0,"year");x(0,["YYYYY",5],0,"year");x(0,["YYYYYY",6,!0],0,"year");U("year","y");A("Y",Va);A("YY",X,ka);A("YYYY",fb,eb);A("YYYYY",Ua,Sa);A("YYYYYY",Ua,Sa);R(["YYYY","YYYYY","YYYYYY"],ra);R("YY",function(b,c){c[ra]=a.parseTwoDigitYear(b)});a.parseTwoDigitYear=function(a){return n(a)+(68<n(a)?1900:2E3)};var xb=E("FullYear",!1);x("w",["ww",2],"wo","week");x("W",["WW",2],"Wo","isoWeek");U("week","w");
U("isoWeek","W");A("w",X);A("ww",X,ka);A("W",X);A("WW",X,ka);ta(["w","ww","W","WW"],function(a,b,c,d){b[d.substr(0,1)]=n(a)});x("DDD",["DDDD",3],"DDDo","dayOfYear");U("dayOfYear","DDD");A("DDD",Ta);A("DDDD",wb);R(["DDD","DDDD"],function(a,b,c){c._dayOfYear=n(a)});a.ISO_8601=function(){};var Gb=q("moment().min is deprecated, use moment.min instead. https://github.com/moment/moment/issues/1548",function(){var a=I.apply(null,arguments);return a<this?this:a}),Hb=q("moment().max is deprecated, use moment.max instead. https://github.com/moment/moment/issues/1548",
function(){var a=I.apply(null,arguments);return a>this?this:a});w("Z",":");w("ZZ","");A("Z",Oa);A("ZZ",Oa);R(["Z","ZZ"],function(a,b,c){c._useUTC=!0;c._tzm=cb(a)});var Cb=/([\+\-]|\d\d)/gi;a.updateOffset=function(){};var Db=/(\-)?(?:(\d*)\.)?(\d+)\:(\d+)(?:\:(\d+)\.?(\d{3})?)?/,Eb=/^(-)?P(?:(?:([0-9,.]*)Y)?(?:([0-9,.]*)M)?(?:([0-9,.]*)D)?(?:T(?:([0-9,.]*)H)?(?:([0-9,.]*)M)?(?:([0-9,.]*)S)?)?|([0-9,.]*)W)$/;va.fn=ga.prototype;var Ib=jb(1,"add"),Jb=jb(-1,"subtract");a.defaultFormat="YYYY-MM-DDTHH:mm:ssZ";
var yb=q("moment().lang() is deprecated. Instead, use moment().localeData() to get the language configuration. Use moment().locale() to change languages.",function(a){return void 0===a?this.localeData():this.locale(a)});x(0,["gg",2],0,function(){return this.weekYear()%100});x(0,["GG",2],0,function(){return this.isoWeekYear()%100});Qa("gggg","weekYear");Qa("ggggg","weekYear");Qa("GGGG","isoWeekYear");Qa("GGGGG","isoWeekYear");U("weekYear","gg");U("isoWeekYear","GG");A("G",Va);A("g",Va);A("GG",X,ka);
A("gg",X,ka);A("GGGG",fb,eb);A("gggg",fb,eb);A("GGGGG",Ua,Sa);A("ggggg",Ua,Sa);ta(["gggg","ggggg","GGGG","GGGGG"],function(a,b,c,d){b[d.substr(0,2)]=n(a)});ta(["gg","GG"],function(b,c,d,e){c[e]=a.parseTwoDigitYear(b)});x("Q",0,0,"quarter");U("quarter","Q");A("Q",vb);R("Q",function(a,b){b[qa]=3*(n(a)-1)});x("D",["DD",2],"Do","date");U("date","D");A("D",X);A("DD",X,ka);A("Do",function(a,b){return a?b._ordinalParse:b._ordinalParseLenient});R(["D","DD"],na);R("Do",function(a,b){b[na]=n(a.match(X)[0],
10)});var zb=E("Date",!0);x("d",0,"do","day");x("dd",0,0,function(a){return this.localeData().weekdaysMin(this,a)});x("ddd",0,0,function(a){return this.localeData().weekdaysShort(this,a)});x("dddd",0,0,function(a){return this.localeData().weekdays(this,a)});x("e",0,0,"weekday");x("E",0,0,"isoWeekday");U("day","d");U("weekday","e");U("isoWeekday","E");A("d",X);A("e",X);A("E",X);A("dd",La);A("ddd",La);A("dddd",La);ta(["dd","ddd","dddd"],function(a,b,c){var d=c._locale.weekdaysParse(a);null!=d?b.d=d:
k(c).invalidWeekday=a});ta(["d","e","E"],function(a,b,c,d){b[d]=n(a)});x("H",["HH",2],0,"hour");x("h",["hh",2],0,function(){return this.hours()%12||12});qb("a",!0);qb("A",!1);U("hour","h");A("a",rb);A("A",rb);A("H",X);A("h",X);A("HH",X,ka);A("hh",X,ka);R(["H","HH"],ja);R(["a","A"],function(a,b,c){c._isPm=c._locale.isPM(a);c._meridiem=a});R(["h","hh"],function(a,b,c){b[ja]=n(a);k(c).bigHour=!0});var Kb=E("Hours",!0);x("m",["mm",2],0,"minute");U("minute","m");A("m",X);A("mm",X,ka);R(["m","mm"],za);
var Lb=E("Minutes",!1);x("s",["ss",2],0,"second");U("second","s");A("s",X);A("ss",X,ka);R(["s","ss"],Aa);var Mb=E("Seconds",!1);x("S",0,0,function(){return~~(this.millisecond()/100)});x(0,["SS",2],0,function(){return~~(this.millisecond()/10)});x(0,["SSS",3],0,"millisecond");x(0,["SSSS",3],0,"millisecond");U("millisecond","ms");A("S",Ta,vb);A("SS",Ta,ka);A("SSS",Ta,wb);A("SSSS",/\d+/);R(["S","SS","SSS","SSSS"],function(a,b){b[Ba]=n(1E3*("0."+a))});var Nb=E("Milliseconds",!1);x("z",0,0,"zoneAbbr");
x("zz",0,0,"zoneName");var B=y.prototype;B.add=Ib;B.calendar=function(a){a=a||I();var b=db(a,this).startOf("day"),b=this.diff(b,"days",!0),b=-6>b?"sameElse":-1>b?"lastWeek":0>b?"lastDay":1>b?"sameDay":2>b?"nextDay":7>b?"nextWeek":"sameElse";return this.format(this.localeData().calendar(b,this,I(a)))};B.clone=function(){return new y(this)};B.diff=function(a,b,c){a=db(a,this);var d=6E4*(a.utcOffset()-this.utcOffset());b=Q(b);if("year"===b||"month"===b||"quarter"===b){var d=12*(a.year()-this.year())+
(a.month()-this.month()),e=this.clone().add(d,"months"),f;0>a-e?(f=this.clone().add(d-1,"months"),a=(a-e)/(e-f)):(f=this.clone().add(d+1,"months"),a=(a-e)/(f-e));a=-(d+a);"quarter"===b?a/=3:"year"===b&&(a/=12)}else a=this-a,a="second"===b?a/1E3:"minute"===b?a/6E4:"hour"===b?a/36E5:"day"===b?(a-d)/864E5:"week"===b?(a-d)/6048E5:a;return c?a:oa(a)};B.endOf=function(a){a=Q(a);return void 0===a||"millisecond"===a?this:this.startOf(a).add(1,"isoWeek"===a?"week":a).subtract(1,"ms")};B.format=function(b){b=
ma(this,b||a.defaultFormat);return this.localeData().postformat(b)};B.from=function(a,b){return this.isValid()?va({to:this,from:a}).locale(this.locale()).humanize(!b):this.localeData().invalidDate()};B.fromNow=function(a){return this.from(I(),a)};B.to=function(a,b){return this.isValid()?va({from:this,to:a}).locale(this.locale()).humanize(!b):this.localeData().invalidDate()};B.toNow=function(a){return this.to(I(),a)};B.get=F;B.invalidAt=function(){return k(this).overflow};B.isAfter=function(a,b){b=
Q("undefined"!==typeof b?b:"millisecond");return"millisecond"===b?(a=u(a)?a:I(a),+this>+a):(u(a)?+a:+I(a))<+this.clone().startOf(b)};B.isBefore=function(a,b){var c;b=Q("undefined"!==typeof b?b:"millisecond");if("millisecond"===b)return a=u(a)?a:I(a),+this<+a;c=u(a)?+a:+I(a);return+this.clone().endOf(b)<c};B.isBetween=function(a,b,c){return this.isAfter(a,c)&&this.isBefore(b,c)};B.isSame=function(a,b){var c;b=Q(b||"millisecond");if("millisecond"===b)return a=u(a)?a:I(a),+this===+a;c=+I(a);return+this.clone().startOf(b)<=
c&&c<=+this.clone().endOf(b)};B.isValid=function(){return h(this)};B.lang=yb;B.locale=nb;B.localeData=ob;B.max=Hb;B.min=Gb;B.parsingFlags=function(){return e({},k(this))};B.set=F;B.startOf=function(a){a=Q(a);switch(a){case "year":this.month(0);case "quarter":case "month":this.date(1);case "week":case "isoWeek":case "day":this.hours(0);case "hour":this.minutes(0);case "minute":this.seconds(0);case "second":this.milliseconds(0)}"week"===a&&this.weekday(0);"isoWeek"===a&&this.isoWeekday(1);"quarter"===
a&&this.month(3*Math.floor(this.month()/3));return this};B.subtract=Jb;B.toArray=function(){return[this.year(),this.month(),this.date(),this.hour(),this.minute(),this.second(),this.millisecond()]};B.toDate=function(){return this._offset?new Date(+this):this._d};B.toISOString=mb;B.toJSON=mb;B.toString=function(){return this.clone().locale("en").format("ddd MMM DD YYYY HH:mm:ss [GMT]ZZ")};B.unix=function(){return Math.floor(+this/1E3)};B.valueOf=function(){return+this._d-6E4*(this._offset||0)};B.year=
xb;B.isLeapYear=function(){return S(this.year())};B.weekYear=function(a){var b=N(this,this.localeData()._week.dow,this.localeData()._week.doy).year;return null==a?b:this.add(a-b,"y")};B.isoWeekYear=function(a){var b=N(this,1,4).year;return null==a?b:this.add(a-b,"y")};B.quarter=B.quarters=function(a){return null==a?Math.ceil((this.month()+1)/3):this.month(3*(a-1)+this.month()%3)};B.month=la;B.daysInMonth=function(){return W(this.year(),this.month())};B.week=B.weeks=function(a){var b=this.localeData().week(this);
return null==a?b:this.add(7*(a-b),"d")};B.isoWeek=B.isoWeeks=function(a){var b=N(this,1,4).week;return null==a?b:this.add(7*(a-b),"d")};B.weeksInYear=function(){var a=this.localeData()._week;return pb(this.year(),a.dow,a.doy)};B.isoWeeksInYear=function(){return pb(this.year(),1,4)};B.date=zb;B.day=B.days=function(a){var b=this._isUTC?this._d.getUTCDay():this._d.getDay();if(null!=a){a:{var c=this.localeData();if("string"===typeof a)if(isNaN(a)){if(a=c.weekdaysParse(a),"number"!==typeof a){a=null;break a}}else a=
parseInt(a,10)}return this.add(a-b,"d")}return b};B.weekday=function(a){var b=(this.day()+7-this.localeData()._week.dow)%7;return null==a?b:this.add(a-b,"d")};B.isoWeekday=function(a){return null==a?this.day()||7:this.day(this.day()%7?a:a-7)};B.dayOfYear=function(a){var b=Math.round((this.clone().startOf("day")-this.clone().startOf("year"))/864E5)+1;return null==a?b:this.add(a-b,"d")};B.hour=B.hours=Kb;B.minute=B.minutes=Lb;B.second=B.seconds=Mb;B.millisecond=B.milliseconds=Nb;B.utcOffset=function(b,
c){var d=this._offset||0,e;return null!=b?("string"===typeof b&&(b=cb(b)),16>Math.abs(b)&&(b*=60),!this._isUTC&&c&&(e=15*-Math.round(this._d.getTimezoneOffset()/15)),this._offset=b,this._isUTC=!0,null!=e&&this.add(e,"m"),d!==b&&(!c||this._changeInProgress?lb(this,va(b-d,"m"),1,!1):this._changeInProgress||(this._changeInProgress=!0,a.updateOffset(this,!0),this._changeInProgress=null)),this):this._isUTC?d:15*-Math.round(this._d.getTimezoneOffset()/15)};B.utc=function(a){return this.utcOffset(0,a)};
B.local=function(a){this._isUTC&&(this.utcOffset(0,a),this._isUTC=!1,a&&this.subtract(15*-Math.round(this._d.getTimezoneOffset()/15),"m"));return this};B.parseZone=function(){this._tzm?this.utcOffset(this._tzm):"string"===typeof this._i&&this.utcOffset(cb(this._i));return this};B.hasAlignedHourOffset=function(a){a=a?I(a).utcOffset():0;return 0===(this.utcOffset()-a)%60};B.isDST=function(){return this.utcOffset()>this.clone().month(0).utcOffset()||this.utcOffset()>this.clone().month(5).utcOffset()};
B.isDSTShifted=function(){if(this._a){var a=this._isUTC?b(this._a):I(this._a);return this.isValid()&&0<v(this._a,a.toArray())}return!1};B.isLocal=function(){return!this._isUTC};B.isUtcOffset=function(){return this._isUTC};B.isUtc=Pa;B.isUTC=Pa;B.zoneAbbr=function(){return this._isUTC?"UTC":""};B.zoneName=function(){return this._isUTC?"Coordinated Universal Time":""};B.dates=q("dates accessor is deprecated. Use date instead.",zb);B.months=q("months accessor is deprecated. Use month instead",la);B.years=
q("years accessor is deprecated. Use year instead",xb);B.zone=q("moment().zone is deprecated, use moment().utcOffset instead. https://github.com/moment/moment/issues/1779",function(a,b){return null!=a?("string"!==typeof a&&(a=-a),this.utcOffset(a,b),this):-this.utcOffset()});var M=C.prototype;M._calendar={sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"};M.calendar=function(a,b,c){a=this._calendar[a];
return"function"===typeof a?a.call(b,c):a};M._longDateFormat={LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY LT",LLLL:"dddd, MMMM D, YYYY LT"};M.longDateFormat=function(a){var b=this._longDateFormat[a];!b&&this._longDateFormat[a.toUpperCase()]&&(b=this._longDateFormat[a.toUpperCase()].replace(/MMMM|MM|DD|dddd/g,function(a){return a.slice(1)}),this._longDateFormat[a]=b);return b};M._invalidDate="Invalid date";M.invalidDate=function(){return this._invalidDate};M._ordinal=
"%d";M.ordinal=function(a){return this._ordinal.replace("%d",a)};M._ordinalParse=/\d{1,2}/;M.preparse=sb;M.postformat=sb;M._relativeTime={future:"in %s",past:"%s ago",s:"a few seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"};M.relativeTime=function(a,b,c,d){var e=this._relativeTime[c];return"function"===typeof e?e(a,b,c,d):e.replace(/%d/i,a)};M.pastFuture=function(a,b){var c=this._relativeTime[0<a?"future":
"past"];return"function"===typeof c?c(b):c.replace(/%s/i,b)};M.set=function(a){var b,c;for(c in a)b=a[c],"function"===typeof b?this[c]=b:this["_"+c]=b;this._ordinalParseLenient=RegExp(this._ordinalParse.source+"|"+/\d{1,2}/.source)};M.months=function(a){return this._months[a.month()]};M._months="January February March April May June July August September October November December".split(" ");M.monthsShort=function(a){return this._monthsShort[a.month()]};M._monthsShort="Jan Feb Mar Apr May Jun Jul Aug Sep Oct Nov Dec".split(" ");
M.monthsParse=function(a,c,d){var e,f;this._monthsParse||(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[]);for(e=0;12>e;e++)if(f=b([2E3,e]),d&&!this._longMonthsParse[e]&&(this._longMonthsParse[e]=RegExp("^"+this.months(f,"").replace(".","")+"$","i"),this._shortMonthsParse[e]=RegExp("^"+this.monthsShort(f,"").replace(".","")+"$","i")),d||this._monthsParse[e]||(f="^"+this.months(f,"")+"|^"+this.monthsShort(f,""),this._monthsParse[e]=RegExp(f.replace(".",""),"i")),d&&"MMMM"===
c&&this._longMonthsParse[e].test(a)||d&&"MMM"===c&&this._shortMonthsParse[e].test(a)||!d&&this._monthsParse[e].test(a))return e};M.week=function(a){return N(a,this._week.dow,this._week.doy).week};M._week={dow:0,doy:6};M.firstDayOfYear=function(){return this._week.doy};M.firstDayOfWeek=function(){return this._week.dow};M.weekdays=function(a){return this._weekdays[a.day()]};M._weekdays="Sunday Monday Tuesday Wednesday Thursday Friday Saturday".split(" ");M.weekdaysMin=function(a){return this._weekdaysMin[a.day()]};
M._weekdaysMin="Su Mo Tu We Th Fr Sa".split(" ");M.weekdaysShort=function(a){return this._weekdaysShort[a.day()]};M._weekdaysShort="Sun Mon Tue Wed Thu Fri Sat".split(" ");M.weekdaysParse=function(a){var b,c;this._weekdaysParse||(this._weekdaysParse=[]);for(b=0;7>b;b++)if(this._weekdaysParse[b]||(c=I([2E3,1]).day(b),c="^"+this.weekdays(c,"")+"|^"+this.weekdaysShort(c,"")+"|^"+this.weekdaysMin(c,""),this._weekdaysParse[b]=RegExp(c.replace(".",""),"i")),this._weekdaysParse[b].test(a))return b};M.isPM=
function(a){return"p"===(a+"").toLowerCase().charAt(0)};M._meridiemParse=/[ap]\.?m?\.?/i;M.meridiem=function(a,b,c){return 11<a?c?"pm":"PM":c?"am":"AM"};P("en",{ordinalParse:/\d{1,2}(th|st|nd|rd)/,ordinal:function(a){var b=a%10,b=1===n(a%100/10)?"th":1===b?"st":2===b?"nd":3===b?"rd":"th";return a+b}});a.lang=q("moment.lang is deprecated. Use moment.locale instead.",P);a.langData=q("moment.langData is deprecated. Use moment.localeData instead.",H);var sa=Math.abs,Ob=wa("ms"),Pb=wa("s"),Qb=wa("m"),
Rb=wa("h"),Sb=wa("d"),Tb=wa("w"),Ub=wa("M"),Vb=wa("y"),Wb=Da("milliseconds"),Xb=Da("seconds"),Yb=Da("minutes"),Zb=Da("hours"),$b=Da("days"),ac=Da("months"),bc=Da("years"),Ga=Math.round,xa={s:45,m:45,h:22,d:26,M:11},Fa=Math.abs,O=ga.prototype;O.abs=function(){var a=this._data;this._milliseconds=sa(this._milliseconds);this._days=sa(this._days);this._months=sa(this._months);a.milliseconds=sa(a.milliseconds);a.seconds=sa(a.seconds);a.minutes=sa(a.minutes);a.hours=sa(a.hours);a.months=sa(a.months);a.years=
sa(a.years);return this};O.add=function(a,b){return ub(this,a,b,1)};O.subtract=function(a,b){return ub(this,a,b,-1)};O.as=function(a){var b,c=this._milliseconds;a=Q(a);if("month"===a||"year"===a)return b=this._days+c/864E5,b=this._months+400*b/146097*12,"month"===a?b:b/12;b=this._days+Math.round(this._months/12*146097/400);switch(a){case "week":return b/7+c/6048E5;case "day":return b+c/864E5;case "hour":return 24*b+c/36E5;case "minute":return 1440*b+c/6E4;case "second":return 86400*b+c/1E3;case "millisecond":return Math.floor(864E5*
b)+c;default:throw Error("Unknown unit "+a);}};O.asMilliseconds=Ob;O.asSeconds=Pb;O.asMinutes=Qb;O.asHours=Rb;O.asDays=Sb;O.asWeeks=Tb;O.asMonths=Ub;O.asYears=Vb;O.valueOf=function(){return this._milliseconds+864E5*this._days+this._months%12*2592E6+31536E6*n(this._months/12)};O._bubble=function(){var a=this._milliseconds,b=this._days,c=this._months,d=this._data,e=0;d.milliseconds=a%1E3;a=oa(a/1E3);d.seconds=a%60;a=oa(a/60);d.minutes=a%60;a=oa(a/60);d.hours=a%24;b+=oa(a/24);e=oa(400*b/146097);b-=oa(146097*
e/400);c+=oa(b/30);b%=30;e+=oa(c/12);d.days=b;d.months=c%12;d.years=e;return this};O.get=function(a){a=Q(a);return this[a+"s"]()};O.milliseconds=Wb;O.seconds=Xb;O.minutes=Yb;O.hours=Zb;O.days=$b;O.weeks=function(){return oa(this.days()/7)};O.months=ac;O.years=bc;O.humanize=function(a){var b=this.localeData(),c;c=!a;var d=va(this).abs(),e=Ga(d.as("s")),f=Ga(d.as("m")),z=Ga(d.as("h")),s=Ga(d.as("d")),w=Ga(d.as("M")),d=Ga(d.as("y")),e=e<xa.s&&["s",e]||1===f&&["m"]||f<xa.m&&["mm",f]||1===z&&["h"]||z<
xa.h&&["hh",z]||1===s&&["d"]||s<xa.d&&["dd",s]||1===w&&["M"]||w<xa.M&&["MM",w]||1===d&&["y"]||["yy",d];e[2]=c;e[3]=0<+this;e[4]=b;c=Fb.apply(null,e);a&&(c=b.pastFuture(+this,c));return b.postformat(c)};O.toISOString=Ra;O.toString=Ra;O.toJSON=Ra;O.locale=nb;O.localeData=ob;O.toIsoString=q("toIsoString() is deprecated. Please use toISOString() instead (notice the capitals)",Ra);O.lang=yb;x("X",0,0,"unix");x("x",0,0,"valueOf");A("x",Va);A("X",/[+-]?\d+(\.\d{1,3})?/);R("X",function(a,b,c){c._d=new Date(1E3*
parseFloat(a,10))});R("x",function(a,b,c){c._d=new Date(n(a))});a.version="2.10.3";gb=I;a.fn=B;a.min=function(){var a=[].slice.call(arguments,0);return ua("isBefore",a)};a.max=function(){var a=[].slice.call(arguments,0);return ua("isAfter",a)};a.utc=b;a.unix=function(a){return I(1E3*a)};a.months=function(a,b){return Ka(a,b,"months",12,"month")};a.isDate=d;a.locale=P;a.invalid=g;a.duration=va;a.isMoment=u;a.weekdays=function(a,b){return Ka(a,b,"weekdays",7,"day")};a.parseZone=function(){return I.apply(null,
arguments).parseZone()};a.localeData=H;a.isDuration=z;a.monthsShort=function(a,b){return Ka(a,b,"monthsShort",12,"month")};a.weekdaysMin=function(a,b){return Ka(a,b,"weekdaysMin",7,"day")};a.defineLocale=Z;a.weekdaysShort=function(a,b){return Ka(a,b,"weekdaysShort",7,"day")};a.normalizeUnits=Q;a.relativeTimeThreshold=function(a,b){if(void 0===xa[a])return!1;if(void 0===b)return xa[a];xa[a]=b;return!0};return a});/*
: Copyright (c) 2012-2015 Dan Grossman. All rights reserved.
 @license: Licensed under the MIT license. See http://www.opensource.org/licenses/mit-license.php
 @website: https://www.improvely.com/
*/
(function(a,m){if("function"===typeof define&&define.amd)define(["moment","jquery","exports"],function(c,b,d){a.daterangepicker=m(a,d,c,b)});else if("undefined"!==typeof exports){var d=require("moment"),f="undefined"!=typeof window?window.jQuery:void 0;if(!f)try{f=require("jquery"),f.fn||(f.fn={})}catch(c){if(!f)throw Error("jQuery dependency not found");}m(a,exports,d,f)}else a.daterangepicker=m(a,{},a.moment||moment,a.jQuery||a.Zepto||a.ender||a.$)})(this||{},function(a,m,d,f){var c=function(a,
b,c){this.parentEl="body";this.element=f(a);this.startDate=d().startOf("day");this.endDate=d().endOf("day");this.timePicker24Hour=this.timePicker=this.showWeekNumbers=this.showDropdowns=this.singleDatePicker=this.autoApply=this.dateLimit=this.maxDate=this.minDate=!1;this.timePickerIncrement=1;this.timePickerSeconds=!1;this.autoUpdateInput=this.linkedCalendars=!0;this.ranges={};this.opens="right";this.element.hasClass("pull-right")&&(this.opens="left");this.drops="down";this.element.hasClass("dropup")&&
(this.drops="up");this.buttonClasses="btn btn-sm";this.applyClass="btn-success";this.cancelClass="btn-default";this.locale={format:"YYYY/MM/DD",separator:"-",applyLabel:"确定",cancelLabel:"取消",weekLabel:"W",customRangeLabel:"Custom Range",daysOfWeek:d.weekdaysMin(),monthNames:d.monthsShort(),firstDay:d.localeData().firstDayOfWeek()};this.callback=function(){};this.isShowing=!1;this.leftCalendar={};this.rightCalendar={};if("object"!==typeof b||null===b)b={};b=f.extend(this.element.data(),b);"string"!==
typeof b.template&&(b.template='<div class="daterangepicker dropdown-menu"><div class="calendar left"><div class="daterangepicker_input"><input class="input-mini" type="text" name="daterangepicker_start" value="" /><i class="fa fa-calendar glyphicon glyphicon-calendar"></i><div class="calendar-time"><div></div><i class="fa fa-clock-o glyphicon glyphicon-time"></i></div></div><div class="calendar-table"></div></div><div class="calendar right"><div class="daterangepicker_input"><input class="input-mini" type="text" name="daterangepicker_end" value="" /><i class="fa fa-calendar glyphicon glyphicon-calendar"></i><div class="calendar-time"><div></div><i class="fa fa-clock-o glyphicon glyphicon-time"></i></div></div><div class="calendar-table"></div></div><div class="ranges"><div class="range_inputs"><button class="applyBtn" disabled="disabled" type="button"></button> <button class="cancelBtn" type="button"></button></div></div></div>');
this.parentEl=b.parentEl&&f(b.parentEl).length?f(b.parentEl):f(this.parentEl);this.container=f(b.template).appendTo(this.parentEl);"object"===typeof b.locale&&("string"===typeof b.locale.format&&(this.locale.format=b.locale.format),"string"===typeof b.locale.separator&&(this.locale.separator=b.locale.separator),"object"===typeof b.locale.daysOfWeek&&(this.locale.daysOfWeek=b.locale.daysOfWeek.slice()),"object"===typeof b.locale.monthNames&&(this.locale.monthNames=b.locale.monthNames.slice()),"number"===
typeof b.locale.firstDay&&(this.locale.firstDay=b.locale.firstDay),"string"===typeof b.locale.applyLabel&&(this.locale.applyLabel=b.locale.applyLabel),"string"===typeof b.locale.cancelLabel&&(this.locale.cancelLabel=b.locale.cancelLabel),"string"===typeof b.locale.weekLabel&&(this.locale.weekLabel=b.locale.weekLabel),"string"===typeof b.locale.customRangeLabel&&(this.locale.customRangeLabel=b.locale.customRangeLabel));"string"===typeof b.startDate&&(this.startDate=d(b.startDate,this.locale.format));
"string"===typeof b.endDate&&(this.endDate=d(b.endDate,this.locale.format));"string"===typeof b.minDate&&(this.minDate=d(b.minDate,this.locale.format));"string"===typeof b.maxDate&&(this.maxDate=d(b.maxDate,this.locale.format));"object"===typeof b.startDate&&(this.startDate=d(b.startDate));"object"===typeof b.endDate&&(this.endDate=d(b.endDate));"object"===typeof b.minDate&&(this.minDate=d(b.minDate));"object"===typeof b.maxDate&&(this.maxDate=d(b.maxDate));this.minDate&&this.startDate.isBefore(this.minDate)&&
(this.startDate=this.minDate.clone());this.maxDate&&this.endDate.isAfter(this.maxDate)&&(this.endDate=this.maxDate.clone());"string"===typeof b.applyClass&&(this.applyClass=b.applyClass);"string"===typeof b.cancelClass&&(this.cancelClass=b.cancelClass);"object"===typeof b.dateLimit&&(this.dateLimit=b.dateLimit);"string"===typeof b.opens&&(this.opens=b.opens);"string"===typeof b.drops&&(this.drops=b.drops);"boolean"===typeof b.showWeekNumbers&&(this.showWeekNumbers=b.showWeekNumbers);"string"===typeof b.buttonClasses&&
(this.buttonClasses=b.buttonClasses);"object"===typeof b.buttonClasses&&(this.buttonClasses=b.buttonClasses.join(" "));"boolean"===typeof b.showDropdowns&&(this.showDropdowns=b.showDropdowns);"boolean"===typeof b.singleDatePicker&&(this.singleDatePicker=b.singleDatePicker)&&(this.endDate=this.startDate.clone());"boolean"===typeof b.timePicker&&(this.timePicker=b.timePicker);"boolean"===typeof b.timePickerSeconds&&(this.timePickerSeconds=b.timePickerSeconds);"number"===typeof b.timePickerIncrement&&
(this.timePickerIncrement=b.timePickerIncrement);"boolean"===typeof b.timePicker24Hour&&(this.timePicker24Hour=b.timePicker24Hour);"boolean"===typeof b.autoApply&&(this.autoApply=b.autoApply);"boolean"===typeof b.autoUpdateInput&&(this.autoUpdateInput=b.autoUpdateInput);"boolean"===typeof b.linkedCalendars&&(this.linkedCalendars=b.linkedCalendars);"function"===typeof b.isInvalidDate&&(this.isInvalidDate=b.isInvalidDate);if(0!=this.locale.firstDay)for(a=this.locale.firstDay;0<a;)this.locale.daysOfWeek.push(this.locale.daysOfWeek.shift()),
a--;var h,g;if("undefined"===typeof b.startDate&&"undefined"===typeof b.endDate&&f(this.element).is("input[type=text]")){var l=f(this.element).val(),m=l.split(this.locale.separator);a=h=null;2==m.length?(a=d(m[0],this.locale.format),h=d(m[1],this.locale.format)):this.singleDatePicker&&""!==l&&(a=d(l,this.locale.format),h=d(l,this.locale.format));null!==a&&null!==h&&(this.setStartDate(a),this.setEndDate(h))}if("object"===typeof b.ranges){for(g in b.ranges)a="string"===typeof b.ranges[g][0]?d(b.ranges[g][0],
this.locale.format):d(b.ranges[g][0]),h="string"===typeof b.ranges[g][1]?d(b.ranges[g][1],this.locale.format):d(b.ranges[g][1]),this.minDate&&a.isBefore(this.minDate)&&(a=this.minDate.clone()),l=this.maxDate,this.dateLimit&&a.clone().add(this.dateLimit).isAfter(l)&&(l=a.clone().add(this.dateLimit)),l&&h.isAfter(l)&&(h=l.clone()),this.minDate&&h.isBefore(this.minDate)||l&&a.isAfter(l)||(l=document.createElement("textarea"),l.innerHTML=g,this.ranges[l.value]=[a,h]);a="<ul>";for(g in this.ranges)a+=
"<li>"+g+"</li>";a+="<li>"+this.locale.customRangeLabel+"</li>";a+="</ul>";this.container.find(".ranges").prepend(a)}"function"===typeof c&&(this.callback=c);this.timePicker||(this.startDate=this.startDate.startOf("day"),this.endDate=this.endDate.endOf("day"),this.container.find(".calendar-time").hide());this.timePicker&&this.autoApply&&(this.autoApply=!1);this.autoApply&&"object"!==typeof b.ranges?this.container.find(".ranges").hide():this.autoApply&&this.container.find(".applyBtn, .cancelBtn").addClass("hide");
this.singleDatePicker&&(this.container.addClass("single"),this.container.find(".calendar.left").addClass("single"),this.container.find(".calendar.left").show(),this.container.find(".calendar.right").hide(),this.container.find(".daterangepicker_input input, .daterangepicker_input i").hide(),this.timePicker||this.container.find(".ranges").hide());"undefined"!==typeof b.ranges||this.singleDatePicker||this.container.addClass("show-calendar");this.container.addClass("opens"+this.opens);"undefined"!==typeof b.ranges&&
"right"==this.opens&&(b=this.container.find(".ranges"),c=b.clone(),b.remove(),this.container.find(".calendar.left").parent().prepend(c));this.container.find(".applyBtn, .cancelBtn").addClass(this.buttonClasses);this.applyClass.length&&this.container.find(".applyBtn").addClass(this.applyClass);this.cancelClass.length&&this.container.find(".cancelBtn").addClass(this.cancelClass);this.container.find(".applyBtn").html(this.locale.applyLabel);this.container.find(".cancelBtn").html(this.locale.cancelLabel);
this.container.find(".calendar").on("click.daterangepicker",".prev",f.proxy(this.clickPrev,this)).on("click.daterangepicker",".next",f.proxy(this.clickNext,this)).on("click.daterangepicker","td.available",f.proxy(this.clickDate,this)).on("mouseenter.daterangepicker","td.available",f.proxy(this.hoverDate,this)).on("mouseleave.daterangepicker","td.available",f.proxy(this.updateFormInputs,this)).on("change.daterangepicker","select.yearselect",f.proxy(this.monthOrYearChanged,this)).on("change.daterangepicker",
"select.monthselect",f.proxy(this.monthOrYearChanged,this)).on("change.daterangepicker","select.hourselect,select.minuteselect,select.secondselect,select.ampmselect",f.proxy(this.timeChanged,this)).on("click.daterangepicker",".daterangepicker_input input",f.proxy(this.showCalendars,this)).on("change.daterangepicker",".daterangepicker_input input",f.proxy(this.formInputsChanged,this));this.container.find(".ranges").on("click.daterangepicker","button.applyBtn",f.proxy(this.clickApply,this)).on("click.daterangepicker",
"button.cancelBtn",f.proxy(this.clickCancel,this)).on("click.daterangepicker","li",f.proxy(this.clickRange,this)).on("mouseenter.daterangepicker","li",f.proxy(this.hoverRange,this)).on("mouseleave.daterangepicker","li",f.proxy(this.updateFormInputs,this));if(this.element.is("input"))this.element.on({"click.daterangepicker":f.proxy(this.show,this),"focus.daterangepicker":f.proxy(this.show,this),"keyup.daterangepicker":f.proxy(this.elementChanged,this),"keydown.daterangepicker":f.proxy(this.keydown,
this)});else this.element.on("click.daterangepicker",f.proxy(this.toggle,this));this.element.is("input")&&!this.singleDatePicker&&this.autoUpdateInput?(this.element.val(this.startDate.format(this.locale.format)+this.locale.separator+this.endDate.format(this.locale.format)),this.element.trigger("change")):this.element.is("input")&&this.autoUpdateInput&&(this.element.val(this.startDate.format(this.locale.format)),this.element.trigger("change"))};c.prototype={constructor:c,setStartDate:function(a){"string"===
typeof a&&(this.startDate=d(a,this.locale.format));"object"===typeof a&&(this.startDate=d(a));this.timePicker||(this.startDate=this.startDate.startOf("day"));this.timePicker&&this.timePickerIncrement&&this.startDate.minute(Math.round(this.startDate.minute()/this.timePickerIncrement)*this.timePickerIncrement);this.minDate&&this.startDate.isBefore(this.minDate)&&(this.startDate=this.minDate);this.maxDate&&this.startDate.isAfter(this.maxDate)&&(this.startDate=this.maxDate);this.isShowing||this.updateElement();
this.updateMonthsInView()},setEndDate:function(a){"string"===typeof a&&(this.endDate=d(a,this.locale.format));"object"===typeof a&&(this.endDate=d(a));this.timePicker||(this.endDate=this.endDate.endOf("day"));this.timePicker&&this.timePickerIncrement&&this.endDate.minute(Math.round(this.endDate.minute()/this.timePickerIncrement)*this.timePickerIncrement);this.endDate.isBefore(this.startDate)&&(this.endDate=this.startDate.clone());this.maxDate&&this.endDate.isAfter(this.maxDate)&&(this.endDate=this.maxDate);
this.dateLimit&&this.startDate.clone().add(this.dateLimit).isBefore(this.endDate)&&(this.endDate=this.startDate.clone().add(this.dateLimit));this.isShowing||this.updateElement();this.updateMonthsInView()},isInvalidDate:function(){return!1},updateView:function(){this.timePicker&&(this.renderTimePicker("left"),this.renderTimePicker("right"),this.endDate?this.container.find(".right .calendar-time select").removeAttr("disabled").removeClass("disabled"):this.container.find(".right .calendar-time select").attr("disabled",
"disabled").addClass("disabled"));this.endDate?(this.container.find('input[name="daterangepicker_end"]').removeClass("active"),this.container.find('input[name="daterangepicker_start"]').addClass("active")):(this.container.find('input[name="daterangepicker_end"]').addClass("active"),this.container.find('input[name="daterangepicker_start"]').removeClass("active"));this.updateMonthsInView();this.updateCalendars();this.updateFormInputs()},updateMonthsInView:function(){if(this.endDate){if(this.singleDatePicker||
!this.leftCalendar.month||!this.rightCalendar.month||this.startDate.format("YYYY-MM")!=this.leftCalendar.month.format("YYYY-MM")&&this.startDate.format("YYYY-MM")!=this.rightCalendar.month.format("YYYY-MM")||this.endDate.format("YYYY-MM")!=this.leftCalendar.month.format("YYYY-MM")&&this.endDate.format("YYYY-MM")!=this.rightCalendar.month.format("YYYY-MM"))this.leftCalendar.month=this.startDate.clone().date(2),this.linkedCalendars||this.endDate.month()==this.startDate.month()&&this.endDate.year()==
this.startDate.year()?this.rightCalendar.month=this.startDate.clone().date(2).add(1,"month"):this.rightCalendar.month=this.endDate.clone().date(2)}else this.leftCalendar.month.format("YYYY-MM")!=this.startDate.format("YYYY-MM")&&this.rightCalendar.month.format("YYYY-MM")!=this.startDate.format("YYYY-MM")&&(this.leftCalendar.month=this.startDate.clone().date(2),this.rightCalendar.month=this.startDate.clone().date(2).add(1,"month"))},updateCalendars:function(){if(this.timePicker){var a,b,c;if(this.endDate){if(a=
parseInt(this.container.find(".left .hourselect").val(),10),b=parseInt(this.container.find(".left .minuteselect").val(),10),c=this.timePickerSeconds?parseInt(this.container.find(".left .secondselect").val(),10):0,!this.timePicker24Hour){var d=this.container.find(".left .ampmselect").val();"PM"===d&&12>a&&(a+=12);"AM"===d&&12===a&&(a=0)}}else a=parseInt(this.container.find(".right .hourselect").val(),10),b=parseInt(this.container.find(".right .minuteselect").val(),10),c=this.timePickerSeconds?parseInt(this.container.find(".right .secondselect").val(),
10):0,this.timePicker24Hour||(d=this.container.find(".right .ampmselect").val(),"PM"===d&&12>a&&(a+=12),"AM"===d&&12===a&&(a=0));this.leftCalendar.month.hour(a).minute(b).second(c);this.rightCalendar.month.hour(a).minute(b).second(c)}this.renderCalendar("left");this.renderCalendar("right");this.container.find(".ranges li").removeClass("active");if(null!=this.endDate){a=!0;b=0;for(var f in this.ranges){if(this.timePicker){if(this.startDate.isSame(this.ranges[f][0])&&this.endDate.isSame(this.ranges[f][1])){a=
!1;this.chosenLabel=this.container.find(".ranges li:eq("+b+")").addClass("active").html();break}}else if(this.startDate.format("YYYY-MM-DD")==this.ranges[f][0].format("YYYY-MM-DD")&&this.endDate.format("YYYY-MM-DD")==this.ranges[f][1].format("YYYY-MM-DD")){a=!1;this.chosenLabel=this.container.find(".ranges li:eq("+b+")").addClass("active").html();break}b++}a&&(this.chosenLabel=this.container.find(".ranges li:last").addClass("active").html(),this.showCalendars())}},renderCalendar:function(a){var b=
"left"==a?this.leftCalendar:this.rightCalendar,c=b.month.month(),h=b.month.year(),g=b.month.hour(),l=b.month.minute(),m=b.month.second(),b=d([h,c]).daysInMonth(),u=d([h,c,1]),n=d([h,c,b]),c=d(u).subtract(1,"month").month(),h=d(u).subtract(1,"month").year(),v=d([h,c]).daysInMonth(),C=u.day(),b=[];b.firstDay=u;b.lastDay=n;for(u=0;6>u;u++)b[u]=[];u=v-C+this.locale.firstDay+1;u>v&&(u-=7);C==this.locale.firstDay&&(u=v-6);v=d([h,c,u,12,l,m]);for(h=c=u=0;42>u;u++,c++,v=d(v).add(24,"hour"))0<u&&0===c%7&&
(c=0,h++),b[h][c]=v.clone().hour(g).minute(l).second(m),v.hour(12),this.minDate&&b[h][c].format("YYYY-MM-DD")==this.minDate.format("YYYY-MM-DD")&&b[h][c].isBefore(this.minDate)&&"left"==a&&(b[h][c]=this.minDate.clone()),this.maxDate&&b[h][c].format("YYYY-MM-DD")==this.maxDate.format("YYYY-MM-DD")&&b[h][c].isAfter(this.maxDate)&&"right"==a&&(b[h][c]=this.maxDate.clone());"left"==a?this.leftCalendar.calendar=b:this.rightCalendar.calendar=b;var c="left"==a?this.minDate:this.startDate,g=this.maxDate,
s='<table class="table-condensed">',s=s+"<thead>",s=s+"<tr>";this.showWeekNumbers&&(s+="<th></th>");s=c&&!c.isBefore(b.firstDay)||this.linkedCalendars&&"left"!=a?s+"<th></th>":s+'<th class="prev available"><i class="fa fa-chevron-left glyphicon glyphicon-chevron-left"></i></th>';l=this.locale.monthNames[b[1][1].month()]+b[1][1].format(" YYYY");if(this.showDropdowns){for(var v=b[1][1].month(),l=b[1][1].year(),m=g&&g.year()||l+5,h=c&&c.year()||l-50,C=l==h,n=l==m,u='<select class="monthselect">',L=0;12>
L;L++)u=(!C||L>=c.month())&&(!n||L<=g.month())?u+("<option value='"+L+"'"+(L===v?" selected='selected'":"")+">"+this.locale.monthNames[L]+"</option>"):u+("<option value='"+L+"'"+(L===v?" selected='selected'":"")+" disabled='disabled'>"+this.locale.monthNames[L]+"</option>");for(c='<select class="yearselect">';h<=m;h++)c+='<option value="'+h+'"'+(h===l?' selected="selected"':"")+">"+h+"</option>";l=u+"</select>"+(c+"</select>")}s+='<th colspan="5" class="month">'+l+"</th>";s=g&&!g.isAfter(b.lastDay)||
this.linkedCalendars&&"right"!=a&&!this.singleDatePicker?s+"<th></th>":s+'<th class="next available"><i class="fa fa-chevron-right glyphicon glyphicon-chevron-right"></i></th>';s+="</tr>";s+="<tr>";this.showWeekNumbers&&(s+='<th class="week">'+this.locale.weekLabel+"</th>");f.each(this.locale.daysOfWeek,function(a,b){s+="<th>"+b+"</th>"});s+="</tr>";s+="</thead>";s+="<tbody>";null==this.endDate&&this.dateLimit&&(l=this.startDate.clone().add(this.dateLimit).endOf("day"),!g||l.isBefore(g))&&(g=l);for(h=
0;6>h;h++){s+="<tr>";this.showWeekNumbers&&(s+='<td class="week">'+b[h][0].week()+"</td>");for(c=0;7>c;c++){l=[];b[h][c].isSame(new Date,"day")&&l.push("today");5<b[h][c].isoWeekday()&&l.push("weekend");b[h][c].month()!=b[1][1].month()&&l.push("off");this.minDate&&b[h][c].isBefore(this.minDate,"day")&&l.push("off","disabled");g&&b[h][c].isAfter(g,"day")&&l.push("off","disabled");this.isInvalidDate(b[h][c])&&l.push("off","disabled");b[h][c].format("YYYY-MM-DD")==this.startDate.format("YYYY-MM-DD")&&
l.push("active","start-date");null!=this.endDate&&b[h][c].format("YYYY-MM-DD")==this.endDate.format("YYYY-MM-DD")&&l.push("active","end-date");null!=this.endDate&&b[h][c]>this.startDate&&b[h][c]<this.endDate&&l.push("in-range");m="";v=!1;for(u=0;u<l.length;u++)m+=l[u]+" ","disabled"==l[u]&&(v=!0);v||(m+="available");s+='<td class="'+m.replace(/^\s+|\s+$/g,"")+'" data-title="r'+h+"c"+c+'">'+b[h][c].date()+"</td>"}s+="</tr>"}s+="</tbody>";s+="</table>";this.container.find(".calendar."+a+" .calendar-table").html(s)},
renderTimePicker:function(a){var b,c,d,f=this.maxDate;!this.dateLimit||this.maxDate&&!this.startDate.clone().add(this.dateLimit).isAfter(this.maxDate)||(f=this.startDate.clone().add(this.dateLimit));"left"==a?(c=this.startDate.clone(),d=this.minDate):"right"==a&&(c=this.endDate?this.endDate.clone():this.startDate.clone(),d=this.startDate);b='<select class="hourselect">';for(var m=this.timePicker24Hour?23:12,y=this.timePicker24Hour?0:1;y<=m;y++){var u=y;this.timePicker24Hour||(u=12<=c.hour()?12==y?
12:y+12:12==y?0:y);var n=c.clone().hour(u),v=!1;d&&n.minute(59).isBefore(d)&&(v=!0);f&&n.minute(0).isAfter(f)&&(v=!0);b=u!=c.hour()||v?v?b+('<option value="'+y+'" disabled="disabled" class="disabled">'+y+"</option>"):b+('<option value="'+y+'">'+y+"</option>"):b+('<option value="'+y+'" selected="selected">'+y+"</option>")}b+='</select> : <select class="minuteselect">';for(y=0;60>y;y+=this.timePickerIncrement)m=10>y?"0"+y:y,n=c.clone().minute(y),v=!1,d&&n.second(59).isBefore(d)&&(v=!0),f&&n.second(0).isAfter(f)&&
(v=!0),b=c.minute()!=y||v?v?b+('<option value="'+y+'" disabled="disabled" class="disabled">'+m+"</option>"):b+('<option value="'+y+'">'+m+"</option>"):b+('<option value="'+y+'" selected="selected">'+m+"</option>");b+="</select> ";if(this.timePickerSeconds){b+=': <select class="secondselect">';for(y=0;60>y;y++)m=10>y?"0"+y:y,n=c.clone().second(y),v=!1,d&&n.isBefore(d)&&(v=!0),f&&n.isAfter(f)&&(v=!0),b=c.second()!=y||v?v?b+('<option value="'+y+'" disabled="disabled" class="disabled">'+m+"</option>"):
b+('<option value="'+y+'">'+m+"</option>"):b+('<option value="'+y+'" selected="selected">'+m+"</option>");b+="</select> "}this.timePicker24Hour||(b+='<select class="ampmselect">',n=y="",d&&c.clone().hour(12).minute(0).second(0).isBefore(d)&&(y=' disabled="disabled" class="disabled"'),f&&c.clone().hour(0).minute(0).second(0).isAfter(f)&&(n=' disabled="disabled" class="disabled"'),b=12<=c.hour()?b+('<option value="AM"'+y+'>AM</option><option value="PM" selected="selected"'+n+">PM</option>"):b+('<option value="AM" selected="selected"'+
y+'>AM</option><option value="PM"'+n+">PM</option>"),b+="</select>");this.container.find(".calendar."+a+" .calendar-time div").html(b)},updateFormInputs:function(){this.container.find("input[name=daterangepicker_start]").is(":focus")||this.container.find("input[name=daterangepicker_end]").is(":focus")||(this.container.find("input[name=daterangepicker_start]").val(this.startDate.format(this.locale.format)),this.endDate&&this.container.find("input[name=daterangepicker_end]").val(this.endDate.format(this.locale.format)),
this.singleDatePicker||this.endDate&&(this.startDate.isBefore(this.endDate)||this.startDate.isSame(this.endDate))?this.container.find("button.applyBtn").removeAttr("disabled"):this.container.find("button.applyBtn").attr("disabled","disabled"))},move:function(){var a=0,b=0,c=f(window).width();this.parentEl.is("body")||(a=this.parentEl.offset().top-this.parentEl.scrollTop(),b=this.parentEl.offset().left-this.parentEl.scrollLeft(),c=this.parentEl[0].clientWidth+this.parentEl.offset().left);a="up"==this.drops?
this.element.offset().top-this.container.outerHeight()-a:this.element.offset().top+this.element.outerHeight()-a;this.container["up"==this.drops?"addClass":"removeClass"]("dropup");"left"==this.opens?(this.container.css({top:a,right:c-this.element.offset().left-this.element.outerWidth(),left:"auto"}),0>this.container.offset().left&&this.container.css({right:"auto",left:9})):"center"==this.opens?(this.container.css({top:a,left:this.element.offset().left-b+this.element.outerWidth()/2-this.container.outerWidth()/
2,right:"auto"}),0>this.container.offset().left&&this.container.css({right:"auto",left:9})):(this.container.css({top:a,left:this.element.offset().left-b,right:"auto"}),this.container.offset().left+this.container.outerWidth()>f(window).width()&&this.container.css({left:"auto",right:0}))},show:function(a){this.isShowing||(this._outsideClickProxy=f.proxy(function(a){this.outsideClick(a)},this),f(document).on("mousedown.daterangepicker",this._outsideClickProxy).on("touchend.daterangepicker",this._outsideClickProxy).on("click.daterangepicker",
"[data-toggle=dropdown]",this._outsideClickProxy).on("focusin.daterangepicker",this._outsideClickProxy),f(window).on("resize.daterangepicker",f.proxy(function(a){this.move(a)},this)),this.oldStartDate=this.startDate.clone(),this.oldEndDate=this.endDate.clone(),this.updateView(),this.container.show(),this.move(),this.element.trigger("show.daterangepicker",this),this.isShowing=!0)},hide:function(a){this.isShowing&&(this.endDate||(this.startDate=this.oldStartDate.clone(),this.endDate=this.oldEndDate.clone()),
this.startDate.isSame(this.oldStartDate)&&this.endDate.isSame(this.oldEndDate)||this.callback(this.startDate,this.endDate,this.chosenLabel),this.updateElement(),f(document).off(".daterangepicker"),f(window).off(".daterangepicker"),this.container.hide(),this.element.trigger("hide.daterangepicker",this),this.isShowing=!1)},toggle:function(a){this.isShowing?this.hide():this.show()},outsideClick:function(a){var b=f(a.target);"focusin"==a.type||b.closest(this.element).length||b.closest(this.container).length||
b.closest(".calendar-table").length||this.hide()},showCalendars:function(){this.container.addClass("show-calendar");this.move();this.element.trigger("showCalendar.daterangepicker",this)},hideCalendars:function(){this.container.removeClass("show-calendar");this.element.trigger("hideCalendar.daterangepicker",this)},hoverRange:function(a){this.container.find("input[name=daterangepicker_start]").is(":focus")||this.container.find("input[name=daterangepicker_end]").is(":focus")||(a=a.target.innerHTML,a==
this.locale.customRangeLabel?this.updateView():(a=this.ranges[a],this.container.find("input[name=daterangepicker_start]").val(a[0].format(this.locale.format)),this.container.find("input[name=daterangepicker_end]").val(a[1].format(this.locale.format))))},clickRange:function(a){this.chosenLabel=a=a.target.innerHTML;a==this.locale.customRangeLabel?this.showCalendars():(a=this.ranges[a],this.startDate=a[0],this.endDate=a[1],this.timePicker||(this.startDate.startOf("day"),this.endDate.endOf("day")),this.hideCalendars(),
this.clickApply())},clickPrev:function(a){f(a.target).parents(".calendar").hasClass("left")?(this.leftCalendar.month.subtract(1,"month"),this.linkedCalendars&&this.rightCalendar.month.subtract(1,"month")):this.rightCalendar.month.subtract(1,"month");this.updateCalendars()},clickNext:function(a){f(a.target).parents(".calendar").hasClass("left")?this.leftCalendar.month.add(1,"month"):(this.rightCalendar.month.add(1,"month"),this.linkedCalendars&&this.leftCalendar.month.add(1,"month"));this.updateCalendars()},
hoverDate:function(a){if(!this.container.find("input[name=daterangepicker_start]").is(":focus")&&!this.container.find("input[name=daterangepicker_end]").is(":focus")&&f(a.target).hasClass("available")){var b=f(a.target).attr("data-title"),c=b.substr(1,1),b=b.substr(3,1),d=f(a.target).parents(".calendar").hasClass("left")?this.leftCalendar.calendar[c][b]:this.rightCalendar.calendar[c][b];this.endDate?this.container.find("input[name=daterangepicker_start]").val(d.format(this.locale.format)):this.container.find("input[name=daterangepicker_end]").val(d.format(this.locale.format));
var g=this.leftCalendar,m=this.rightCalendar,y=this.startDate;this.endDate||this.container.find(".calendar td").each(function(a,b){if(!f(b).hasClass("week")){var c=f(b).attr("data-title"),e=c.substr(1,1),c=c.substr(3,1),e=f(b).parents(".calendar").hasClass("left")?g.calendar[e][c]:m.calendar[e][c];e.isAfter(y)&&e.isBefore(d)?f(b).addClass("in-range"):f(b).removeClass("in-range")}})}},clickDate:function(a){if(f(a.target).hasClass("available")){var b=f(a.target).attr("data-title"),c=b.substr(1,1),d=
b.substr(3,1),b=f(a.target).parents(".calendar"),c=b.hasClass("left")?this.leftCalendar.calendar[c][d]:this.rightCalendar.calendar[c][d];this.endDate||c.isBefore(this.startDate)?(this.timePicker&&(a=parseInt(this.container.find(".left .hourselect").val(),10),this.timePicker24Hour||(b=b.find(".ampmselect").val(),"PM"===b&&12>a&&(a+=12),"AM"===b&&12===a&&(a=0)),b=parseInt(this.container.find(".left .minuteselect").val(),10),d=this.timePickerSeconds?parseInt(this.container.find(".left .secondselect").val(),
10):0,c=c.clone().hour(a).minute(b).second(d)),this.endDate=null,this.setStartDate(c.clone())):(this.timePicker&&(a=parseInt(this.container.find(".right .hourselect").val(),10),this.timePicker24Hour||(b=this.container.find(".right .ampmselect").val(),"PM"===b&&12>a&&(a+=12),"AM"===b&&12===a&&(a=0)),b=parseInt(this.container.find(".right .minuteselect").val(),10),d=this.timePickerSeconds?parseInt(this.container.find(".right .secondselect").val(),10):0,c=c.clone().hour(a).minute(b).second(d)),this.setEndDate(c.clone()),
this.autoApply&&this.clickApply());this.singleDatePicker&&(this.setEndDate(this.startDate),this.timePicker||this.clickApply());this.updateView()}},clickApply:function(a){this.hide();this.element.trigger("apply.daterangepicker",this)},clickCancel:function(a){this.startDate=this.oldStartDate;this.endDate=this.oldEndDate;this.hide();this.element.trigger("cancel.daterangepicker",this)},monthOrYearChanged:function(a){a=f(a.target).closest(".calendar").hasClass("left");var b=this.container.find(".calendar."+
(a?"left":"right")),c=parseInt(b.find(".monthselect").val(),10),b=b.find(".yearselect").val();!a&&(b<this.startDate.year()||b==this.startDate.year()&&c<this.startDate.month())&&(c=this.startDate.month(),b=this.startDate.year());this.minDate&&(b<this.minDate.year()||b==this.minDate.year()&&c<this.minDate.month())&&(c=this.minDate.month(),b=this.minDate.year());this.maxDate&&(b>this.maxDate.year()||b==this.maxDate.year()&&c>this.maxDate.month())&&(c=this.maxDate.month(),b=this.maxDate.year());a?(this.leftCalendar.month.month(c).year(b),
this.linkedCalendars&&(this.rightCalendar.month=this.leftCalendar.month.clone().add(1,"month"))):(this.rightCalendar.month.month(c).year(b),this.linkedCalendars&&(this.leftCalendar.month=this.rightCalendar.month.clone().subtract(1,"month")));this.updateCalendars()},timeChanged:function(a){var b=f(a.target).closest(".calendar"),c=b.hasClass("left");a=parseInt(b.find(".hourselect").val(),10);var d=parseInt(b.find(".minuteselect").val(),10),g=this.timePickerSeconds?parseInt(b.find(".secondselect").val(),
10):0;this.timePicker24Hour||(b=b.find(".ampmselect").val(),"PM"===b&&12>a&&(a+=12),"AM"===b&&12===a&&(a=0));c?(c=this.startDate.clone(),c.hour(a),c.minute(d),c.second(g),this.setStartDate(c),this.singleDatePicker?this.endDate=this.startDate.clone():this.endDate&&this.endDate.format("YYYY-MM-DD")==c.format("YYYY-MM-DD")&&this.endDate.isBefore(c)&&this.setEndDate(c.clone())):this.endDate&&(c=this.endDate.clone(),c.hour(a),c.minute(d),c.second(g),this.setEndDate(c));this.updateCalendars();this.updateFormInputs();
this.renderTimePicker("left");this.renderTimePicker("right")},formInputsChanged:function(a){a=f(a.target).closest(".calendar").hasClass("right");var b=d(this.container.find('input[name="daterangepicker_start"]').val(),this.locale.format),c=d(this.container.find('input[name="daterangepicker_end"]').val(),this.locale.format);b.isValid()&&c.isValid()&&(a&&c.isBefore(b)&&(b=c.clone()),this.setStartDate(b),this.setEndDate(c),a?this.container.find('input[name="daterangepicker_start"]').val(this.startDate.format(this.locale.format)):
this.container.find('input[name="daterangepicker_end"]').val(this.endDate.format(this.locale.format)));this.updateCalendars();this.timePicker&&(this.renderTimePicker("left"),this.renderTimePicker("right"))},elementChanged:function(){if(this.element.is("input")&&this.element.val().length&&!(this.element.val().length<this.locale.format.length)){var a=this.element.val().split(this.locale.separator),b=null,c=null;2===a.length&&(b=d(a[0],this.locale.format),c=d(a[1],this.locale.format));if(this.singleDatePicker||
null===b||null===c)c=b=d(this.element.val(),this.locale.format);b.isValid()&&c.isValid()&&(this.setStartDate(b),this.setEndDate(c),this.updateView())}},keydown:function(a){9!==a.keyCode&&13!==a.keyCode||this.hide()},updateElement:function(){this.element.is("input")&&!this.singleDatePicker&&this.autoUpdateInput?(this.element.val(this.startDate.format(this.locale.format)+this.locale.separator+this.endDate.format(this.locale.format)),this.element.trigger("change")):this.element.is("input")&&this.autoUpdateInput&&
(this.element.val(this.startDate.format(this.locale.format)),this.element.trigger("change"))},remove:function(){this.container.remove();this.element.off(".daterangepicker");this.element.removeData()}};f.fn.daterangepicker=function(a,b){this.each(function(){var d=f(this);d.data("daterangepicker")&&d.data("daterangepicker").remove();d.data("daterangepicker",new c(d,a,b))});return this};return c});(function(a,m){function d(){return new Date(Date.UTC.apply(Date,arguments))}function f(){var a=new Date;return d(a.getFullYear(),a.getMonth(),a.getDate())}function c(a){return function(){return this[a].apply(this,arguments)}}function e(b,c){function d(a,b){return b.toLowerCase()}var e=a(b).data(),f={},k,g=RegExp("^"+c.toLowerCase()+"([A-Z])");c=RegExp("^"+c.toLowerCase());for(var h in e)c.test(h)&&(k=h.replace(g,d),f[k]=e[h]);return f}function b(b){var c={};if(!v[b]&&(b=b.split("-")[0],!v[b]))return;
var d=v[b];a.each(n,function(a,b){b in d&&(c[b]=d[b])});return c}var k=a(window),h=function(){var b={get:function(a){return this.slice(a)[0]},contains:function(a){a=a&&a.valueOf();for(var b=0,c=this.length;b<c;b++)if(this[b].valueOf()===a)return b;return-1},remove:function(a){this.splice(a,1)},replace:function(b){b&&(a.isArray(b)||(b=[b]),this.clear(),this.push.apply(this,b))},clear:function(){this.length=0},copy:function(){var a=new h;a.replace(this);return a}};return function(){var c=[];c.push.apply(c,
arguments);a.extend(c,b);return c}}(),g=function(b,c){this.dates=new h;this.viewDate=f();this.focusDate=null;this._process_options(c);this.element=a(b);this.isInline=!1;this.isInput=this.element.is("input");this.hasInput=(this.component=this.element.is(".date")?this.element.find(".add-on, .input-group-addon, .btn"):!1)&&this.element.find("input").length;this.component&&0===this.component.length&&(this.component=!1);this.picker=a(C.template);this._buildEvents();this._attachEvents();this.isInline?this.picker.addClass("datepicker-inline").appendTo(this.element):
this.picker.addClass("datepicker-dropdown dropdown-menu");this.o.rtl&&this.picker.addClass("datepicker-rtl");this.viewMode=this.o.startView;this.o.calendarWeeks&&this.picker.find("tfoot th.today").attr("colspan",function(a,b){return parseInt(b)+1});this._allow_update=!1;this.setStartDate(this._o.min);this.setEndDate(this._o.max);this.setDaysOfWeekDisabled(this.o.daysOfWeekDisabled);this.fillDow();this.fillMonths();this._allow_update=!0;this.update();this.showMode();this.isInline&&this.show()};g.prototype=
{constructor:g,_process_options:function(b){this._o=a.extend({},this._o,b);b=this.o=a.extend({},this._o);var c=b.language;v[c]||(c=c.split("-")[0],v[c]||(c=u.language));b.language=c;switch(b.startView){case 2:case "decade":b.startView=2;break;case 1:case "year":b.startView=1;break;default:b.startView=0}switch(b.minViewMode){case 1:case "months":b.minViewMode=1;break;case 2:case "years":b.minViewMode=2;break;default:b.minViewMode=0}b.startView=Math.max(b.startView,b.minViewMode);!0!==b.multidate&&
(b.multidate=Number(b.multidate)||!1,b.multidate=!1!==b.multidate?Math.max(0,b.multidate):1);b.multidateSeparator=String(b.multidateSeparator);b.weekStart%=7;b.weekEnd=(b.weekStart+6)%7;c=C.parseFormat(b.format);-Infinity!==b.min&&(b.min=b.min?b.min instanceof Date?this._local_to_utc(this._zero_time(b.min)):C.parseDate(b.min,c,b.language):-Infinity);Infinity!==b.max&&(b.max=b.max?b.max instanceof Date?this._local_to_utc(this._zero_time(b.max)):C.parseDate(b.max,c,b.language):Infinity);b.daysOfWeekDisabled=
b.daysOfWeekDisabled||[];a.isArray(b.daysOfWeekDisabled)||(b.daysOfWeekDisabled=b.daysOfWeekDisabled.split(/[,\s]*/));b.daysOfWeekDisabled=a.map(b.daysOfWeekDisabled,function(a){return parseInt(a,10)});var c=String(b.orientation).toLowerCase().split(/\s+/g),d=b.orientation.toLowerCase(),c=a.grep(c,function(a){return/^auto|left|right|top|bottom$/.test(a)});b.orientation={x:"auto",y:"auto"};if(d&&"auto"!==d)if(1===c.length)switch(c[0]){case "top":case "bottom":b.orientation.y=c[0];break;case "left":case "right":b.orientation.x=
c[0]}else d=a.grep(c,function(a){return/^left|right$/.test(a)}),b.orientation.x=d[0]||"auto",d=a.grep(c,function(a){return/^top|bottom$/.test(a)}),b.orientation.y=d[0]||"auto"},_events:[],_secondaryEvents:[],_applyEvents:function(a){for(var b=0,c,d,e;b<a.length;b++)c=a[b][0],2===a[b].length?(d=m,e=a[b][1]):3===a[b].length&&(d=a[b][1],e=a[b][2]),c.on(e,d)},_unapplyEvents:function(a){for(var b=0,c,d,e;b<a.length;b++)c=a[b][0],2===a[b].length?(e=m,d=a[b][1]):3===a[b].length&&(e=a[b][1],d=a[b][2]),c.off(d,
e)},_buildEvents:function(){this.isInput?this._events=[[this.element,{focus:a.proxy(this.show,this),keyup:a.proxy(function(b){-1===a.inArray(b.keyCode,[27,37,39,38,40,32,13,9])&&this.update()},this),keydown:a.proxy(this.keydown,this)}]]:this.component&&this.hasInput?this._events=[[this.element.find("input"),{focus:a.proxy(this.show,this),keyup:a.proxy(function(b){-1===a.inArray(b.keyCode,[27,37,39,38,40,32,13,9])&&this.update()},this),keydown:a.proxy(this.keydown,this)}],[this.component,{click:a.proxy(this.show,
this)}]]:this.element.is("div")?this.isInline=!0:this._events=[[this.element,{click:a.proxy(this.show,this)}]];this._events.push([this.element,"*",{blur:a.proxy(function(a){this._focused_from=a.target},this)}],[this.element,{blur:a.proxy(function(a){this._focused_from=a.target},this)}]);this._secondaryEvents=[[this.picker,{click:a.proxy(this.click,this)}],[a(window),{resize:a.proxy(this.place,this)}],[a(document),{"mousedown touchstart":a.proxy(function(a){this.element.is(a.target)||this.element.find(a.target).length||
this.picker.is(a.target)||this.picker.find(a.target).length||this.hide()},this)}]]},_attachEvents:function(){this._detachEvents();this._applyEvents(this._events)},_detachEvents:function(){this._unapplyEvents(this._events)},_attachSecondaryEvents:function(){this._detachSecondaryEvents();this._applyEvents(this._secondaryEvents)},_detachSecondaryEvents:function(){this._unapplyEvents(this._secondaryEvents)},_trigger:function(b,c){var d=c||this.dates.get(-1),d=this._utc_to_local(d);this.element.trigger({type:b,
date:d,dates:a.map(this.dates,this._utc_to_local),format:a.proxy(function(a,b){0===arguments.length?(a=this.dates.length-1,b=this.o.format):"string"===typeof a&&(b=a,a=this.dates.length-1);b=b||this.o.format;var c=this.dates.get(a);return C.formatDate(c,b,this.o.language)},this)})},show:function(){this.isInline||this.picker.appendTo("body");this.picker.show();this.place();this._attachSecondaryEvents();this._trigger("show")},hide:function(){!this.isInline&&this.picker.is(":visible")&&(this.focusDate=
null,this.picker.hide().detach(),this._detachSecondaryEvents(),this.viewMode=this.o.startView,this.showMode(),this.o.forceParse&&(this.isInput&&this.element.val()||this.hasInput&&this.element.find("input").val())&&this.setValue(),this._trigger("hide"))},remove:function(){this.hide();this._detachEvents();this._detachSecondaryEvents();this.picker.remove();delete this.element.data().datepicker;this.isInput||delete this.element.data().date},_utc_to_local:function(a){return a&&new Date(a.getTime()+6E4*
a.getTimezoneOffset())},_local_to_utc:function(a){return a&&new Date(a.getTime()-6E4*a.getTimezoneOffset())},_zero_time:function(a){return a&&new Date(a.getFullYear(),a.getMonth(),a.getDate())},_zero_utc_time:function(a){return a&&new Date(Date.UTC(a.getUTCFullYear(),a.getUTCMonth(),a.getUTCDate()))},getDates:function(){return a.map(this.dates,this._utc_to_local)},getUTCDates:function(){return a.map(this.dates,function(a){return new Date(a)})},getDate:function(){return this._utc_to_local(this.getUTCDate())},
getUTCDate:function(){return new Date(this.dates.get(-1))},setDates:function(){var b=a.isArray(arguments[0])?arguments[0]:arguments;this.update.apply(this,b);this._trigger("changeDate");this.setValue()},setUTCDates:function(){var b=a.isArray(arguments[0])?arguments[0]:arguments;this.update.apply(this,a.map(b,this._utc_to_local));this._trigger("changeDate");this.setValue()},setDate:c("setDates"),setUTCDate:c("setUTCDates"),setValue:function(){var a=this.getFormattedDate();this.isInput?this.element.val(a).change():
this.component&&this.element.find("input").val(a).change()},getFormattedDate:function(b){b===m&&(b=this.o.format);var c=this.o.language;return a.map(this.dates,function(a){return C.formatDate(a,b,c)}).join(this.o.multidateSeparator)},setStartDate:function(a){this._process_options({min:a});this.update();this.updateNavArrows()},setEndDate:function(a){this._process_options({max:a});this.update();this.updateNavArrows()},setDaysOfWeekDisabled:function(a){this._process_options({daysOfWeekDisabled:a});this.update();
this.updateNavArrows()},place:function(){if(!this.isInline){var b=this.picker.outerWidth(),c=this.picker.outerHeight(),d=k.width(),e=k.height(),f=k.scrollTop(),g=parseInt(this.element.parents().filter(function(){return"auto"!==a(this).css("z-index")}).first().css("z-index"))+10,h=this.component?this.component.parent().offset():this.element.offset(),m=this.component?this.component.outerHeight(!0):this.element.outerHeight(!1),l=this.component?this.component.outerWidth(!0):this.element.outerWidth(!1),
r=h.left,F=h.top;this.picker.removeClass("datepicker-orient-top datepicker-orient-bottom datepicker-orient-right datepicker-orient-left");"auto"!==this.o.orientation.x?(this.picker.addClass("datepicker-orient-"+this.o.orientation.x),"right"===this.o.orientation.x&&(r-=b-l)):(this.picker.addClass("datepicker-orient-left"),0>h.left?r-=h.left-10:h.left+b>d&&(r=d-b-10));b=this.o.orientation.y;"auto"===b&&(b=-f+h.top-c,e=f+e-(h.top+m+c),b=Math.max(b,e)===e?"top":"bottom");this.picker.addClass("datepicker-orient-"+
b);F="top"===b?F+m:F-(c+parseInt(this.picker.css("padding-top")));this.picker.css({top:F,left:r,zIndex:g})}},_allow_update:!0,update:function(){if(this._allow_update){var b=this.dates.copy(),c=[],d=!1;arguments.length?(a.each(arguments,a.proxy(function(a,b){b instanceof Date&&(b=this._local_to_utc(b));c.push(b)},this)),d=!0):(c=(c=this.isInput?this.element.val():this.element.data("date")||this.element.find("input").val())&&this.o.multidate?c.split(this.o.multidateSeparator):[c],delete this.element.data().date);
c=a.map(c,a.proxy(function(a){return C.parseDate(a,this.o.format,this.o.language)},this));c=a.grep(c,a.proxy(function(a){return a<this.o.min||a>this.o.max||!a},this),!0);this.dates.replace(c);this.dates.length?this.viewDate=new Date(this.dates.get(-1)):this.viewDate<this.o.min?this.viewDate=new Date(this.o.min):this.viewDate>this.o.max&&(this.viewDate=new Date(this.o.max));d?this.setValue():c.length&&String(b)!==String(this.dates)&&this._trigger("changeDate");!this.dates.length&&b.length&&this._trigger("clearDate");
this.fill()}},fillDow:function(){var a=this.o.weekStart,b="<tr>";this.o.calendarWeeks&&(b+='<th class="cw">&nbsp;</th>',this.picker.find(".datepicker-days thead tr:first-child").prepend('<th class="cw">&nbsp;</th>'));for(;a<this.o.weekStart+7;)b+='<th class="dow">'+v[this.o.language].daysMin[a++%7]+"</th>";b+="</tr>";this.picker.find(".datepicker-days thead").append(b)},fillMonths:function(){for(var a="",b=0;12>b;)a+='<span class="month">'+v[this.o.language].monthsShort[b++]+"</span>";this.picker.find(".datepicker-months td").html(a)},
setRange:function(b){b&&b.length?this.range=a.map(b,function(a){return a.valueOf()}):delete this.range;this.fill()},getClassNames:function(b){var c=[],d=this.viewDate.getUTCFullYear(),e=this.viewDate.getUTCMonth(),f=new Date;b.getUTCFullYear()<d||b.getUTCFullYear()===d&&b.getUTCMonth()<e?c.push("old"):(b.getUTCFullYear()>d||b.getUTCFullYear()===d&&b.getUTCMonth()>e)&&c.push("new");this.focusDate&&b.valueOf()===this.focusDate.valueOf()&&c.push("focused");this.o.todayHighlight&&b.getUTCFullYear()===
f.getFullYear()&&b.getUTCMonth()===f.getMonth()&&b.getUTCDate()===f.getDate()&&c.push("today");-1!==this.dates.contains(b)&&c.push("active");(b.valueOf()<this.o.min||b.valueOf()>this.o.max||-1!==a.inArray(b.getUTCDay(),this.o.daysOfWeekDisabled))&&c.push("disabled");this.range&&(b>this.range[0]&&b<this.range[this.range.length-1]&&c.push("range"),-1!==a.inArray(b.valueOf(),this.range)&&c.push("selected"));return c},fill:function(){var b=new Date(this.viewDate),c=b.getUTCFullYear(),e=c+v[this.o.language].year,
f=b.getUTCMonth(),b=-Infinity!==this.o.min?this.o.min.getUTCFullYear():-Infinity,k=-Infinity!==this.o.min?this.o.min.getUTCMonth():-Infinity,g=Infinity!==this.o.max?this.o.max.getUTCFullYear():Infinity,h=Infinity!==this.o.max?this.o.max.getUTCMonth():Infinity,l=v[this.o.language].today||"",E=v[this.o.language].clear||"",r;this.picker.find(".datepicker-days thead th.datepicker-switch").text(e+v[this.o.language].months[f]);this.picker.find("tfoot th.today").text(l).toggle(!1!==this.o.todayBtn);this.picker.find("tfoot th.clear").text(E).toggle(!1!==
this.o.clearBtn);this.updateNavArrows();this.fillMonths();f=d(c,f-1,28);e=C.getDaysInMonth(f.getUTCFullYear(),f.getUTCMonth());f.setUTCDate(e);f.setUTCDate(e-(f.getUTCDay()-this.o.weekStart+7)%7);l=new Date(f);l.setUTCDate(l.getUTCDate()+42);l=l.valueOf();for(e=[];f.valueOf()<l;){if(f.getUTCDay()===this.o.weekStart&&(e.push("<tr>"),this.o.calendarWeeks)){var E=new Date(+f+(this.o.weekStart-f.getUTCDay()-7)%7*864E5),E=new Date(Number(E)+(11-E.getUTCDay())%7*864E5),F=new Date(Number(F=d(E.getUTCFullYear(),
0,1))+(11-F.getUTCDay())%7*864E5);e.push('<td class="cw">'+((E-F)/864E5/7+1)+"</td>")}E=this.getClassNames(f);E.push("day");if(this.o.beforeShowDay!==a.noop){var p=this.o.beforeShowDay(this._utc_to_local(f));p===m?p={}:"boolean"===typeof p?p={enabled:p}:"string"===typeof p&&(p={classes:p});!1===p.enabled&&E.push("disabled");p.classes&&(E=E.concat(p.classes.split(/\s+/)));p.tooltip&&(r=p.tooltip)}E=a.unique(E);e.push('<td class="'+E.join(" ")+'"'+(r?' title="'+r+'"':"")+">"+f.getUTCDate()+"</td>");
f.getUTCDay()===this.o.weekEnd&&e.push("</tr>");f.setUTCDate(f.getUTCDate()+1)}this.picker.find(".datepicker-days tbody").empty().append(e.join(""));var x=this.picker.find(".datepicker-months").find("th:eq(1)").text(c).end().find("span").removeClass("active");a.each(this.dates,function(a,b){b.getUTCFullYear()===c&&x.eq(b.getUTCMonth()).addClass("active")});(c<b||c>g)&&x.addClass("disabled");c===b&&x.slice(0,k).addClass("disabled");c===g&&x.slice(h+1).addClass("disabled");e="";c=10*parseInt(c/10,10);
r=this.picker.find(".datepicker-years").find("th:eq(1)").text(c+"-"+(c+9)).end().find("td");c-=1;F=a.map(this.dates,function(a){return a.getUTCFullYear()});for(h=-1;11>h;h++)k=["year"],-1===h?k.push("old"):10===h&&k.push("new"),-1!==a.inArray(c,F)&&k.push("active"),(c<b||c>g)&&k.push("disabled"),e+='<span class="'+k.join(" ")+'">'+c+"</span>",c+=1;r.html(e)},updateNavArrows:function(){if(this._allow_update){var a=new Date(this.viewDate),b=a.getUTCFullYear(),a=a.getUTCMonth();switch(this.viewMode){case 0:-Infinity!==
this.o.min&&b<=this.o.min.getUTCFullYear()&&a<=this.o.min.getUTCMonth()?this.picker.find(".prev").css({visibility:"hidden"}):this.picker.find(".prev").css({visibility:"visible"});Infinity!==this.o.max&&b>=this.o.max.getUTCFullYear()&&a>=this.o.max.getUTCMonth()?this.picker.find(".next").css({visibility:"hidden"}):this.picker.find(".next").css({visibility:"visible"});break;case 1:case 2:-Infinity!==this.o.min&&b<=this.o.min.getUTCFullYear()?this.picker.find(".prev").css({visibility:"hidden"}):this.picker.find(".prev").css({visibility:"visible"}),
Infinity!==this.o.max&&b>=this.o.max.getUTCFullYear()?this.picker.find(".next").css({visibility:"hidden"}):this.picker.find(".next").css({visibility:"visible"})}}},click:function(b){b.preventDefault();b=a(b.target).closest("span, td, th");var c,e,f;if(1===b.length)switch(b[0].nodeName.toLowerCase()){case "th":switch(b[0].className){case "datepicker-switch":this.showMode(1);break;case "prev":case "next":b=C.modes[this.viewMode].navStep*("prev"===b[0].className?-1:1);switch(this.viewMode){case 0:this.viewDate=
this.moveMonth(this.viewDate,b);this._trigger("changeMonth",this.viewDate);break;case 1:case 2:this.viewDate=this.moveYear(this.viewDate,b),1===this.viewMode&&this._trigger("changeYear",this.viewDate)}this.fill();break;case "today":b=new Date;b=d(b.getFullYear(),b.getMonth(),b.getDate(),0,0,0);this.showMode(-2);this._setDate(b,"linked"===this.o.todayBtn?null:"view");break;case "clear":this.isInput?c=this.element:this.component&&(c=this.element.find("input")),c&&c.val("").change(),this.update(),this._trigger("changeDate"),
this.o.autoclose&&this.hide()}break;case "span":b.is(".disabled")||(this.viewDate.setUTCDate(1),b.is(".month")?(f=1,e=b.parent().find("span").index(b),c=this.viewDate.getUTCFullYear(),this.viewDate.setUTCMonth(e),this._trigger("changeMonth",this.viewDate),1===this.o.minViewMode&&this._setDate(d(c,e,f))):(f=1,e=0,c=parseInt(b.text(),10)||0,this.viewDate.setUTCFullYear(c),this._trigger("changeYear",this.viewDate),2===this.o.minViewMode&&this._setDate(d(c,e,f))),this.showMode(-1),this.fill());break;
case "td":b.is(".day")&&!b.is(".disabled")&&(f=parseInt(b.text(),10)||1,c=this.viewDate.getUTCFullYear(),e=this.viewDate.getUTCMonth(),b.is(".old")?0===e?(e=11,c-=1):e-=1:b.is(".new")&&(11===e?(e=0,c+=1):e+=1),this._setDate(d(c,e,f)))}this.picker.is(":visible")&&this._focused_from&&a(this._focused_from).focus();delete this._focused_from},_toggle_multidate:function(a){var b=this.dates.contains(a);a?-1!==b?this.dates.remove(b):this.dates.push(a):this.dates.clear();if("number"===typeof this.o.multidate)for(;this.dates.length>
this.o.multidate;)this.dates.remove(0)},_setDate:function(a,b){b&&"date"!==b||this._toggle_multidate(a&&new Date(a));b&&"view"!==b||(this.viewDate=a&&new Date(a));this.fill();this.setValue();this._trigger("changeDate");var c;this.isInput?c=this.element:this.component&&(c=this.element.find("input"));c&&c.change();!this.o.autoclose||b&&"date"!==b||this.hide()},moveMonth:function(a,b){if(!a)return m;if(!b)return a;var c=new Date(a.valueOf()),d=c.getUTCDate(),e=c.getUTCMonth(),f=Math.abs(b),k;b=0<b?1:
-1;if(1===f){if(f=-1===b?function(){return c.getUTCMonth()===e}:function(){return c.getUTCMonth()!==k},k=e+b,c.setUTCMonth(k),0>k||11<k)k=(k+12)%12}else{for(var g=0;g<f;g++)c=this.moveMonth(c,b);k=c.getUTCMonth();c.setUTCDate(d);f=function(){return k!==c.getUTCMonth()}}for(;f();)c.setUTCDate(--d),c.setUTCMonth(k);return c},moveYear:function(a,b){return this.moveMonth(a,12*b)},dateWithinRange:function(a){return a>=this.o.min&&a<=this.o.max},keydown:function(a){if(this.picker.is(":not(:visible)"))27===
a.keyCode&&this.show();else{var b=!1,c,d,e,k=this.focusDate||this.viewDate;switch(a.keyCode){case 27:this.focusDate?(this.focusDate=null,this.viewDate=this.dates.get(-1)||this.viewDate,this.fill()):this.hide();a.preventDefault();break;case 37:case 39:if(!this.o.keyboardNavigation)break;c=37===a.keyCode?-1:1;a.ctrlKey?(d=this.moveYear(this.dates.get(-1)||f(),c),e=this.moveYear(k,c),this._trigger("changeYear",this.viewDate)):a.shiftKey?(d=this.moveMonth(this.dates.get(-1)||f(),c),e=this.moveMonth(k,
c),this._trigger("changeMonth",this.viewDate)):(d=new Date(this.dates.get(-1)||f()),d.setUTCDate(d.getUTCDate()+c),e=new Date(k),e.setUTCDate(k.getUTCDate()+c));this.dateWithinRange(d)&&(this.focusDate=this.viewDate=e,this.setValue(),this.fill(),a.preventDefault());break;case 38:case 40:if(!this.o.keyboardNavigation)break;c=38===a.keyCode?-1:1;a.ctrlKey?(d=this.moveYear(this.dates.get(-1)||f(),c),e=this.moveYear(k,c),this._trigger("changeYear",this.viewDate)):a.shiftKey?(d=this.moveMonth(this.dates.get(-1)||
f(),c),e=this.moveMonth(k,c),this._trigger("changeMonth",this.viewDate)):(d=new Date(this.dates.get(-1)||f()),d.setUTCDate(d.getUTCDate()+7*c),e=new Date(k),e.setUTCDate(k.getUTCDate()+7*c));this.dateWithinRange(d)&&(this.focusDate=this.viewDate=e,this.setValue(),this.fill(),a.preventDefault());break;case 13:k=this.focusDate||this.dates.get(-1)||this.viewDate;this._toggle_multidate(k);b=!0;this.focusDate=null;this.viewDate=this.dates.get(-1)||this.viewDate;this.setValue();this.fill();this.picker.is(":visible")&&
(a.preventDefault(),this.o.autoclose&&this.hide());break;case 9:this.focusDate=null,this.viewDate=this.dates.get(-1)||this.viewDate,this.fill(),this.hide()}if(b){this.dates.length?this._trigger("changeDate"):this._trigger("clearDate");var g;this.isInput?g=this.element:this.component&&(g=this.element.find("input"));g&&g.change()}}},showMode:function(a){a&&(this.viewMode=Math.max(this.o.minViewMode,Math.min(2,this.viewMode+a)));this.picker.find(">div").hide().filter(".datepicker-"+C.modes[this.viewMode].clsName).css("display",
"block");this.updateNavArrows()}};var l=function(b,c){this.element=a(b);this.inputs=a.map(c.inputs,function(a){return a.jquery?a[0]:a});delete c.inputs;a(this.inputs).datepicker(c).bind("changeDate",a.proxy(this.dateUpdated,this));this.pickers=a.map(this.inputs,function(b){return a(b).data("datepicker")});this.updateDates()};l.prototype={updateDates:function(){this.dates=a.map(this.pickers,function(a){return a.getUTCDate()});this.updateRanges()},updateRanges:function(){var b=a.map(this.dates,function(a){return a.valueOf()});
a.each(this.pickers,function(a,c){c.setRange(b)})},dateUpdated:function(b){if(!this.updating){this.updating=!0;var c=a(b.target).data("datepicker").getUTCDate();b=a.inArray(b.target,this.inputs);var d=this.inputs.length;if(-1!==b){a.each(this.pickers,function(a,b){b.getUTCDate()||b.setUTCDate(c)});if(c<this.dates[b])for(;0<=b&&c<this.dates[b];)this.pickers[b--].setUTCDate(c);else if(c>this.dates[b])for(;b<d&&c>this.dates[b];)this.pickers[b++].setUTCDate(c);this.updateDates();delete this.updating}}},
remove:function(){a.map(this.pickers,function(a){a.remove()});delete this.element.data().datepicker}};var y=a.fn.datepicker;a.fn.datepicker=function(c){var d=Array.apply(null,arguments);d.shift();var f;this.each(function(){var k=a(this),h=k.data("datepicker"),n;options="object"===typeof c&&c;k.is("[type=date]")?n=k:k.find("[type=date]").length&&(n=k.find("[type=date]"));n.length&&(n.attr("min")&&k.attr("data-date-min",n.attr("min")),n.attr("max")&&k.attr("data-date-max",n.attr("max")));h||(h=e(this,
"date"),n=a.extend({},u,h,options),n=b(n.language),h=a.extend({},u,n,h,options),k.is(".input-daterange")||h.inputs?(n={inputs:h.inputs||k.find("input").toArray()},k.data("datepicker",h=new l(this,a.extend(h,n)))):k.data("datepicker",h=new g(this,h)));if("string"===typeof c&&"function"===typeof h[c]&&(f=h[c].apply(h,d),f!==m))return!1});return f!==m?f:this};var u=a.fn.datepicker.defaults={autoclose:!0,beforeShowDay:a.noop,calendarWeeks:!1,clearBtn:!1,daysOfWeekDisabled:[],forceParse:!0,format:"yyyy-mm-dd",
keyboardNavigation:!0,language:"zh-CN",max:Infinity,min:-Infinity,minViewMode:0,multidate:!1,multidateSeparator:",",orientation:"auto",rtl:!1,startView:0,todayBtn:!1,todayHighlight:!0,weekStart:0},n=a.fn.datepicker.locale_opts=["format","rtl","weekStart"];a.fn.datepicker.Constructor=g;var v=a.fn.datepicker.dates={"zh-CN":{year:"年",months:"一月 二月 三月 四月 五月 六月 七月 八月 九月 十月 十一月 十二月".split(" "),monthsShort:"一月 二月 三月 四月 五月 六月 七月 八月 九月 十月 十一月 十二月".split(" "),days:"星期日 星期一 星期二 星期三 星期四 星期五 星期六 星期日".split(" "),
daysShort:"周日 周一 周二 周三 周四 周五 周六 周日".split(" "),daysMin:"日一二三四五六日".split(""),today:"今日",clear:"清除",format:"yyyy-mm-dd",weekStart:1}},C={modes:[{clsName:"days",navFnc:"Month",navStep:1},{clsName:"months",navFnc:"FullYear",navStep:1},{clsName:"years",navFnc:"FullYear",navStep:10}],isLeapYear:function(a){return 0===a%4&&0!==a%100||0===a%400},getDaysInMonth:function(a,b){return[31,C.isLeapYear(a)?29:28,31,30,31,30,31,31,30,31,30,31][b]},validParts:/dd?|DD?|mm?|MM?|yy(?:yy)?/g,nonpunctuation:/[^ -\/:-@\[\u3400-\u9fff-`{-~\t\n\r]+/g,
parseFormat:function(a){var b=a.replace(this.validParts,"\x00").split("\x00");a=a.match(this.validParts);if(!b||!b.length||!a||0===a.length)throw Error("Invalid date format.");return{separators:b,parts:a}},parseDate:function(b,c,e){function f(){var a=this.slice(0,h[n].length),b=h[n].slice(0,a.length);return a===b}if(!b)return m;if(b instanceof Date)return b;"string"===typeof c&&(c=C.parseFormat(c));var k=/([\-+]\d+)([dmwy])/,h=b.match(/([\-+]\d+)([dmwy])/g),l,n;if(/^[\-+]\d+[dmwy]([\s,]+[\-+]\d+[dmwy])*$/.test(b)){b=
new Date;for(n=0;n<h.length;n++)switch(c=k.exec(h[n]),l=parseInt(c[1]),c[2]){case "d":b.setUTCDate(b.getUTCDate()+l);break;case "m":b=g.prototype.moveMonth.call(g.prototype,b,l);break;case "w":b.setUTCDate(b.getUTCDate()+7*l);break;case "y":b=g.prototype.moveYear.call(g.prototype,b,l)}return d(b.getUTCFullYear(),b.getUTCMonth(),b.getUTCDate(),0,0,0)}h=b&&b.match(this.nonpunctuation)||[];b=new Date;var k={},E="yyyy yy M MM m mm d dd".split(" ");l={yyyy:function(a,b){return a.setUTCFullYear(b)},yy:function(a,
b){return a.setUTCFullYear(2E3+b)},m:function(a,b){if(isNaN(a))return a;for(b-=1;0>b;)b+=12;b%=12;for(a.setUTCMonth(b);a.getUTCMonth()!==b;)a.setUTCDate(a.getUTCDate()-1);return a},d:function(a,b){return a.setUTCDate(b)}};var r;l.M=l.MM=l.mm=l.m;l.dd=l.d;b=d(b.getFullYear(),b.getMonth(),b.getDate(),0,0,0);var F=c.parts.slice();h.length!==F.length&&(F=a(F).filter(function(b,c){return-1!==a.inArray(c,E)}).toArray());if(h.length===F.length){var p;n=0;for(p=F.length;n<p;n++){r=parseInt(h[n],10);c=F[n];
if(isNaN(r))switch(c){case "MM":r=a(v[e].months).filter(f);r=a.inArray(r[0],v[e].months)+1;break;case "M":r=a(v[e].monthsShort).filter(f),r=a.inArray(r[0],v[e].monthsShort)+1}k[c]=r}for(n=0;n<E.length;n++)c=E[n],c in k&&!isNaN(k[c])&&(e=new Date(b),l[c](e,k[c]),isNaN(e)||(b=e))}return b},formatDate:function(b,c,d){if(!b)return"";"string"===typeof c&&(c=C.parseFormat(c));d={d:b.getUTCDate(),D:v[d].daysShort[b.getUTCDay()],DD:v[d].days[b.getUTCDay()],m:b.getUTCMonth()+1,M:v[d].monthsShort[b.getUTCMonth()],
MM:v[d].months[b.getUTCMonth()],yy:b.getUTCFullYear().toString().substring(2),yyyy:b.getUTCFullYear()};d.dd=(10>d.d?"0":"")+d.d;d.mm=(10>d.m?"0":"")+d.m;b=[];for(var e=a.extend([],c.separators),f=0,k=c.parts.length;f<=k;f++)e.length&&b.push(e.shift()),b.push(d[c.parts[f]]);return b.join("")},headTemplate:'<thead><tr><th class="prev">&laquo;</th><th colspan="5" class="datepicker-switch"></th><th class="next">&raquo;</th></tr></thead>',contTemplate:'<tbody><tr><td colspan="7"></td></tr></tbody>',footTemplate:'<tfoot><tr><th colspan="7" class="today"></th></tr><tr><th colspan="7" class="clear"></th></tr></tfoot>'};
C.template='<div class="datepicker"><div class="datepicker-days"><table class=" table-condensed">'+C.headTemplate+"<tbody></tbody>"+C.footTemplate+'</table></div><div class="datepicker-months"><table class="table-condensed">'+C.headTemplate+C.contTemplate+C.footTemplate+'</table></div><div class="datepicker-years"><table class="table-condensed">'+C.headTemplate+C.contTemplate+C.footTemplate+"</table></div></div>";a.fn.datepicker.DPGlobal=C;a.fn.datepicker.noConflict=function(){a.fn.datepicker=y;return this};
a(document).on("focus.datepicker.data-api click.datepicker.data-api",'[data-provide="datepicker"]',function(b){var c=a(this);c.data("datepicker")||(b.preventDefault(),c.datepicker("show"))});a(function(){a('[data-provide="datepicker-inline"]').datepicker()})})(window.jQuery);(function(a){a.color={};a.color.make=function(d,f,c,e){var b={};b.r=d||0;b.g=f||0;b.b=c||0;b.a=null!=e?e:1;b.add=function(a,c){for(var d=0;d<a.length;++d)b[a.charAt(d)]+=c;return b.normalize()};b.scale=function(a,c){for(var d=0;d<a.length;++d)b[a.charAt(d)]*=c;return b.normalize()};b.toString=function(){return 1<=b.a?"rgb("+[b.r,b.g,b.b].join()+")":"rgba("+[b.r,b.g,b.b,b.a].join()+")"};b.normalize=function(){function a(b,c,d){return c<b?b:c>d?d:c}b.r=a(0,parseInt(b.r),255);b.g=a(0,parseInt(b.g),255);
b.b=a(0,parseInt(b.b),255);b.a=a(0,b.a,1);return b};b.clone=function(){return a.color.make(b.r,b.b,b.g,b.a)};return b.normalize()};a.color.extract=function(d,f){var c;do{c=d.css(f).toLowerCase();if(""!=c&&"transparent"!=c)break;d=d.parent()}while(d.length&&!a.nodeName(d.get(0),"body"));"rgba(0, 0, 0, 0)"==c&&(c="transparent");return a.color.parse(c)};a.color.parse=function(d){var f,c=a.color.make;if(f=/rgb\(\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*\)/.exec(d))return c(parseInt(f[1],
10),parseInt(f[2],10),parseInt(f[3],10));if(f=/rgba\(\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*,\s*([0-9]+(?:\.[0-9]+)?)\s*\)/.exec(d))return c(parseInt(f[1],10),parseInt(f[2],10),parseInt(f[3],10),parseFloat(f[4]));if(f=/rgb\(\s*([0-9]+(?:\.[0-9]+)?)\%\s*,\s*([0-9]+(?:\.[0-9]+)?)\%\s*,\s*([0-9]+(?:\.[0-9]+)?)\%\s*\)/.exec(d))return c(2.55*parseFloat(f[1]),2.55*parseFloat(f[2]),2.55*parseFloat(f[3]));if(f=/rgba\(\s*([0-9]+(?:\.[0-9]+)?)\%\s*,\s*([0-9]+(?:\.[0-9]+)?)\%\s*,\s*([0-9]+(?:\.[0-9]+)?)\%\s*,\s*([0-9]+(?:\.[0-9]+)?)\s*\)/.exec(d))return c(2.55*
parseFloat(f[1]),2.55*parseFloat(f[2]),2.55*parseFloat(f[3]),parseFloat(f[4]));if(f=/#([a-fA-F0-9]{2})([a-fA-F0-9]{2})([a-fA-F0-9]{2})/.exec(d))return c(parseInt(f[1],16),parseInt(f[2],16),parseInt(f[3],16));if(f=/#([a-fA-F0-9])([a-fA-F0-9])([a-fA-F0-9])/.exec(d))return c(parseInt(f[1]+f[1],16),parseInt(f[2]+f[2],16),parseInt(f[3]+f[3],16));d=a.trim(d).toLowerCase();if("transparent"==d)return c(255,255,255,0);f=m[d]||[0,0,0];return c(f[0],f[1],f[2])};var m={aqua:[0,255,255],azure:[240,255,255],beige:[245,
245,220],black:[0,0,0],blue:[0,0,255],brown:[165,42,42],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgrey:[169,169,169],darkgreen:[0,100,0],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkviolet:[148,0,211],fuchsia:[255,0,255],gold:[255,215,0],green:[0,128,0],indigo:[75,0,130],khaki:[240,230,140],lightblue:[173,216,230],lightcyan:[224,255,255],lightgreen:[144,238,
144],lightgrey:[211,211,211],lightpink:[255,182,193],lightyellow:[255,255,224],lime:[0,255,0],magenta:[255,0,255],maroon:[128,0,0],navy:[0,0,128],olive:[128,128,0],orange:[255,165,0],pink:[255,192,203],purple:[128,0,128],violet:[128,0,128],red:[255,0,0],silver:[192,192,192],white:[255,255,255],yellow:[255,255,0]}})(jQuery);
(function(a){function m(c,d){var b=d.children("."+c)[0];if(null==b&&(b=document.createElement("canvas"),b.className=c,a(b).css({direction:"ltr",position:"absolute",left:0,top:0}).appendTo(d),!b.getContext))if(window.G_vmlCanvasManager)b=window.G_vmlCanvasManager.initElement(b);else throw Error("Canvas is not available. If you're using IE with a fall-back such as Excanvas, then there's either a mistake in your conditional include, or the page has no DOCTYPE and is rendering in Quirks Mode.");this.element=
b;b=this.context=b.getContext("2d");this.pixelRatio=(window.devicePixelRatio||1)/(b.webkitBackingStorePixelRatio||b.mozBackingStorePixelRatio||b.msBackingStorePixelRatio||b.oBackingStorePixelRatio||b.backingStorePixelRatio||1);this.resize(d.width(),d.height());this.textContainer=null;this.text={};this._textCache={}}function d(c,d,b,f){function h(a,b){b=[K].concat(b);for(var c=0;c<a.length;++c)a[c].apply(this,b)}function g(b){for(var c=[],d=0;d<b.length;++d){var e=a.extend(!0,{},q.series);null!=b[d].data?
(e.data=b[d].data,delete b[d].data,a.extend(!0,e,b[d]),b[d].data=e.data):e.data=b[d];c.push(e)}G=c;d=G.length;c=-1;for(b=0;b<G.length;++b)e=G[b].color,null!=e&&(d--,"number"==typeof e&&e>c&&(c=e));d<=c&&(d=c+1);var c=[],f=q.colors,p=f.length,k=0;for(b=0;b<d;b++)e=a.color.parse(f[b%p]||"#666"),0==b%p&&b&&(k=0<=k?0.5>k?-k-0.2:0:-k),c[b]=e.scale("rgb",1+k);for(b=d=0;b<G.length;++b){e=G[b];null==e.color?(e.color=c[d].toString(),++d):"number"==typeof e.color&&(e.color=c[e.color].toString());if(null==e.lines.show){var r,
f=!0;for(r in e)if(e[r]&&e[r].show){f=!1;break}f&&(e.lines.show=!0)}null==e.lines.zero&&(e.lines.zero=!!e.lines.fill);e.xaxis=n(N,l(e,"x"));e.yaxis=n(T,l(e,"y"))}v()}function l(a,b){var c=a[b+"axis"];"object"==typeof c&&(c=c.n);"number"!=typeof c&&(c=1);return c}function y(){return a.grep(N.concat(T),function(a){return a})}function u(a){var b={},c,d;for(c=0;c<N.length;++c)(d=N[c])&&d.used&&(b["x"+d.n]=d.c2p(a.left));for(c=0;c<T.length;++c)(d=T[c])&&d.used&&(b["y"+d.n]=d.c2p(a.top));void 0!==b.x1&&
(b.x=b.x1);void 0!==b.y1&&(b.y=b.y1);return b}function n(b,c){b[c-1]||(b[c-1]={n:c,direction:b==N?"x":"y",options:a.extend(!0,{},b==N?q.xaxis:q.yaxis)});return b[c-1]}function v(){function b(a,c,d){c<a.datamin&&c!=-e&&(a.datamin=c);d>a.datamax&&d!=e&&(a.datamax=d)}var c=Number.POSITIVE_INFINITY,d=Number.NEGATIVE_INFINITY,e=Number.MAX_VALUE,f,p,k,r,g,m,x,l,F,W,q,E;a.each(y(),function(a,b){b.datamin=c;b.datamax=d;b.used=!1});for(f=0;f<G.length;++f)g=G[f],g.datapoints={points:[]},h(aa.processRawData,
[g,g.data,g.datapoints]);for(f=0;f<G.length;++f){g=G[f];q=g.data;E=g.datapoints.format;if(!E){E=[];E.push({x:!0,number:!0,required:!0});E.push({y:!0,number:!0,required:!0});if(g.bars.show||g.lines.show&&g.lines.fill)E.push({y:!0,number:!0,required:!1,defaultValue:0,autoscale:!!(g.bars.show&&g.bars.zero||g.lines.show&&g.lines.zero)}),g.bars.horizontal&&(delete E[E.length-1].y,E[E.length-1].x=!0);g.datapoints.format=E}if(null==g.datapoints.pointsize){g.datapoints.pointsize=E.length;x=g.datapoints.pointsize;
m=g.datapoints.points;var t=g.lines.show&&g.lines.steps;g.xaxis.used=g.yaxis.used=!0;for(p=k=0;p<q.length;++p,k+=x){W=q[p];var Y=null==W;if(!Y)for(r=0;r<x;++r){l=W[r];if(F=E[r])F.number&&null!=l&&(l=+l,isNaN(l)?l=null:Infinity==l?l=e:-Infinity==l&&(l=-e)),null==l&&(F.required&&(Y=!0),null!=F.defaultValue&&(l=F.defaultValue));m[k+r]=l}if(Y)for(r=0;r<x;++r)l=m[k+r],null!=l&&(F=E[r],!1!==F.autoscale&&(F.x&&b(g.xaxis,l,l),F.y&&b(g.yaxis,l,l))),m[k+r]=null;else if(t&&0<k&&null!=m[k-x]&&m[k-x]!=m[k]&&m[k-
x+1]!=m[k+1]){for(r=0;r<x;++r)m[k+x+r]=m[k+r];m[k+1]=m[k-x+1];k+=x}}}}for(f=0;f<G.length;++f)g=G[f],h(aa.processDatapoints,[g,g.datapoints]);for(f=0;f<G.length;++f){g=G[f];m=g.datapoints.points;x=g.datapoints.pointsize;E=g.datapoints.format;W=k=c;t=q=d;for(p=0;p<m.length;p+=x)if(null!=m[p])for(r=0;r<x;++r)l=m[p+r],(F=E[r])&&!1!==F.autoscale&&l!=e&&l!=-e&&(F.x&&(l<k&&(k=l),l>q&&(q=l)),F.y&&(l<W&&(W=l),l>t&&(t=l)));if(g.bars.show){switch(g.bars.align){case "left":p=0;break;case "right":p=-g.bars.barWidth;
break;default:p=-g.bars.barWidth/2}g.bars.horizontal?(W+=p,t+=p+g.bars.barWidth):(k+=p,q+=p+g.bars.barWidth)}b(g.xaxis,k,q);b(g.yaxis,W,t)}a.each(y(),function(a,b){b.datamin==c&&(b.datamin=null);b.datamax==d&&(b.datamax=null)})}function C(){ua&&clearTimeout(ua);ba.unbind("mousemove",ma);ba.unbind("mouseleave",Ia);ba.unbind("click",A);h(aa.shutdown,[ba])}function s(a){function b(a){return a}var c,d,e=a.options.transform||b,f=a.options.inverseTransform;"x"==a.direction?(c=a.scale=ea/Math.abs(e(a.max)-
e(a.min)),d=Math.min(e(a.max),e(a.min))):(c=a.scale=fa/Math.abs(e(a.max)-e(a.min)),c=-c,d=Math.max(e(a.max),e(a.min)));a.p2c=e==b?function(a){return(a-d)*c}:function(a){return(e(a)-d)*c};a.c2p=f?function(a){return f(d+a/c)}:function(a){return d+a/c}}function L(b){var c=b.labelWidth,d=b.labelHeight,e=b.options.position,f="x"===b.direction,p=b.options.tickLength,k=q.grid.axisMargin,r=q.grid.labelMargin,g=!0,h=!0,l=!0,m=!1;a.each(f?N:T,function(a,c){c&&(c.show||c.reserveSpace)&&(c===b?m=!0:c.options.position===
e&&(m?h=!1:g=!1),m||(l=!1))});h&&(k=0);null==p&&(p=l?"full":5);isNaN(+p)||(r+=+p);f?(d+=r,"bottom"==e?(D.bottom+=d+k,b.box={top:V.height-D.bottom,height:d}):(b.box={top:D.top+k,height:d},D.top+=d+k)):(c+=r,"left"==e?(b.box={left:D.left+k,width:c},D.left+=c+k):(D.right+=c+k,b.box={left:V.width-D.right,width:c}));b.position=e;b.tickLength=p;b.box.padding=r;b.innermost=g}function P(){var b=q.grid.minBorderMargin,c;if(null==b)for(c=b=0;c<G.length;++c)b=Math.max(b,2*(G[c].points.radius+G[c].points.lineWidth/
2));var d=b,e=b,f=b,p=b;a.each(y(),function(a,b){b.reserveSpace&&b.ticks&&b.ticks.length&&("x"===b.direction?(d=Math.max(d,b.labelWidth/2),e=Math.max(e,b.labelWidth/2)):(p=Math.max(p,b.labelHeight/2),f=Math.max(f,b.labelHeight/2)))});D.left=Math.ceil(Math.max(d,D.left));D.right=Math.ceil(Math.max(e,D.right));D.top=Math.ceil(Math.max(f,D.top));D.bottom=Math.ceil(Math.max(p,D.bottom))}function Z(){var b,c=y(),d=q.grid.show;for(b in D){var e=q.grid.margin||0;D[b]="number"==typeof e?e:e[b]||0}h(aa.processOffset,
[D]);for(b in D)D[b]="object"==typeof q.grid.borderWidth?D[b]+(d?q.grid.borderWidth[b]:0):D[b]+(d?q.grid.borderWidth:0);a.each(c,function(a,b){var c=b.options;b.show=null==c.show?b.used:c.show;b.reserveSpace=null==c.reserveSpace?b.show:c.reserveSpace;var c=b.options,d=+(null!=c.min?c.min:b.datamin),e=+(null!=c.max?c.max:b.datamax),f=e-d;if(0==f){if(f=0==e?1:0.01,null==c.min&&(d-=f),null==c.max||null!=c.min)e+=f}else{var z=c.autoscaleMargin;null!=z&&(null==c.min&&(d-=f*z,0>d&&null!=b.datamin&&0<=b.datamin&&
(d=0)),null==c.max&&(e+=f*z,0<e&&null!=b.datamax&&0>=b.datamax&&(e=0)))}b.min=d;b.max=e});if(d){e=a.grep(c,function(a){return a.show||a.reserveSpace});a.each(e,function(b,c){H(c);var d=c.options.ticks,e=[];null==d||"number"==typeof d&&0<d?e=c.tickGenerator(c):d&&(e=a.isFunction(d)?d(c):d);var f;c.ticks=[];for(d=0;d<e.length;++d){var z=null,p=e[d];"object"==typeof p?(f=+p[0],1<p.length&&(z=p[1])):f=+p;null==z&&(z=c.tickFormatter(f,c));isNaN(f)||c.ticks.push({v:f,label:z})}e=c.ticks;c.options.autoscaleMargin&&
0<e.length&&(null==c.options.min&&(c.min=Math.min(c.min,e[0].v)),null==c.options.max&&1<e.length&&(c.max=Math.max(c.max,e[e.length-1].v)));e=c.options;d=c.ticks||[];f=e.labelWidth||0;for(var z=e.labelHeight||0,p=f||("x"==c.direction?Math.floor(V.width/(d.length||1)):null),w="flot-"+c.direction+"-axis flot-"+c.direction+c.n+"-axis "+(c.direction+"Axis "+c.direction+c.n+"Axis"),k=e.font||"flot-tick-label tickLabel",r=0;r<d.length;++r){var g=d[r];g.label&&(g=V.getTextInfo(w,g.label,k,null,p),f=Math.max(f,
g.width),z=Math.max(z,g.height))}c.labelWidth=e.labelWidth||f;c.labelHeight=e.labelHeight||z});for(b=e.length-1;0<=b;--b)L(e[b]);P();a.each(e,function(a,b){"x"==b.direction?(b.box.left=D.left-b.labelWidth/2,b.box.width=V.width-D.left-D.right+b.labelWidth):(b.box.top=D.top-b.labelHeight/2,b.box.height=V.height-D.bottom-D.top+b.labelHeight)})}ea=V.width-D.left-D.right;fa=V.height-D.bottom-D.top;a.each(c,function(a,b){s(b)});d&&E();J()}function H(b){var c=b.options,d;d="number"==typeof c.ticks&&0<c.ticks?
c.ticks:0.3*Math.sqrt("x"==b.direction?V.width:V.height);d=(b.max-b.min)/d;var e=-Math.floor(Math.log(d)/Math.LN10),f=c.tickDecimals;null!=f&&e>f&&(e=f);var p=Math.pow(10,-e),k=d/p,r;1.5>k?r=1:3>k?(r=2,2.25<k&&(null==f||e+1<=f)&&(r=2.5,++e)):r=7.5>k?5:10;r*=p;null!=c.minTickSize&&r<c.minTickSize&&(r=c.minTickSize);b.delta=d;b.tickDecimals=Math.max(0,null!=f?f:e);b.tickSize=c.tickSize||r;if("time"==c.mode&&!b.tickGenerator)throw Error("Time mode requires the flot.time plugin.");b.tickGenerator||(b.tickGenerator=
function(a){var b=[],c;c=a.tickSize;c*=Math.floor(a.min/c);var d=0,e=Number.NaN,f;do f=e,e=c+d*a.tickSize,b.push(e),++d;while(e<a.max&&e!=f);return b},b.tickFormatter=function(a,b){var c=b.tickDecimals?Math.pow(10,b.tickDecimals):1,d=""+Math.round(a*c)/c;if(null!=b.tickDecimals){var e=d.indexOf("."),e=-1==e?0:d.length-e-1;if(e<b.tickDecimals)return(e?d:d+".")+(""+c).substr(1,b.tickDecimals-e)}return d});a.isFunction(c.tickFormatter)&&(b.tickFormatter=function(a,b){return""+c.tickFormatter(a,b)});
if(null!=c.alignTicksWithAxis){var g=("x"==b.direction?N:T)[c.alignTicksWithAxis-1];g&&g.used&&g!=b&&(d=b.tickGenerator(b),0<d.length&&(null==c.min&&(b.min=Math.min(b.min,d[0])),null==c.max&&1<d.length&&(b.max=Math.max(b.max,d[d.length-1]))),b.tickGenerator=function(a){var b=[],c,d;for(d=0;d<g.ticks.length;++d)c=(g.ticks[d].v-g.min)/(g.max-g.min),c=a.min+c*(a.max-a.min),b.push(c);return b},b.mode||null!=c.tickDecimals||(d=Math.max(0,-Math.floor(Math.log(b.delta)/Math.LN10)+1),e=b.tickGenerator(b),
1<e.length&&/\..*0$/.test((e[1]-e[0]).toFixed(d))||(b.tickDecimals=d)))}}function U(){V.clear();h(aa.drawBackground,[t]);var a=q.grid;a.show&&a.backgroundColor&&(t.save(),t.translate(D.left,D.top),t.fillStyle=ia(q.grid.backgroundColor,fa,0,"rgba(255, 255, 255, 0)"),t.fillRect(0,0,ea,fa),t.restore());a.show&&!a.aboveData&&ha();for(var b=0;b<G.length;++b){h(aa.drawSeries,[t,G[b]]);var c=G[b];c.lines.show&&r(c);c.bars.show&&x(c);c.points.show&&F(c)}h(aa.draw,[t]);a.show&&a.aboveData&&ha();V.render();
Y()}function Q(a,b){for(var c,d,e,f,p=y(),k=0;k<p.length;++k)if(c=p[k],c.direction==b&&(f=b+c.n+"axis",a[f]||1!=c.n||(f=b+"axis"),a[f])){d=a[f].from;e=a[f].to;break}a[f]||(c="x"==b?N[0]:T[0],d=a[b+"1"],e=a[b+"2"]);null!=d&&null!=e&&d>e&&(f=d,d=e,e=f);return{from:d,to:e,axis:c}}function ha(){var b,c,d;t.save();t.translate(D.left,D.top);if(d=q.grid.markings)for(a.isFunction(d)&&(c=K.getAxes(),c.xmin=c.xaxis.min,c.xmax=c.xaxis.max,c.ymin=c.yaxis.min,c.ymax=c.yaxis.max,d=d(c)),b=0;b<d.length;++b){c=d[b];
var e=Q(c,"x"),f=Q(c,"y");null==e.from&&(e.from=e.axis.min);null==e.to&&(e.to=e.axis.max);null==f.from&&(f.from=f.axis.min);null==f.to&&(f.to=f.axis.max);if(!(e.to<e.axis.min||e.from>e.axis.max||f.to<f.axis.min||f.from>f.axis.max)){e.from=Math.max(e.from,e.axis.min);e.to=Math.min(e.to,e.axis.max);f.from=Math.max(f.from,f.axis.min);f.to=Math.min(f.to,f.axis.max);var p=e.from===e.to,k=f.from===f.to;if(!p||!k)if(e.from=Math.floor(e.axis.p2c(e.from)),e.to=Math.floor(e.axis.p2c(e.to)),f.from=Math.floor(f.axis.p2c(f.from)),
f.to=Math.floor(f.axis.p2c(f.to)),p||k){var k=c.lineWidth||q.grid.markingsLineWidth,r=k%2?0.5:0;t.beginPath();t.strokeStyle=c.color||q.grid.markingsColor;t.lineWidth=k;p?(t.moveTo(e.to+r,f.from),t.lineTo(e.to+r,f.to)):(t.moveTo(e.from,f.to+r),t.lineTo(e.to,f.to+r));t.stroke()}else t.fillStyle=c.color||q.grid.markingsColor,t.fillRect(e.from,f.to,e.to-e.from,f.from-f.to)}}c=y();d=q.grid.borderWidth;for(e=0;e<c.length;++e){f=c[e];b=f.box;var p=f.tickLength,g,h;if(f.show&&0!=f.ticks.length){t.lineWidth=
1;"x"==f.direction?(k=0,r="full"==p?"top"==f.position?0:fa:b.top-D.top+("top"==f.position?b.height:0)):(r=0,k="full"==p?"left"==f.position?0:ea:b.left-D.left+("left"==f.position?b.width:0));f.innermost||(t.strokeStyle=f.options.color,t.beginPath(),g=h=0,"x"==f.direction?g=ea+1:h=fa+1,1==t.lineWidth&&("x"==f.direction?r=Math.floor(r)+0.5:k=Math.floor(k)+0.5),t.moveTo(k,r),t.lineTo(k+g,r+h),t.stroke());t.strokeStyle=f.options.tickColor;t.beginPath();for(b=0;b<f.ticks.length;++b){var l=f.ticks[b].v;
g=h=0;isNaN(l)||l<f.min||l>f.max||"full"==p&&("object"==typeof d&&0<d[f.position]||0<d)&&(l==f.min||l==f.max)||("x"==f.direction?(k=f.p2c(l),h="full"==p?-fa:p,"top"==f.position&&(h=-h)):(r=f.p2c(l),g="full"==p?-ea:p,"left"==f.position&&(g=-g)),1==t.lineWidth&&("x"==f.direction?k=Math.floor(k)+0.5:r=Math.floor(r)+0.5),t.moveTo(k,r),t.lineTo(k+g,r+h))}t.stroke()}}d&&(b=q.grid.borderColor,"object"==typeof d||"object"==typeof b?("object"!==typeof d&&(d={top:d,right:d,bottom:d,left:d}),"object"!==typeof b&&
(b={top:b,right:b,bottom:b,left:b}),0<d.top&&(t.strokeStyle=b.top,t.lineWidth=d.top,t.beginPath(),t.moveTo(0-d.left,0-d.top/2),t.lineTo(ea,0-d.top/2),t.stroke()),0<d.right&&(t.strokeStyle=b.right,t.lineWidth=d.right,t.beginPath(),t.moveTo(ea+d.right/2,0-d.top),t.lineTo(ea+d.right/2,fa),t.stroke()),0<d.bottom&&(t.strokeStyle=b.bottom,t.lineWidth=d.bottom,t.beginPath(),t.moveTo(ea+d.right,fa+d.bottom/2),t.lineTo(0,fa+d.bottom/2),t.stroke()),0<d.left&&(t.strokeStyle=b.left,t.lineWidth=d.left,t.beginPath(),
t.moveTo(0-d.left/2,fa+d.bottom),t.lineTo(0-d.left/2,0),t.stroke())):(t.lineWidth=d,t.strokeStyle=q.grid.borderColor,t.strokeRect(-d/2,-d/2,ea+d,fa+d)));t.restore()}function E(){a.each(y(),function(a,b){var c=b.box,d="flot-"+b.direction+"-axis flot-"+b.direction+b.n+"-axis "+(b.direction+"Axis "+b.direction+b.n+"Axis"),e=b.options.font||"flot-tick-label tickLabel",f,p,k,r,g;V.removeText(d);if(b.show&&0!=b.ticks.length)for(var h=0;h<b.ticks.length;++h)f=b.ticks[h],!f.label||f.v<b.min||f.v>b.max||("x"==
b.direction?(r="center",p=D.left+b.p2c(f.v),"bottom"==b.position?k=c.top+c.padding:(k=c.top+c.height-c.padding,g="bottom")):(g="middle",k=D.top+b.p2c(f.v),"left"==b.position?(p=c.left+c.width-c.padding,r="right"):p=c.left+c.padding),V.addText(d,p,k,f.label,e,null,null,r,g))})}function r(a){function b(a,c,d,e,f){var z=a.points;a=a.pointsize;var p=null,k=null;t.beginPath();for(var r=a;r<z.length;r+=a){var g=z[r-a],h=z[r-a+1],w=z[r],l=z[r+1];if(null!=g&&null!=w){if(h<=l&&h<f.min){if(l<f.min)continue;
g=(f.min-h)/(l-h)*(w-g)+g;h=f.min}else if(l<=h&&l<f.min){if(h<f.min)continue;w=(f.min-h)/(l-h)*(w-g)+g;l=f.min}if(h>=l&&h>f.max){if(l>f.max)continue;g=(f.max-h)/(l-h)*(w-g)+g;h=f.max}else if(l>=h&&l>f.max){if(h>f.max)continue;w=(f.max-h)/(l-h)*(w-g)+g;l=f.max}if(g<=w&&g<e.min){if(w<e.min)continue;h=(e.min-g)/(w-g)*(l-h)+h;g=e.min}else if(w<=g&&w<e.min){if(g<e.min)continue;l=(e.min-g)/(w-g)*(l-h)+h;w=e.min}if(g>=w&&g>e.max){if(w>e.max)continue;h=(e.max-g)/(w-g)*(l-h)+h;g=e.max}else if(w>=g&&w>e.max){if(g>
e.max)continue;l=(e.max-g)/(w-g)*(l-h)+h;w=e.max}g==p&&h==k||t.moveTo(e.p2c(g)+c,f.p2c(h)+d);p=w;k=l;t.lineTo(e.p2c(w)+c,f.p2c(l)+d)}}t.stroke()}function c(a,b,d){var e=a.points;a=a.pointsize;for(var f=Math.min(Math.max(0,d.min),d.max),z=0,p=!1,k=1,g=0,r=0;!(0<a&&z>e.length+a);){var z=z+a,h=e[z-a],w=e[z-a+k],l=e[z],m=e[z+k];if(p){if(0<a&&null!=h&&null==l){r=z;a=-a;k=2;continue}if(0>a&&z==g+a){t.fill();p=!1;a=-a;k=1;z=g=r+a;continue}}if(null!=h&&null!=l){if(h<=l&&h<b.min){if(l<b.min)continue;w=(b.min-
h)/(l-h)*(m-w)+w;h=b.min}else if(l<=h&&l<b.min){if(h<b.min)continue;m=(b.min-h)/(l-h)*(m-w)+w;l=b.min}if(h>=l&&h>b.max){if(l>b.max)continue;w=(b.max-h)/(l-h)*(m-w)+w;h=b.max}else if(l>=h&&l>b.max){if(h>b.max)continue;m=(b.max-h)/(l-h)*(m-w)+w;l=b.max}p||(t.beginPath(),t.moveTo(b.p2c(h),d.p2c(f)),p=!0);if(w>=d.max&&m>=d.max)t.lineTo(b.p2c(h),d.p2c(d.max)),t.lineTo(b.p2c(l),d.p2c(d.max));else if(w<=d.min&&m<=d.min)t.lineTo(b.p2c(h),d.p2c(d.min)),t.lineTo(b.p2c(l),d.p2c(d.min));else{var x=h,F=l;w<=m&&
w<d.min&&m>=d.min?(h=(d.min-w)/(m-w)*(l-h)+h,w=d.min):m<=w&&m<d.min&&w>=d.min&&(l=(d.min-w)/(m-w)*(l-h)+h,m=d.min);w>=m&&w>d.max&&m<=d.max?(h=(d.max-w)/(m-w)*(l-h)+h,w=d.max):m>=w&&m>d.max&&w<=d.max&&(l=(d.max-w)/(m-w)*(l-h)+h,m=d.max);h!=x&&t.lineTo(b.p2c(x),d.p2c(w));t.lineTo(b.p2c(h),d.p2c(w));t.lineTo(b.p2c(l),d.p2c(m));l!=F&&(t.lineTo(b.p2c(l),d.p2c(m)),t.lineTo(b.p2c(F),d.p2c(m)))}}}}t.save();t.translate(D.left,D.top);t.lineJoin="round";var d=a.lines.lineWidth,e=a.shadowSize;if(0<d&&0<e){t.lineWidth=
e;t.strokeStyle="rgba(0,0,0,0.1)";var f=Math.PI/18;b(a.datapoints,Math.sin(f)*(d/2+e/2),Math.cos(f)*(d/2+e/2),a.xaxis,a.yaxis);t.lineWidth=e/2;b(a.datapoints,Math.sin(f)*(d/2+e/4),Math.cos(f)*(d/2+e/4),a.xaxis,a.yaxis)}t.lineWidth=d;t.strokeStyle=a.color;if(e=pa(a.lines,a.color,0,fa))t.fillStyle=e,c(a.datapoints,a.xaxis,a.yaxis);0<d&&b(a.datapoints,0,0,a.xaxis,a.yaxis);t.restore()}function F(a){function b(a,c,d,e,f,z,p,k){var g=a.points;a=a.pointsize;for(var r=0;r<g.length;r+=a){var h=g[r],w=g[r+
1];null==h||h<z.min||h>z.max||w<p.min||w>p.max||(t.beginPath(),h=z.p2c(h),w=p.p2c(w)+e,"circle"==k?t.arc(h,w,c,0,f?Math.PI:2*Math.PI,!1):k(t,h,w,c,f),t.closePath(),d&&(t.fillStyle=d,t.fill()),t.stroke())}}t.save();t.translate(D.left,D.top);var c=a.points.lineWidth,d=a.shadowSize,e=a.points.radius,f=a.points.symbol;0==c&&(c=1E-4);0<c&&0<d&&(d/=2,t.lineWidth=d,t.strokeStyle="rgba(0,0,0,0.1)",b(a.datapoints,e,null,d+d/2,!0,a.xaxis,a.yaxis,f),t.strokeStyle="rgba(0,0,0,0.2)",b(a.datapoints,e,null,d/2,
!0,a.xaxis,a.yaxis,f));t.lineWidth=c;t.strokeStyle=a.color;b(a.datapoints,e,pa(a.points,a.color),0,!1,a.xaxis,a.yaxis,f);t.restore()}function p(a,b,c,d,e,f,p,k,g,r,h){var l,m,x,F;r?(F=m=x=!0,l=!1,r=c,c=b+d,e=b+e,a<r&&(b=a,a=r,r=b,l=!0,m=!1)):(l=m=x=!0,F=!1,r=a+d,a+=e,e=c,c=b,c<e&&(b=c,c=e,e=b,F=!0,x=!1));a<p.min||r>p.max||c<k.min||e>k.max||(r<p.min&&(r=p.min,l=!1),a>p.max&&(a=p.max,m=!1),e<k.min&&(e=k.min,F=!1),c>k.max&&(c=k.max,x=!1),r=p.p2c(r),e=k.p2c(e),a=p.p2c(a),c=k.p2c(c),f&&(g.fillStyle=f(e,
c),g.fillRect(r,c,a-r,e-c)),0<h&&(l||m||x||F)&&(g.beginPath(),g.moveTo(r,e),l?g.lineTo(r,c):g.moveTo(r,c),x?g.lineTo(a,c):g.moveTo(a,c),m?g.lineTo(a,e):g.moveTo(a,e),F?g.lineTo(r,e):g.moveTo(r,e),g.stroke()))}function x(a){t.save();t.translate(D.left,D.top);t.lineWidth=a.bars.lineWidth;t.strokeStyle=a.color;var b;switch(a.bars.align){case "left":b=0;break;case "right":b=-a.bars.barWidth;break;default:b=-a.bars.barWidth/2}(function(b,c,d,e,f,z){var k=b.points;b=b.pointsize;for(var g=0;g<k.length;g+=
b)null!=k[g]&&p(k[g],k[g+1],k[g+2],c,d,e,f,z,t,a.bars.horizontal,a.bars.lineWidth)})(a.datapoints,b,b+a.bars.barWidth,a.bars.fill?function(b,c){return pa(a.bars,a.color,b,c)}:null,a.xaxis,a.yaxis);t.restore()}function pa(b,c,d,e){var f=b.fill;if(!f)return null;if(b.fillColor)return ia(b.fillColor,d,e,c);b=a.color.parse(c);b.a="number"==typeof f?f:0.4;b.normalize();return b.toString()}function J(){null!=q.legend.container?a(q.legend.container).html(""):c.find(".legend").remove();if(q.legend.show){for(var b=
[],d=[],e=!1,f=q.legend.labelFormatter,p,k,g=0;g<G.length;++g)p=G[g],p.label&&(k=f?f(p.label,p):p.label)&&d.push({label:k,color:p.color});if(q.legend.sorted)if(a.isFunction(q.legend.sorted))d.sort(q.legend.sorted);else if("reverse"==q.legend.sorted)d.reverse();else{var r="descending"!=q.legend.sorted;d.sort(function(a,b){return a.label==b.label?0:a.label<b.label!=r?1:-1})}for(g=0;g<d.length;++g)f=d[g],0==g%q.legend.noColumns&&(e&&b.push("</tr>"),b.push("<tr>"),e=!0),b.push('<td class="legendColorBox"><div style="border:1px solid '+
q.legend.labelBoxBorderColor+';padding:1px"><div style="width:4px;height:0;border:5px solid '+f.color+';overflow:hidden"></div></div></td><td class="legendLabel">'+f.label+"</td>");e&&b.push("</tr>");0!=b.length&&(d='<table style="font-size:smaller;color:'+q.grid.color+'">'+b.join("")+"</table>",null!=q.legend.container?a(q.legend.container).html(d):(b="",e=q.legend.position,g=q.legend.margin,null==g[0]&&(g=[g,g]),"n"==e.charAt(0)?b+="top:"+(g[1]+D.top)+"px;":"s"==e.charAt(0)&&(b+="bottom:"+(g[1]+
D.bottom)+"px;"),"e"==e.charAt(1)?b+="right:"+(g[0]+D.right)+"px;":"w"==e.charAt(1)&&(b+="left:"+(g[0]+D.left)+"px;"),d=a('<div class="legend">'+d.replace('style="','style="position:absolute;'+b+";")+"</div>").appendTo(c),0!=q.legend.backgroundOpacity&&(e=q.legend.backgroundColor,null==e&&(e=(e=q.grid.backgroundColor)&&"string"==typeof e?a.color.parse(e):a.color.extract(d,"background-color"),e.a=1,e=e.toString()),g=d.children(),a('<div style="position:absolute;width:'+g.width()+"px;height:"+g.height()+
"px;"+b+"background-color:"+e+';"> </div>').prependTo(d).css("opacity",q.legend.backgroundOpacity))))}}function ma(a){q.grid.hoverable&&Ja("plothover",a,function(a){return!1!=a.hoverable})}function Ia(a){q.grid.hoverable&&Ja("plothover",a,function(a){return!1})}function A(a){Ja("plotclick",a,function(a){return!1!=a.clickable})}function Ja(a,b,d){var e=ba.offset(),f=b.pageX-e.left-D.left,p=b.pageY-e.top-D.top,g=u({left:f,top:p});g.pageX=b.pageX;g.pageY=b.pageY;b=q.grid.mouseActiveRadius;var k=b*b+
1,r=null,h,l,m;for(h=G.length-1;0<=h;--h)if(d(G[h])){var x=G[h],F=x.xaxis,E=x.yaxis,t=x.datapoints.points,Y=F.c2p(f),A=E.c2p(p),ca=b/F.scale,pa=b/E.scale;m=x.datapoints.pointsize;F.options.inverseTransform&&(ca=Number.MAX_VALUE);E.options.inverseTransform&&(pa=Number.MAX_VALUE);if(x.lines.show||x.points.show)for(l=0;l<t.length;l+=m){var J=t[l],n=t[l+1];null==J||J-Y>ca||J-Y<-ca||n-A>pa||n-A<-pa||(J=Math.abs(F.p2c(J)-f),n=Math.abs(E.p2c(n)-p),n=J*J+n*n,n<k&&(k=n,r=[h,l/m]))}if(x.bars.show&&!r){switch(x.bars.align){case "left":F=
0;break;case "right":F=-x.bars.barWidth;break;default:F=-x.bars.barWidth/2}x=F+x.bars.barWidth;for(l=0;l<t.length;l+=m)J=t[l],n=t[l+1],E=t[l+2],null!=J&&(G[h].bars.horizontal?Y<=Math.max(E,J)&&Y>=Math.min(E,J)&&A>=n+F&&A<=n+x:Y>=J+F&&Y<=J+x&&A>=Math.min(E,n)&&A<=Math.max(E,n))&&(r=[h,l/m])}}r?(h=r[0],l=r[1],m=G[h].datapoints.pointsize,d={datapoint:G[h].datapoints.points.slice(l*m,(l+1)*m),dataIndex:l,series:G[h],seriesIndex:h}):d=null;d&&(d.pageX=parseInt(d.series.xaxis.p2c(d.datapoint[0])+e.left+
D.left,10),d.pageY=parseInt(d.series.yaxis.p2c(d.datapoint[1])+e.top+D.top,10));if(q.grid.autoHighlight){for(e=0;e<I.length;++e)f=I[e],f.auto!=a||d&&f.series==d.series&&f.point[0]==d.datapoint[0]&&f.point[1]==d.datapoint[1]||W(f.series,f.point);d&&ta(d.series,d.datapoint,a)}c.trigger(a,[g,d])}function Y(){var a=q.interaction.redrawOverlayInterval;-1==a?R():ua||(ua=setTimeout(R,a))}function R(){ua=null;S.save();ca.clear();S.translate(D.left,D.top);var b,c;for(b=0;b<I.length;++b)if(c=I[b],c.series.bars.show)la(c.series,
c.point);else{var d=c.series,e=c.point;c=e[0];var e=e[1],f=d.xaxis,p=d.yaxis,g="string"===typeof d.highlightColor?d.highlightColor:a.color.parse(d.color).scale("a",0.5).toString();if(!(c<f.min||c>f.max||e<p.min||e>p.max)){var k=d.points.radius+d.points.lineWidth/2;S.lineWidth=k;S.strokeStyle=g;g=1.5*k;c=f.p2c(c);e=p.p2c(e);S.beginPath();"circle"==d.points.symbol?S.arc(c,e,g,0,2*Math.PI,!1):d.points.symbol(S,c,e,g,!1);S.closePath();S.stroke()}}S.restore();h(aa.drawOverlay,[S])}function ta(a,b,c){"number"==
typeof a&&(a=G[a]);if("number"==typeof b){var d=a.datapoints.pointsize;b=a.datapoints.points.slice(d*b,d*(b+1))}d=da(a,b);-1==d?(I.push({series:a,point:b,auto:c}),Y()):c||(I[d].auto=!1)}function W(a,b){if(null==a&&null==b)I=[],Y();else{"number"==typeof a&&(a=G[a]);if("number"==typeof b){var c=a.datapoints.pointsize;b=a.datapoints.points.slice(c*b,c*(b+1))}c=da(a,b);-1!=c&&(I.splice(c,1),Y())}}function da(a,b){for(var c=0;c<I.length;++c){var d=I[c];if(d.series==a&&d.point[0]==b[0]&&d.point[1]==b[1])return c}return-1}
function la(b,c){var d="string"===typeof b.highlightColor?b.highlightColor:a.color.parse(b.color).scale("a",0.5).toString(),e;switch(b.bars.align){case "left":e=0;break;case "right":e=-b.bars.barWidth;break;default:e=-b.bars.barWidth/2}S.lineWidth=b.bars.lineWidth;S.strokeStyle=d;p(c[0],c[1],c[2]||0,e,e+b.bars.barWidth,function(){return d},b.xaxis,b.yaxis,S,b.bars.horizontal,b.bars.lineWidth)}function ia(b,c,d,e){if("string"==typeof b)return b;c=t.createLinearGradient(0,d,0,c);d=0;for(var f=b.colors.length;d<
f;++d){var p=b.colors[d];if("string"!=typeof p){var g=a.color.parse(e);null!=p.brightness&&(g=g.scale("rgb",p.brightness));null!=p.opacity&&(g.a*=p.opacity);p=g.toString()}c.addColorStop(d/(f-1),p)}return c}var G=[],q={colors:["#edc240","#afd8f8","#cb4b4b","#4da74d","#9440ed"],legend:{show:!0,noColumns:1,labelFormatter:null,labelBoxBorderColor:"#ccc",container:null,position:"ne",margin:5,backgroundColor:null,backgroundOpacity:0.85,sorted:null},xaxis:{show:null,position:"bottom",mode:null,font:null,
color:null,tickColor:null,transform:null,inverseTransform:null,min:null,max:null,autoscaleMargin:null,ticks:null,tickFormatter:null,labelWidth:null,labelHeight:null,reserveSpace:null,tickLength:null,alignTicksWithAxis:null,tickDecimals:null,tickSize:null,minTickSize:null},yaxis:{autoscaleMargin:0.02,position:"left"},xaxes:[],yaxes:[],series:{points:{show:!1,radius:3,lineWidth:2,fill:!0,fillColor:"#ffffff",symbol:"circle"},lines:{lineWidth:2,fill:!1,fillColor:null,steps:!1},bars:{show:!1,lineWidth:2,
barWidth:1,fill:!0,fillColor:null,align:"left",horizontal:!1,zero:!0},shadowSize:3,highlightColor:null},grid:{show:!0,aboveData:!1,color:"#545454",backgroundColor:null,borderColor:null,tickColor:null,margin:0,labelMargin:5,axisMargin:8,borderWidth:2,minBorderMargin:null,markings:null,markingsColor:"#f4f4f4",markingsLineWidth:2,clickable:!1,hoverable:!1,autoHighlight:!0,mouseActiveRadius:10},interaction:{redrawOverlayInterval:1E3/60},hooks:{}},V=null,ca=null,ba=null,t=null,S=null,N=[],T=[],D={left:0,
right:0,top:0,bottom:0},ea=0,fa=0,aa={processOptions:[],processRawData:[],processDatapoints:[],processOffset:[],drawBackground:[],drawSeries:[],draw:[],bindEvents:[],drawOverlay:[],shutdown:[]},K=this;K.setData=g;K.setupGrid=Z;K.draw=U;K.getPlaceholder=function(){return c};K.getCanvas=function(){return V.element};K.getPlotOffset=function(){return D};K.width=function(){return ea};K.height=function(){return fa};K.offset=function(){var a=ba.offset();a.left+=D.left;a.top+=D.top;return a};K.getData=function(){return G};
K.getAxes=function(){var b={};a.each(N.concat(T),function(a,c){c&&(b[c.direction+(1!=c.n?c.n:"")+"axis"]=c)});return b};K.getXAxes=function(){return N};K.getYAxes=function(){return T};K.c2p=u;K.p2c=function(a){var b={},c,d,e;for(c=0;c<N.length;++c)if((d=N[c])&&d.used&&(e="x"+d.n,null==a[e]&&1==d.n&&(e="x"),null!=a[e])){b.left=d.p2c(a[e]);break}for(c=0;c<T.length;++c)if((d=T[c])&&d.used&&(e="y"+d.n,null==a[e]&&1==d.n&&(e="y"),null!=a[e])){b.top=d.p2c(a[e]);break}return b};K.getOptions=function(){return q};
K.highlight=ta;K.unhighlight=W;K.triggerRedrawOverlay=Y;K.pointOffset=function(a){return{left:parseInt(N[l(a,"x")-1].p2c(+a.x)+D.left,10),top:parseInt(T[l(a,"y")-1].p2c(+a.y)+D.top,10)}};K.shutdown=C;K.destroy=function(){C();c.removeData("plot").empty();G=[];S=t=ba=ca=V=q=null;N=[];T=[];aa=null;I=[];K=null};K.resize=function(){var a=c.width(),b=c.height();V.resize(a,b);ca.resize(a,b)};K.hooks=aa;(function(){for(var b={Canvas:m},c=0;c<f.length;++c){var d=f[c];d.init(K,b);d.options&&a.extend(!0,q,d.options)}})(K);
(function(b){a.extend(!0,q,b);b&&b.colors&&(q.colors=b.colors);null==q.xaxis.color&&(q.xaxis.color=a.color.parse(q.grid.color).scale("a",0.22).toString());null==q.yaxis.color&&(q.yaxis.color=a.color.parse(q.grid.color).scale("a",0.22).toString());null==q.xaxis.tickColor&&(q.xaxis.tickColor=q.grid.tickColor||q.xaxis.color);null==q.yaxis.tickColor&&(q.yaxis.tickColor=q.grid.tickColor||q.yaxis.color);null==q.grid.borderColor&&(q.grid.borderColor=q.grid.color);null==q.grid.tickColor&&(q.grid.tickColor=
a.color.parse(q.grid.color).scale("a",0.22).toString());var d,e;b=(b=c.css("font-size"))?+b.replace("px",""):13;var f={style:c.css("font-style"),size:Math.round(0.8*b),variant:c.css("font-variant"),weight:c.css("font-weight"),family:c.css("font-family")};e=q.xaxes.length||1;for(b=0;b<e;++b)(d=q.xaxes[b])&&!d.tickColor&&(d.tickColor=d.color),d=a.extend(!0,{},q.xaxis,d),q.xaxes[b]=d,d.font&&(d.font=a.extend({},f,d.font),d.font.color||(d.font.color=d.color),d.font.lineHeight||(d.font.lineHeight=Math.round(1.15*
d.font.size)));e=q.yaxes.length||1;for(b=0;b<e;++b)(d=q.yaxes[b])&&!d.tickColor&&(d.tickColor=d.color),d=a.extend(!0,{},q.yaxis,d),q.yaxes[b]=d,d.font&&(d.font=a.extend({},f,d.font),d.font.color||(d.font.color=d.color),d.font.lineHeight||(d.font.lineHeight=Math.round(1.15*d.font.size)));q.xaxis.noTicks&&null==q.xaxis.ticks&&(q.xaxis.ticks=q.xaxis.noTicks);q.yaxis.noTicks&&null==q.yaxis.ticks&&(q.yaxis.ticks=q.yaxis.noTicks);q.x2axis&&(q.xaxes[1]=a.extend(!0,{},q.xaxis,q.x2axis),q.xaxes[1].position=
"top",null==q.x2axis.min&&(q.xaxes[1].min=null),null==q.x2axis.max&&(q.xaxes[1].max=null));q.y2axis&&(q.yaxes[1]=a.extend(!0,{},q.yaxis,q.y2axis),q.yaxes[1].position="right",null==q.y2axis.min&&(q.yaxes[1].min=null),null==q.y2axis.max&&(q.yaxes[1].max=null));q.grid.coloredAreas&&(q.grid.markings=q.grid.coloredAreas);q.grid.coloredAreasColor&&(q.grid.markingsColor=q.grid.coloredAreasColor);q.lines&&a.extend(!0,q.series.lines,q.lines);q.points&&a.extend(!0,q.series.points,q.points);q.bars&&a.extend(!0,
q.series.bars,q.bars);null!=q.shadowSize&&(q.series.shadowSize=q.shadowSize);null!=q.highlightColor&&(q.series.highlightColor=q.highlightColor);for(b=0;b<q.xaxes.length;++b)n(N,b+1).options=q.xaxes[b];for(b=0;b<q.yaxes.length;++b)n(T,b+1).options=q.yaxes[b];for(var p in aa)q.hooks[p]&&q.hooks[p].length&&(aa[p]=aa[p].concat(q.hooks[p]));h(aa.processOptions,[q])})(b);(function(){c.css("padding",0).children().filter(function(){return!a(this).hasClass("flot-overlay")&&!a(this).hasClass("flot-base")}).remove();
"static"==c.css("position")&&c.css("position","relative");V=new m("flot-base",c);ca=new m("flot-overlay",c);t=V.context;S=ca.context;ba=a(ca.element).unbind();var b=c.data("plot");b&&(b.shutdown(),ca.clear());c.data("plot",K)})();g(d);Z();U();q.grid.hoverable&&(ba.mousemove(ma),ba.bind("mouseleave",Ia));q.grid.clickable&&ba.click(A);h(aa.bindEvents,[ba]);var I=[],ua=null}var f=Object.prototype.hasOwnProperty;a.fn.detach||(a.fn.detach=function(){return this.each(function(){this.parentNode&&this.parentNode.removeChild(this)})});
m.prototype.resize=function(a,d){if(0>=a||0>=d)throw Error("Invalid dimensions for plot, width = "+a+", height = "+d);var b=this.element,f=this.context,h=this.pixelRatio;this.width!=a&&(b.width=a*h,b.style.width=a+"px",this.width=a);this.height!=d&&(b.height=d*h,b.style.height=d+"px",this.height=d);f.restore();f.save();f.scale(h,h)};m.prototype.clear=function(){this.context.clearRect(0,0,this.width,this.height)};m.prototype.render=function(){var a=this._textCache,d;for(d in a)if(f.call(a,d)){var b=
this.getTextLayer(d),k=a[d];b.hide();for(var h in k)if(f.call(k,h)){var g=k[h],l;for(l in g)if(f.call(g,l)){for(var m=g[l].positions,u=0,n;n=m[u];u++)n.active?n.rendered||(b.append(n.element),n.rendered=!0):(m.splice(u--,1),n.rendered&&n.element.detach());0==m.length&&delete g[l]}}b.show()}};m.prototype.getTextLayer=function(c){var d=this.text[c];null==d&&(null==this.textContainer&&(this.textContainer=a("<div class='flot-text'></div>").css({position:"absolute",top:0,left:0,bottom:0,right:0,"font-size":"smaller",
color:"#545454"}).insertAfter(this.element)),d=this.text[c]=a("<div></div>").addClass(c).css({position:"absolute",top:0,left:0,bottom:0,right:0}).appendTo(this.textContainer));return d};m.prototype.getTextInfo=function(c,d,b,f,h){var g,l;d=""+d;f="object"===typeof b?b.style+" "+b.variant+" "+b.weight+" "+b.size+"px/"+b.lineHeight+"px "+b.family:b;g=this._textCache[c];null==g&&(g=this._textCache[c]={});l=g[f];null==l&&(l=g[f]={});g=l[d];null==g&&(c=a("<div></div>").html(d).css({position:"absolute",
"max-width":h,top:-9999}).appendTo(this.getTextLayer(c)),"object"===typeof b?c.css({font:f,color:b.color}):"string"===typeof b&&c.addClass(b),g=l[d]={width:c.outerWidth(!0),height:c.outerHeight(!0),element:c,positions:[]},c.detach());return g};m.prototype.addText=function(a,d,b,f,h,g,l,m,u){a=this.getTextInfo(a,f,h,g,l);f=a.positions;"center"==m?d-=a.width/2:"right"==m&&(d-=a.width);"middle"==u?b-=a.height/2:"bottom"==u&&(b-=a.height);for(u=0;h=f[u];u++)if(h.x==d&&h.y==b){h.active=!0;return}h={active:!0,
rendered:!1,element:f.length?a.element.clone():a.element,x:d,y:b};f.push(h);h.element.css({top:Math.round(b),left:Math.round(d),"text-align":m})};m.prototype.removeText=function(a,d,b,k,h,g){if(null==k){if(d=this._textCache[a],null!=d)for(var l in d)if(f.call(d,l)){b=d[l];for(var m in b)if(f.call(b,m))for(a=b[m].positions,k=0;h=a[k];k++)h.active=!1}}else for(a=this.getTextInfo(a,k,h,g).positions,k=0;h=a[k];k++)h.x==d&&h.y==b&&(h.active=!1)};a.plot=function(c,e,b){return new d(a(c),e,b,a.plot.plugins)};
a.plot.version="0.8.3";a.plot.plugins=[];a.fn.plot=function(c,d){return this.each(function(){a.plot(this,c,d)})}})(jQuery);(function(a){function m(a,b){return b*Math.floor(a/b)}function d(a,b,c,d){if("function"==typeof a.strftime)return a.strftime(b);var e=function(a,b){a=""+a;return 1==a.length?""+(null==b?"0":b)+a:a},f=[],k=!1,h=a.getHours(),m=12>h;null==c&&(c="Jan Feb Mar Apr May Jun Jul Aug Sep Oct Nov Dec".split(" "));null==d&&(d="Sun Mon Tue Wed Thu Fri Sat".split(" "));var P;P=12<h?h-12:0==h?12:h;for(var Z=0;Z<b.length;++Z){var H=b.charAt(Z);if(k){switch(H){case "a":H=""+d[a.getDay()];break;case "b":H=""+c[a.getMonth()];
break;case "d":H=e(a.getDate());break;case "e":H=e(a.getDate()," ");break;case "h":case "H":H=e(h);break;case "I":H=e(P);break;case "l":H=e(P," ");break;case "m":H=e(a.getMonth()+1);break;case "M":H=e(a.getMinutes());break;case "q":H=""+(Math.floor(a.getMonth()/3)+1);break;case "S":H=e(a.getSeconds());break;case "y":H=e(a.getFullYear()%100);break;case "Y":H=""+a.getFullYear();break;case "p":H=m?"am":"pm";break;case "P":H=m?"AM":"PM";break;case "w":H=""+a.getDay()}f.push(H);k=!1}else"%"==H?k=!0:f.push(H)}return f.join("")}
function f(a){function b(a,c,d,e){a[c]=function(){return d[e].apply(d,arguments)}}var c={date:a};void 0!=a.strftime&&b(c,"strftime",a,"strftime");b(c,"getTime",a,"getTime");b(c,"setTime",a,"setTime");for(var d="Date Day FullYear Hours Milliseconds Minutes Month Seconds".split(" "),e=0;e<d.length;e++)b(c,"get"+d[e],a,"getUTC"+d[e]),b(c,"set"+d[e],a,"setUTC"+d[e]);return c}function c(a,b){if("browser"==b.timezone)return new Date(a);if(b.timezone&&"utc"!=b.timezone&&"undefined"!=typeof timezoneJS&&"undefined"!=
typeof timezoneJS.Date){var c=new timezoneJS.Date;c.setTimezone(b.timezone);c.setTime(a);return c}return f(new Date(a))}var e={second:1E3,minute:6E4,hour:36E5,day:864E5,month:2592E6,quarter:7776E6,year:525949.2*6E4},b=[[1,"second"],[2,"second"],[5,"second"],[10,"second"],[30,"second"],[1,"minute"],[2,"minute"],[5,"minute"],[10,"minute"],[30,"minute"],[1,"hour"],[2,"hour"],[4,"hour"],[8,"hour"],[12,"hour"],[1,"day"],[2,"day"],[3,"day"],[0.25,"month"],[0.5,"month"],[1,"month"],[2,"month"]],k=b.concat([[3,
"month"],[6,"month"],[1,"year"]]),h=b.concat([[1,"quarter"],[2,"quarter"],[1,"year"]]);a.plot.plugins.push({init:function(b){b.hooks.processOptions.push(function(b,f){a.each(b.getAxes(),function(a,b){var f=b.options;"time"==f.mode&&(b.tickGenerator=function(a){var b=[],d=c(a.min,f),g=0,l=f.tickSize&&"quarter"===f.tickSize[1]||f.minTickSize&&"quarter"===f.minTickSize[1]?h:k;null!=f.minTickSize&&(g="number"==typeof f.tickSize?f.tickSize:f.minTickSize[0]*e[f.minTickSize[1]]);for(var n=0;n<l.length-1&&
!(a.delta<(l[n][0]*e[l[n][1]]+l[n+1][0]*e[l[n+1][1]])/2&&l[n][0]*e[l[n][1]]>=g);++n);g=l[n][0];l=l[n][1];"year"==l&&(null!=f.minTickSize&&"year"==f.minTickSize[1]?g=Math.floor(f.minTickSize[0]):(n=Math.pow(10,Math.floor(Math.log(a.delta/e.year)/Math.LN10)),g=a.delta/e.year/n,g=(1.5>g?1:3>g?2:7.5>g?5:10)*n),1>g&&(g=1));a.tickSize=f.tickSize||[g,l];n=a.tickSize[0];l=a.tickSize[1];g=n*e[l];"second"==l?d.setSeconds(m(d.getSeconds(),n)):"minute"==l?d.setMinutes(m(d.getMinutes(),n)):"hour"==l?d.setHours(m(d.getHours(),
n)):"month"==l?d.setMonth(m(d.getMonth(),n)):"quarter"==l?d.setMonth(3*m(d.getMonth()/3,n)):"year"==l&&d.setFullYear(m(d.getFullYear(),n));d.setMilliseconds(0);g>=e.minute&&d.setSeconds(0);g>=e.hour&&d.setMinutes(0);g>=e.day&&d.setHours(0);g>=4*e.day&&d.setDate(1);g>=2*e.month&&d.setMonth(m(d.getMonth(),3));g>=2*e.quarter&&d.setMonth(m(d.getMonth(),6));g>=e.year&&d.setMonth(0);var u=0,y=Number.NaN,ha;do if(ha=y,y=d.getTime(),b.push(y),"month"==l||"quarter"==l)if(1>n){d.setDate(1);var E=d.getTime();
d.setMonth(d.getMonth()+("quarter"==l?3:1));var r=d.getTime();d.setTime(y+u*e.hour+(r-E)*n);u=d.getHours();d.setHours(0)}else d.setMonth(d.getMonth()+n*("quarter"==l?3:1));else"year"==l?d.setFullYear(d.getFullYear()+n):d.setTime(y+g);while(y<a.max&&y!=ha);return b},b.tickFormatter=function(a,b){var g=c(a,b.options);if(null!=f.timeformat)return d(g,f.timeformat,f.monthNames,f.dayNames);var k=b.options.tickSize&&"quarter"==b.options.tickSize[1]||b.options.minTickSize&&"quarter"==b.options.minTickSize[1],
h=b.tickSize[0]*e[b.tickSize[1]],l=b.max-b.min,m=f.twelveHourClock?" %p":"",n=f.twelveHourClock?"%I":"%H";return d(g,h<e.minute?n+":%M:%S"+m:h<e.day?l<2*e.day?n+":%M"+m:"%b %d "+n+":%M"+m:h<e.month?"%b %d":k&&h<e.quarter||!k&&h<e.year?l<e.year?"%b":"%b %Y":k&&h<e.year?l<e.year?"Q%q":"Q%q %Y":"%Y",f.monthNames,f.dayNames)})})})},options:{xaxis:{timezone:"browser",timeformat:null,twelveHourClock:!1,monthNames:null}},name:"time",version:"1.0"});a.plot.formatDate=d;a.plot.dateGenerator=c})(jQuery);(function(a){"function"===typeof define&&define.amd?define(["jquery"],a):a(window.jQuery)})(function(a){Array.prototype.reduce||(Array.prototype.reduce=function(a){var b=Object(this),c=b.length>>>0,d=0,e;if(2===arguments.length)e=arguments[1];else{for(;d<c&&!(d in b);)d++;if(d>=c)throw new TypeError("Reduce of empty array with no initial value");e=b[d++]}for(;d<c;d++)d in b&&(e=a(e,b[d],d,b));return e});"function"!==typeof Array.prototype.filter&&(Array.prototype.filter=function(a){for(var b=Object(this),
c=b.length>>>0,d=[],e=2<=arguments.length?arguments[1]:void 0,f=0;f<c;f++)if(f in b){var g=b[f];a.call(e,g,f,b)&&d.push(g)}return d});var m="function"===typeof define&&define.amd,d={isMac:-1<navigator.appVersion.indexOf("Mac"),isMSIE:-1<navigator.userAgent.indexOf("MSIE")||-1<navigator.userAgent.indexOf("Trident"),isFF:-1<navigator.userAgent.indexOf("Firefox"),jqueryVersion:parseFloat(a.fn.jquery),isSupportAmd:m,hasCodeMirror:m?require.specified("CodeMirror"):!!window.CodeMirror,isFontInstalled:function(b){var c=
"Comic Sans MS"===b?"Courier New":"Comic Sans MS",d=a("<div>").css({position:"absolute",left:"-9999px",top:"-9999px",fontSize:"200px"}).text("mmmmmmmmmwwwwwww").appendTo(document.body),e=d.css("fontFamily",c).width();b=d.css("fontFamily",b+","+c).width();d.remove();return e!==b},isW3CRangeSupport:!!document.createRange},f=function(){var b=0;return{eq:function(a){return function(b){return a===b}},eq2:function(a,b){return a===b},peq2:function(a){return function(b,c){return b[a]===c[a]}},ok:function(){return!0},
fail:function(){return!1},self:function(a){return a},not:function(a){return function(){return!a.apply(a,arguments)}},and:function(a,b){return function(c){return a(c)&&b(c)}},uniqueId:function(a){var c=++b+"";return a?a+c:c},rect2bnd:function(b){var c=a(document);return{top:b.top+c.scrollTop(),left:b.left+c.scrollLeft(),width:b.right-b.left,height:b.bottom-b.top}},invertObject:function(a){var b={},c;for(c in a)a.hasOwnProperty(c)&&(b[a[c]]=c);return b}}}(),c=function(){var b=function(a){return a[a.length-
1]},c=function(a){return a.slice(1)},d=function(b,c){return-1!==a.inArray(c,b)};return{head:function(a){return a[0]},last:b,initial:function(a){return a.slice(0,a.length-1)},tail:c,prev:function(a,b){var c=a.indexOf(b);return-1===c?null:a[c-1]},next:function(a,b){var c=a.indexOf(b);return-1===c?null:a[c+1]},find:function(a,b){for(var c=0,d=a.length;c<d;c++){var e=a[c];if(b(e))return e}},contains:d,all:function(a,b){for(var c=0,d=a.length;c<d;c++)if(!b(a[c]))return!1;return!0},sum:function(a,b){b=
b||f.self;return a.reduce(function(a,c){return a+b(c)},0)},from:function(a){for(var b=[],c=-1,d=a.length;++c<d;)b[c]=a[c];return b},clusterBy:function(a,d){return a.length?c(a).reduce(function(a,c){var e=b(a);d(b(e),c)?e[e.length]=c:a[a.length]=[c];return a},[[a[0]]]):[]},compact:function(a){for(var b=[],c=0,d=a.length;c<d;c++)a[c]&&b.push(a[c]);return b},unique:function(a){for(var b=[],c=0,e=a.length;c<e;c++)d(b,a[c])||b.push(a[c]);return b}}}(),e=String.fromCharCode(160),b=function(){var g=function(b){return b&&
a(b).hasClass("note-editable")},k=function(a){a=a.toUpperCase();return function(b){return b&&b.nodeName.toUpperCase()===a}},h=function(a){return a&&3===a.nodeType},p=function(a){return a&&/^BR|^IMG|^HR/.test(a.nodeName.toUpperCase())},l=function(a){return g(a)?!1:a&&/^DIV|^P|^LI|^H[1-7]/.test(a.nodeName.toUpperCase())},m=k("LI"),n=k("TABLE"),ma=function(a){return!Y(a)&&!s(a)&&!l(a)&&!n(a)&&!u(a)},s=function(a){return a&&/^UL|^OL/.test(a.nodeName.toUpperCase())},A=function(a){return a&&/^TD|^TH/.test(a.nodeName.toUpperCase())},
u=k("BLOCKQUOTE"),Y=function(a){return A(a)||u(a)||g(a)},R=k("A"),v=k("BODY"),W=d.isMSIE?"&nbsp;":"<br>",da=function(a){return h(a)?a.nodeValue.length:a.childNodes.length},la=function(a){var c=da(a);return 0===c||!b.isText(a)&&1===c&&a.innerHTML===W?!0:!1},ia=function(a){p(a)||da(a)||(a.innerHTML=W)},G=function(a,b){for(;a;){if(b(a))return a;if(g(a))break;a=a.parentNode}return null},q=function(a,b){b=b||f.fail;var c=[];G(a,function(a){g(a)||c.push(a);return b(a)});return c},y=function(a,b){b=b||f.fail;
for(var c=[];a&&!b(a);)c.push(a),a=a.nextSibling;return c},ca=function(a,b){var c=b.nextSibling,d=b.parentNode;c?d.insertBefore(a,c):d.appendChild(a);return a},ba=function(b,c){a.each(c,function(a,c){b.appendChild(c)});return b},t=function(a){return 0===a.offset},S=function(a){return a.offset===da(a.node)},N=function(a){for(var b=0;a=a.previousSibling;)b+=1;return b},T=function(a){return!!(a&&a.childNodes&&a.childNodes.length)},D=function(a,b){var c,d;if(0===a.offset){if(g(a.node))return null;c=a.node.parentNode;
d=N(a.node)}else T(a.node)?(c=a.node.childNodes[a.offset-1],d=da(c)):(c=a.node,d=b?0:a.offset-1);return{node:c,offset:d}},C=function(a,b){var c,d;if(da(a.node)===a.offset){if(g(a.node))return null;c=a.node.parentNode;d=N(a.node)+1}else T(a.node)?(c=a.node.childNodes[a.offset],d=0):(c=a.node,d=b?da(a.node):a.offset+1);return{node:c,offset:d}},L=function(a,b){return a.node===b.node&&a.offset===b.offset},aa=function(a,b){if(h(a.node))return t(a)?a.node:S(a)?a.node.nextSibling:a.node.splitText(a.offset);
var c=a.node.childNodes[a.offset],d=ca(a.node.cloneNode(!1),a.node);ba(d,y(c));b||(ia(a.node),ia(d));return d},K=function(a,b,c){a=q(b.node,f.eq(a));return a.length?1===a.length?aa(b,c):a.reduce(function(a,d){var e=ca(d.cloneNode(!1),d);a===b.node&&(a=aa(b,c));ba(e,y(a));c||(ia(d),ia(e));return e}):null},I=function(a){return document.createElement(a)},H=function(a,b){if(a&&a.parentNode){if(a.removeNode)return a.removeNode(b);var c=a.parentNode;if(!b){var d=[],e,f;e=0;for(f=a.childNodes.length;e<f;e++)d.push(a.childNodes[e]);
e=0;for(f=d.length;e<f;e++)c.insertBefore(d[e],a)}c.removeChild(a)}},P=k("TEXTAREA");return{NBSP_CHAR:e,ZERO_WIDTH_NBSP_CHAR:"﻿",blank:W,emptyPara:"<p>"+W+"</p>",makePredByNodeName:k,isEditable:g,isControlSizing:function(b){return b&&a(b).hasClass("note-control-sizing")},buildLayoutInfo:function(b){var d;if(b.hasClass("note-air-editor")){var e=c.last(b.attr("id").split("-"));d=function(b){return function(){return a(b+e)}};return{editor:function(){return b},editable:function(){return b},popover:d("#note-popover-"),
handle:d("#note-handle-"),dialog:d("#note-dialog-")}}d=function(a){return function(){return b.find(a)}};return{editor:function(){return b},dropzone:d(".note-dropzone"),toolbar:d(".note-toolbar"),editable:d(".note-editable"),codable:d(".note-codable"),statusbar:d(".note-statusbar"),popover:d(".note-popover"),handle:d(".note-handle"),dialog:d(".note-dialog")}},isText:h,isVoid:p,isPara:l,isPurePara:function(a){return l(a)&&!m(a)},isInline:ma,isBodyInline:function(a){return ma(a)&&!G(a,l)},isBody:v,isParaInline:function(a){return ma(a)&&
!!G(a,l)},isList:s,isTable:n,isCell:A,isBlockquote:u,isBodyContainer:Y,isAnchor:R,isDiv:k("DIV"),isLi:m,isBR:k("BR"),isSpan:k("SPAN"),isB:k("B"),isU:k("U"),isS:k("S"),isI:k("I"),isImg:k("IMG"),isTextarea:P,isEmpty:la,isEmptyAnchor:f.and(R,la),isClosestSibling:function(a,b){return a.nextSibling===b||a.previousSibling===b},withClosestSiblings:function(a,b){b=b||f.ok;var c=[];a.previousSibling&&b(a.previousSibling)&&c.push(a.previousSibling);c.push(a);a.nextSibling&&b(a.nextSibling)&&c.push(a.nextSibling);
return c},nodeLength:da,isLeftEdgePoint:t,isRightEdgePoint:S,isEdgePoint:function(a){return t(a)||S(a)},isLeftEdgeOf:function(a,b){for(;a&&a!==b;){if(0!==N(a))return!1;a=a.parentNode}return!0},isRightEdgeOf:function(a,b){for(;a&&a!==b;){if(N(a)!==da(a.parentNode)-1)return!1;a=a.parentNode}return!0},prevPoint:D,nextPoint:C,isSamePoint:L,isVisiblePoint:function(a){if(h(a.node)||!T(a.node)||la(a.node))return!0;var b=a.node.childNodes[a.offset-1];a=a.node.childNodes[a.offset];return b&&!p(b)||a&&!p(a)?
!1:!0},prevPointUntil:function(a,b){for(;a;){if(b(a))return a;a=D(a)}return null},nextPointUntil:function(a,b){for(;a;){if(b(a))return a;a=C(a)}return null},walkPoint:function(a,b,c,d){for(var e=a;e;){c(e);if(L(e,b))break;e=C(e,d&&a.node!==e.node&&b.node!==e.node)}},ancestor:G,singleChildAncestor:function(a,b){for(a=a.parentNode;a&&1===da(a);){if(b(a))return a;if(g(a))break;a=a.parentNode}return null},listAncestor:q,lastAncestor:function(a,b){var d=q(a);return c.last(d.filter(b))},listNext:y,listPrev:function(a,
b){b=b||f.fail;for(var c=[];a&&!b(a);)c.push(a),a=a.previousSibling;return c},listDescendant:function(a,b){var c=[];b=b||f.ok;(function Pa(d){a!==d&&b(d)&&c.push(d);for(var e=0,f=d.childNodes.length;e<f;e++)Pa(d.childNodes[e])})(a);return c},commonAncestor:function(b,c){for(var d=q(b),e=c;e;e=e.parentNode)if(-1<a.inArray(e,d))return e;return null},wrap:function(b,c){var d=b.parentNode,e=a("<"+c+">")[0];d.insertBefore(e,b);e.appendChild(b);return e},insertAfter:ca,appendChildNodes:ba,position:N,hasChildren:T,
makeOffsetPath:function(b,c){var d=q(c,f.eq(b));return a.map(d,N).reverse()},fromOffsetPath:function(a,b){for(var c=a,d=0,e=b.length;d<e;d++)c=c.childNodes.length<=b[d]?c.childNodes[c.childNodes.length-1]:c.childNodes[b[d]];return c},splitTree:K,splitPoint:function(a,b){var d=b?l:Y,e=q(a.node,d),f=c.last(e)||a.node;d(f)?d=e[e.length-2]:(d=f,f=d.parentNode);return{rightNode:d&&K(d,a,b),container:f}},create:I,createText:function(a){return document.createTextNode(a)},remove:H,removeWhile:function(a,
b){for(;a&&!g(a)&&b(a);){var c=a.parentNode;H(a);a=c}},replace:function(a,b){if(a.nodeName.toUpperCase()===b.toUpperCase())return a;var d=I(b);a.style.cssText&&(d.style.cssText=a.style.cssText);ba(d,c.from(a.childNodes));ca(d,a);H(a);return d},html:function(b,c){var d=P(b[0])?b.val():b.html();c&&(d=d.replace(/<(\/?)(\b(?!!)[^>\s]*)(.*?)(\s*\/?>)/g,function(a,b,c){c=c.toUpperCase();b=/^DIV|^TD|^TH|^P|^LI|^H[1-7]/.test(c)&&!!b;c=/^BLOCKQUOTE|^TABLE|^TBODY|^TR|^HR|^UL|^OL/.test(c);return a+(b||c?"\n":
"")}),d=a.trim(d));return d},value:function(a,b){var c=a.val();return b?c.replace(/[\n\r]/g,""):c}}}(),k=function(){var e=function(a,d){var e=a.parentElement(),f,g=document.body.createTextRange(),k,h=c.from(e.childNodes);for(f=0;f<h.length;f++)if(!b.isText(h[f])){g.moveToElementText(h[f]);if(0<=g.compareEndPoints("StartToStart",a))break;k=h[f]}if(0!==f&&b.isText(h[f-1])){g=document.body.createTextRange();f=null;g.moveToElementText(k||e);g.collapse(!k);f=k?k.nextSibling:e.firstChild;e=a.duplicate();
e.setEndPoint("StartToStart",g);for(k=e.text.replace(/[\r\n]/g,"").length;k>f.nodeValue.length&&f.nextSibling;)k-=f.nodeValue.length,f=f.nextSibling;d&&f.nextSibling&&b.isText(f.nextSibling)&&k===f.nodeValue.length&&(k-=f.nodeValue.length,f=f.nextSibling);e=f;f=k}return{cont:e,offset:f}},g=function(a){var d=function(a,e){var g,k;if(b.isText(a)){k=b.listPrev(a,f.not(b.isText));var p=c.last(k).previousSibling;g=p||a.parentNode;e+=c.sum(c.tail(k),b.nodeLength);k=!p}else{g=a.childNodes[e]||a;if(b.isText(g))return d(g,
0);e=0;k=!1}return{node:g,collapseToStart:k,offset:e}},e=document.body.createTextRange();a=d(a.node,a.offset);e.moveToElementText(a.node);e.collapse(a.collapseToStart);e.moveStart("character",a.offset);return e},k=function(e,h,l,m){this.sc=e;this.so=h;this.ec=l;this.eo=m;var E=function(){if(d.isW3CRangeSupport){var a=document.createRange();a.setStart(e,h);a.setEnd(l,m);return a}a=g({node:e,offset:h});a.setEndPoint("EndToEnd",g({node:l,offset:m}));return a};this.getPoints=function(){return{sc:e,so:h,
ec:l,eo:m}};this.getStartPoint=function(){return{node:e,offset:h}};this.getEndPoint=function(){return{node:l,offset:m}};this.select=function(){var a=E();if(d.isW3CRangeSupport){var b=document.getSelection();0<b.rangeCount&&b.removeAllRanges();b.addRange(a)}else a.select()};this.normalize=function(){var a=function(a){b.isVisiblePoint(a)||(a=b.isLeftEdgePoint(a)?b.nextPointUntil(a,b.isVisiblePoint):b.prevPointUntil(a,b.isVisiblePoint));return a},c=a(this.getStartPoint()),a=a(this.getEndPoint());return new k(c.node,
c.offset,a.node,a.offset)};this.nodes=function(a,d){a=a||f.ok;var e=d&&d.includeAncestor,g=d&&d.fullyContains,k=this.getStartPoint(),h=this.getEndPoint(),l=[],p=[];b.walkPoint(k,h,function(d){if(!b.isEditable(d.node)){var f;g?(b.isLeftEdgePoint(d)&&p.push(d.node),b.isRightEdgePoint(d)&&c.contains(p,d.node)&&(f=d.node)):f=e?b.ancestor(d.node,a):d.node;f&&a(f)&&l.push(f)}},!0);return c.unique(l)};this.commonAncestor=function(){return b.commonAncestor(e,l)};this.expand=function(a){var c=b.ancestor(e,
a);a=b.ancestor(l,a);if(!c&&!a)return new k(e,h,l,m);var d=this.getPoints();c&&(d.sc=c,d.so=0);a&&(d.ec=a,d.eo=b.nodeLength(a));return new k(d.sc,d.so,d.ec,d.eo)};this.collapse=function(a){return a?new k(e,h,e,h):new k(l,m,l,m)};this.splitText=function(){var a=e===l,c=this.getPoints();b.isText(l)&&!b.isEdgePoint(this.getEndPoint())&&l.splitText(m);b.isText(e)&&!b.isEdgePoint(this.getStartPoint())&&(c.sc=e.splitText(h),c.so=0,a&&(c.ec=c.sc,c.eo=m-h));return new k(c.sc,c.so,c.ec,c.eo)};this.deleteContents=
function(){if(this.isCollapsed())return this;var d=this.splitText(),e=d.nodes(null,{fullyContains:!0}),f=b.prevPointUntil(d.getStartPoint(),function(a){return!c.contains(e,a.node)}),g=[];a.each(e,function(a,c){var d=c.parentNode;f.node!==d&&1===b.nodeLength(d)&&g.push(d);b.remove(c,!1)});a.each(g,function(a,c){b.remove(c,!1)});return(new k(f.node,f.offset,f.node,f.offset)).normalize()};var n=function(a){return function(){var c=b.ancestor(e,a);return!!c&&c===b.ancestor(l,a)}};this.isOnEditable=n(b.isEditable);
this.isOnList=n(b.isList);this.isOnAnchor=n(b.isAnchor);this.isOnCell=n(b.isCell);this.isLeftEdgeOf=function(a){return b.isLeftEdgePoint(this.getStartPoint())?(a=b.ancestor(this.sc,a))&&b.isLeftEdgeOf(this.sc,a):!1};this.isCollapsed=function(){return e===l&&h===m};this.wrapBodyInlineWithPara=function(){if(b.isBodyContainer(e)&&b.isEmpty(e))return e.innerHTML=b.emptyPara,new k(e.firstChild,0,e.firstChild,0);if(b.isParaInline(e)||b.isPara(e))return this.normalize();var a;if(b.isInline(e)){var d=b.listAncestor(e,
f.not(b.isInline));a=c.last(d);b.isInline(a)||(a=d[d.length-2]||e.childNodes[h])}else a=e.childNodes[0<h?h-1:0];d=b.listPrev(a,b.isParaInline).reverse();d=d.concat(b.listNext(a.nextSibling,b.isParaInline));d.length&&(a=b.wrap(c.head(d),"p"),b.appendChildNodes(a,c.tail(d)));return this.normalize()};this.insertNode=function(a){var c=this.wrapBodyInlineWithPara().deleteContents(),c=b.splitPoint(c.getStartPoint(),b.isInline(a));c.rightNode?c.rightNode.parentNode.insertBefore(a,c.rightNode):c.container.appendChild(a);
return a};this.toString=function(){var a=E();return d.isW3CRangeSupport?a.toString():a.text};this.bookmark=function(a){return{s:{path:b.makeOffsetPath(a,e),offset:h},e:{path:b.makeOffsetPath(a,l),offset:m}}};this.paraBookmark=function(a){return{s:{path:c.tail(b.makeOffsetPath(c.head(a),e)),offset:h},e:{path:c.tail(b.makeOffsetPath(c.last(a),l)),offset:m}}};this.getClientRects=function(){return E().getClientRects()}};return{create:function(a,c,f,g){if(arguments.length)2===arguments.length&&(f=a,g=
c);else if(d.isW3CRangeSupport){var h=document.getSelection();if(0===h.rangeCount||b.isBody(h.anchorNode))return null;h=h.getRangeAt(0);a=h.startContainer;c=h.startOffset;f=h.endContainer;g=h.endOffset}else{var l=document.selection.createRange(),h=l.duplicate();h.collapse(!1);l.collapse(!0);l=e(l,!0);h=e(h,!1);b.isText(l.node)&&b.isLeftEdgePoint(l)&&b.isTextNode(h.node)&&b.isRightEdgePoint(h)&&h.node.nextSibling===l.node&&(l=h);a=l.cont;c=l.offset;f=h.cont;g=h.offset}return new k(a,c,f,g)},createFromNode:function(a){var c=
a,d=0,e=b.nodeLength(a);b.isVoid(c)&&(d=b.listPrev(c).length-1,c=c.parentNode);b.isBR(a)?(e=b.listPrev(a).length-1,a=a.parentNode):b.isVoid(a)&&(e=b.listPrev(a).length,a=a.parentNode);return this.create(c,d,a,e)},createFromBookmark:function(a,c){var d=b.fromOffsetPath(a,c.s.path),e=c.s.offset,f=b.fromOffsetPath(a,c.e.path);return new k(d,e,f,c.e.offset)},createFromParaBookmark:function(a,d){var e=a.s.offset,f=a.e.offset,g=b.fromOffsetPath(c.head(d),a.s.path),h=b.fromOffsetPath(c.last(d),a.e.path);
return new k(g,e,h,f)}}}(),h=function(){return{readFileAsDataURL:function(b){return a.Deferred(function(c){a.extend(new FileReader,{onload:function(a){c.resolve(a.target.result)},onerror:function(){c.reject(this)}}).readAsDataURL(b)}).promise()},createImage:function(b,c){return a.Deferred(function(d){var e=a("<img>");e.one("load",function(){e.off("error abort");d.resolve(e)}).one("error abort",function(){e.off("load").detach();d.reject(e)}).css({display:"none"}).appendTo(document.body).attr({src:b,
"data-filename":c})}).promise()}}}(),g={isEdit:function(a){return c.contains([8,9,13,32],a)},nameFromCode:{8:"BACKSPACE",9:"TAB",13:"ENTER",32:"SPACE",48:"NUM0",49:"NUM1",50:"NUM2",51:"NUM3",52:"NUM4",53:"NUM5",54:"NUM6",55:"NUM7",56:"NUM8",66:"B",69:"E",73:"I",74:"J",75:"K",76:"L",82:"R",83:"S",85:"U",89:"Y",90:"Z",191:"SLASH",219:"LEFTBRACKET",220:"BACKSLASH",221:"RIGHTBRACKET"}},l=function(){var e=function(b,c){if(1.9>d.jqueryVersion){var e={};a.each(c,function(a,c){e[c]=b.css(c)});return e}return b.css.call(b,
c)};this.stylePara=function(c,d){a.each(c.nodes(b.isPara,{includeAncestor:!0}),function(b,c){a(c).css(d)})};this.styleNodes=function(d,e){d=d.splitText();var g=e&&e.nodeName||"SPAN",k=!(!e||!e.expandClosestSibling),h=!(!e||!e.onlyPartialContains);if(d.isCollapsed())return d.insertNode(b.create(g));var l=b.makePredByNodeName(g),m=a.map(d.nodes(b.isText,{fullyContains:!0}),function(a){return b.singleChildAncestor(a,l)||b.wrap(a,g)});if(k){if(h)var E=d.nodes(),l=f.and(l,function(a){return c.contains(E,
a)});return a.map(m,function(d){d=b.withClosestSiblings(d,l);var e=c.head(d),f=c.tail(d);a.each(f,function(a,c){b.appendChildNodes(e,c.childNodes);b.remove(c)});return c.head(d)})}return m};this.current=function(c,d){var f=a(b.isText(c.sc)?c.sc.parentNode:c.sc),f=e(f,["font-family","font-size","text-align","list-style-type","line-height"])||{};f["font-size"]=parseInt(f["font-size"],10);f["font-bold"]=document.queryCommandState("bold")?"bold":"normal";f["font-italic"]=document.queryCommandState("italic")?
"italic":"normal";f["font-underline"]=document.queryCommandState("underline")?"underline":"normal";f["font-strikethrough"]=document.queryCommandState("strikeThrough")?"strikethrough":"normal";f["font-superscript"]=document.queryCommandState("superscript")?"superscript":"normal";f["font-subscript"]=document.queryCommandState("subscript")?"subscript":"normal";if(c.isOnList()){var g=-1<a.inArray(f["list-style-type"],["circle","disc","disc-leading-zero","square"]);f["list-style"]=g?"unordered":"ordered"}else f["list-style"]=
"none";(g=b.ancestor(c.sc,b.isPara))&&g.style["line-height"]?f["line-height"]=g.style.lineHeight:(g=parseInt(f["line-height"],10)/parseInt(f["font-size"],10),f["line-height"]=g.toFixed(1));f.image=b.isImg(d)&&d;f.anchor=c.isOnAnchor()&&b.ancestor(c.sc,b.isAnchor);f.ancestors=b.listAncestor(c.sc,b.isEditable);f.range=c;return f}},y=function(){this.insertTab=function(a,c,d){a=b.createText(Array(d+1).join(b.NBSP_CHAR));c=c.deleteContents();c.insertNode(a,!0);c=k.create(a,d);c.select()};this.insertParagraph=
function(){var c=k.create(),c=c.deleteContents(),c=c.wrapBodyInlineWithPara(),d=b.ancestor(c.sc,b.isPara),e;d?(e=b.splitTree(d,c.getStartPoint()),c=b.listDescendant(d,b.isEmptyAnchor),c=c.concat(b.listDescendant(e,b.isEmptyAnchor)),a.each(c,function(a,c){b.remove(c)})):(d=c.sc.childNodes[c.so],e=a(b.emptyPara)[0],d?c.sc.insertBefore(e,d):c.sc.appendChild(e));k.create(e,0).normalize().select()}},u=function(){this.tab=function(a,d){var e=b.ancestor(a.commonAncestor(),b.isCell),f=b.ancestor(e,b.isTable),
f=b.listDescendant(f,b.isCell);(e=c[d?"prev":"next"](f,e))&&k.create(e,0).select()};this.createTable=function(c,d){for(var e=[],f=0;f<c;f++)e.push("<td>"+b.blank+"</td>");for(var e=e.join(""),f=[],g=0;g<d;g++)f.push("<tr>"+e+"</tr>");e=f.join("");return a('<table class="table table-bordered">'+e+"</table>")[0]}},n=function(){this.insertOrderedList=function(){this.toggleList("OL")};this.insertUnorderedList=function(){this.toggleList("UL")};this.indent=function(){var d=this,e=k.create().wrapBodyInlineWithPara(),
g=e.nodes(b.isPara,{includeAncestor:!0}),g=c.clusterBy(g,f.peq2("parentNode"));a.each(g,function(e,f){var g=c.head(f);b.isLi(g)?d.wrapList(f,g.parentNode.nodeName):a.each(f,function(b,c){a(c).css("marginLeft",function(a,b){return(parseInt(b,10)||0)+25})})});e.select()};this.outdent=function(){var d=this,e=k.create().wrapBodyInlineWithPara(),g=e.nodes(b.isPara,{includeAncestor:!0}),g=c.clusterBy(g,f.peq2("parentNode"));a.each(g,function(e,f){var g=c.head(f);b.isLi(g)?d.releaseList([f]):a.each(f,function(b,
c){a(c).css("marginLeft",function(a,b){b=parseInt(b,10)||0;return 25<b?b-25:""})})});e.select()};this.toggleList=function(d){var e=this,g=k.create().wrapBodyInlineWithPara(),h=g.nodes(b.isPara,{includeAncestor:!0}),l=g.paraBookmark(h),m=c.clusterBy(h,f.peq2("parentNode"));if(c.find(h,b.isPurePara)){var n=[];a.each(m,function(a,b){n=n.concat(e.wrapList(b,d))});h=n}else g=g.nodes(b.isList,{includeAncestor:!0}).filter(function(b){return!a.nodeName(b,d)}),g.length?a.each(g,function(a,c){b.replace(c,d)}):
h=this.releaseList(m,!0);k.createFromParaBookmark(l,h).select()};this.wrapList=function(d,e){var f=c.head(d),g=c.last(d),k=b.isList(f.previousSibling)&&f.previousSibling,f=b.isList(g.nextSibling)&&g.nextSibling,g=k||b.insertAfter(b.create(e||"UL"),g);d=a.map(d,function(a){return b.isPurePara(a)?b.replace(a,"LI"):a});b.appendChildNodes(g,d);f&&(b.appendChildNodes(g,c.from(f.childNodes)),b.remove(f));return d};this.releaseList=function(d,e){var f=[];a.each(d,function(d,g){var k=c.head(g),h=c.last(g),
l=e?b.lastAncestor(k,b.isList):k.parentNode,h=1<l.childNodes.length?b.splitTree(l,{node:h.parentNode,offset:b.position(h)+1},!0):null,k=b.splitTree(l,{node:k.parentNode,offset:b.position(k)},!0);g=e?b.listDescendant(k,b.isLi):c.from(k.childNodes).filter(b.isLi);if(e||!b.isList(l.parentNode))g=a.map(g,function(a){return b.replace(a,"P")});a.each(c.from(g).reverse(),function(a,c){b.insertAfter(c,l)});k=c.compact([l,k,h]);a.each(k,function(c,d){var e=[d].concat(b.listDescendant(d,b.isList));a.each(e.reverse(),
function(a,c){b.nodeLength(c)||b.remove(c,!0)})});f=f.concat(g)});return f}},v=function(){var e=new l,f=new u,g=new y,m=new n;this.createRange=function(a){a.focus();return k.create()};this.saveRange=function(a,b){a.focus();a.data("range",k.create());b&&k.create().collapse().select()};this.saveNode=function(a){for(var b=[],c=0,d=a[0].childNodes.length;c<d;c++)b.push(a[0].childNodes[c]);a.data("childNodes",b)};this.restoreRange=function(a){var b=a.data("range");b&&(b.select(),a.focus())};this.restoreNode=
function(a){a.html("");for(var b=a.data("childNodes"),c=0,d=b.length;c<d;c++)a[0].appendChild(b[c])};this.currentStyle=function(a){var b=k.create();return b?b.isOnEditable()&&e.current(b,a):!1};var x=this.triggerOnBeforeChange=function(a){var b=a.data("callbacks").onBeforeChange;b&&b(a.html(),a)},s=this.triggerOnChange=function(a){var b=a.data("callbacks").onChange;b&&b(a.html(),a)};this.undo=function(a){x(a);a.data("NoteHistory").undo();s(a)};this.redo=function(a){x(a);a.data("NoteHistory").redo();
s(a)};for(var J=this.beforeCommand=function(a){x(a)},v=this.afterCommand=function(a){a.data("NoteHistory").recordUndo();s(a)},C="bold italic underline strikethrough superscript subscript justifyLeft justifyCenter justifyRight justifyFull formatBlock removeFormat backColor foreColor insertHorizontalRule fontName".split(" "),A=0,H=C.length;A<H;A++)this[C[A]]=function(a){return function(b,c){J(b);document.execCommand(a,!1,c);v(b)}}(C[A]);this.tab=function(a,b){var c=k.create();c.isCollapsed()&&c.isOnCell()?
f.tab(c):(J(a),g.insertTab(a,c,b.tabsize),v(a))};this.untab=function(){var a=k.create();a.isCollapsed()&&a.isOnCell()&&f.tab(a,!0)};this.insertParagraph=function(a){J(a);g.insertParagraph(a);v(a)};this.insertOrderedList=function(a){J(a);m.insertOrderedList(a);v(a)};this.insertUnorderedList=function(a){J(a);m.insertUnorderedList(a);v(a)};this.indent=function(a){J(a);m.indent(a);v(a)};this.outdent=function(a){J(a);m.outdent(a);v(a)};this.insertImage=function(a,b,c){h.createImage(b,c).then(function(b){J(a);
b.css({display:""});k.create().insertNode(b[0]);k.createFromNode(b[0]).collapse().select();v(a)}).fail(function(){var b=a.data("callbacks");if(b.onImageUploadError)b.onImageUploadError()})};this.insertNode=function(a,b){J(a);this.createRange(a).insertNode(b);k.createFromNode(b).collapse().select();v(a)};this.insertText=function(a,c){J(a);var d=this.createRange(a).insertNode(b.createText(c));k.create(d,b.nodeLength(d)).select();v(a)};this.formatBlock=function(a,b){J(a);b=d.isMSIE?"<"+b+">":b;document.execCommand("FormatBlock",
!1,b);v(a)};this.formatPara=function(a){J(a);this.formatBlock(a,"P");v(a)};for(A=1;6>=A;A++)this["formatH"+A]=function(a){return function(b){this.formatBlock(b,"H"+a)}}(A);this.fontSize=function(a,b){J(a);document.execCommand("fontSize",!1,3);d.isFF?a.find("font[size=3]").removeAttr("size").css("font-size",b+"px"):a.find("span").filter(function(){return"medium"===this.style.fontSize}).css("font-size",b+"px");v(a)};this.lineHeight=function(a,b){J(a);e.stylePara(k.create(),{lineHeight:b});v(a)};this.unlink=
function(a){var c=k.create();c.isOnAnchor()&&(c=b.ancestor(c.sc,b.isAnchor),c=k.createFromNode(c),c.select(),J(a),document.execCommand("unlink"),v(a))};this.createLink=function(b,d,f){var g=d.url,h=d.text,l=d.newWindow;d=d.range;var m=d.toString()!==h;J(b);f.onCreateLink&&(g=f.onCreateLink(g));h=m?[d.insertNode(a("<A>"+h+"</A>")[0])]:e.styleNodes(d,{nodeName:"A",expandClosestSibling:!0,onlyPartialContains:!0});a.each(h,function(b,c){a(c).attr({href:g,target:l?"_blank":""})});f=k.createFromNode(c.head(h)).collapse(!0).getStartPoint();
h=k.createFromNode(c.last(h)).collapse().getEndPoint();k.create(f.node,f.offset,h.node,h.offset).select();v(b)};this.getLinkInfo=function(d){d.focus();d=k.create().expand(b.isAnchor);var e=a(c.head(d.nodes(b.isAnchor)));return{range:d,text:d.toString(),isNewWindow:e.length?"_blank"===e.attr("target"):!0,url:e.length?e.attr("href"):""}};this.color=function(a,b){var c=JSON.parse(b),d=c.foreColor,c=c.backColor;J(a);d&&document.execCommand("foreColor",!1,d);c&&document.execCommand("backColor",!1,c);v(a)};
this.insertTable=function(a,b){var c=b.split("x");J(a);var d=k.create(),d=d.deleteContents();d.insertNode(f.createTable(c[0],c[1]));v(a)};this.floatMe=function(a,b,c){J(a);c.css("float",b);v(a)};this.imageShape=function(a,b,c){J(a);c.removeClass("img-rounded img-circle img-thumbnail");b&&c.addClass(b);v(a)};this.resize=function(a,b,c){J(a);c.css({width:100*b+"%",height:""});v(a)};this.resizeTo=function(a,b,c){if(c){c=a.y/a.x;var d=b.data("ratio");a={width:d>c?a.x:a.y/d,height:d>c?a.x*d:a.y}}else a=
{width:a.x,height:a.y};b.css(a)};this.removeMedia=function(a,b,c){J(a);c.detach();if((b=a.data("callbacks"))&&b.onMediaDelete)b.onMediaDelete(c,this,a);v(a)}},C=function(a){var b=[],c=-1,d=a[0],e=function(){var b=k.create(),c={s:{path:[0],offset:0},e:{path:[0],offset:0}};return{contents:a.html(),bookmark:b?b.bookmark(d):c}},f=function(b){null!==b.contents&&a.html(b.contents);null!==b.bookmark&&k.createFromBookmark(d,b.bookmark).select()};this.undo=function(){0<c&&(c--,f(b[c]))};this.redo=function(){b.length-
1>c&&(c++,f(b[c]))};this.recordUndo=function(){c++;b.length>c&&(b=b.slice(0,c));b.push(e())};this.recordUndo()},s=function(){this.update=function(b,d){var e=function(b,c){b.find(".dropdown-menu li a").each(function(){this.className=a(this).data("value")+""===c+""?"checked":""})},f=function(a,c){b.find(a).toggleClass("active",c())};if(d.image){var g=a(d.image);f('button[data-event="imageShape"][data-value="img-rounded"]',function(){return g.hasClass("img-rounded")});f('button[data-event="imageShape"][data-value="img-circle"]',
function(){return g.hasClass("img-circle")});f('button[data-event="imageShape"][data-value="img-thumbnail"]',function(){return g.hasClass("img-thumbnail")});f('button[data-event="imageShape"]:not([data-value])',function(){return!g.is(".img-rounded, .img-circle, .img-thumbnail")});var h=g.css("float");f('button[data-event="floatMe"][data-value="left"]',function(){return"left"===h});f('button[data-event="floatMe"][data-value="right"]',function(){return"right"===h});f('button[data-event="floatMe"][data-value="none"]',
function(){return"left"!==h&&"right"!==h});var k=g.attr("style");f('button[data-event="resize"][data-value="1"]',function(){return!!/(^|\s)(max-)?width\s*:\s*100%/.test(k)});f('button[data-event="resize"][data-value="0.5"]',function(){return!!/(^|\s)(max-)?width\s*:\s*50%/.test(k)});f('button[data-event="resize"][data-value="0.25"]',function(){return!!/(^|\s)(max-)?width\s*:\s*25%/.test(k)})}else{var l=b.find(".note-fontname");if(l.length){var m=d["font-family"];m&&(m=c.head(m.split(",")),m=m.replace(/\'/g,
""),l.find(".note-current-fontname").text(m),e(l,m))}l=b.find(".note-fontsize");l.find(".note-current-fontsize").text(d["font-size"]);e(l,parseFloat(d["font-size"]));l=b.find(".note-height");e(l,parseFloat(d["line-height"]));f('button[data-event="bold"]',function(){return"bold"===d["font-bold"]});f('button[data-event="italic"]',function(){return"italic"===d["font-italic"]});f('button[data-event="underline"]',function(){return"underline"===d["font-underline"]});f('button[data-event="strikethrough"]',
function(){return"strikethrough"===d["font-strikethrough"]});f('button[data-event="superscript"]',function(){return"superscript"===d["font-superscript"]});f('button[data-event="subscript"]',function(){return"subscript"===d["font-subscript"]});f('button[data-event="justifyLeft"]',function(){return"left"===d["text-align"]||"start"===d["text-align"]});f('button[data-event="justifyCenter"]',function(){return"center"===d["text-align"]});f('button[data-event="justifyRight"]',function(){return"right"===
d["text-align"]});f('button[data-event="justifyFull"]',function(){return"justify"===d["text-align"]});f('button[data-event="insertUnorderedList"]',function(){return"unordered"===d["list-style"]});f('button[data-event="insertOrderedList"]',function(){return"ordered"===d["list-style"]})}};this.updateRecentColor=function(b,c,d){b=a(b).closest(".note-color").find(".note-recent-color");var e=JSON.parse(b.attr("data-value"));e[c]=d;b.attr("data-value",JSON.stringify(e));c="backColor"===c?"background-color":
"color";b.find("i").css(c,d)}},L=function(){var a=new s;this.update=function(b,c){a.update(b,c)};this.updateRecentColor=function(b,c,d){a.updateRecentColor(b,c,d)};this.activate=function(a){a.find("button").not('button[data-event="codeview"]').removeClass("disabled")};this.deactivate=function(a){a.find("button").not('button[data-event="codeview"]').addClass("disabled")};this.updateFullscreen=function(a,b){a.find('button[data-event="fullscreen"]').toggleClass("active",b)};this.updateCodeview=function(a,
b){a.find('button[data-event="codeview"]').toggleClass("active",b)}},P=function(){var b=new s,d=function(b,c){var d=a(b),e=c?d.offset():d.position(),d=d.outerHeight(!0);return{left:e.left,top:e.top+d}},e=function(a,b){a.css({display:"block",left:b.left,top:b.top})};this.update=function(g,h,k){b.update(g,h);var l=g.find(".note-link-popover");if(h.anchor){var m=l.find("a"),n=a(h.anchor).attr("href");m.attr("href",n).html(n);e(l,d(h.anchor,k))}else l.hide();l=g.find(".note-image-popover");h.image?e(l,
d(h.image,k)):l.hide();g=g.find(".note-air-popover");if(k&&!h.range.isCollapsed()){if(h=c.last(h.range.getClientRects()))h=f.rect2bnd(h),e(g,{left:Math.max(h.left+h.width/2-20,0),top:h.top+h.height})}else g.hide()};this.updateRecentColor=function(a,b,c){a.updateRecentColor(a,b,c)};this.hide=function(a){a.children().hide()}},Z=function(){this.update=function(b,c,d){b=b.find(".note-control-selection");if(c.image){var e=a(c.image);d=d?e.offset():e.position();var f=e.outerWidth(!0),e=e.outerHeight(!0);
b.css({display:"block",left:d.left,top:d.top,width:f,height:e}).data("target",c.image);c=f+"x"+e;b.find(".note-control-selection-info").text(c)}else b.hide()};this.hide=function(a){a.children().hide()}},H=function(){var b=function(a,b){a.toggleClass("disabled",!b);a.attr("disabled",!b)};this.showImageDialog=function(c,d){return a.Deferred(function(a){var c=d.find(".note-image-dialog"),e=d.find(".note-image-input"),f=d.find(".note-image-url"),g=d.find(".note-image-btn");c.one("shown.bs.modal",function(){e.replaceWith(e.clone().on("change",
function(){a.resolve(this.files||this.value);c.modal("hide")}).val(""));g.click(function(b){b.preventDefault();b=f.val();a.resolve(b.split(","));console.log(b.split(","));c.modal("hide")});f.on("keyup paste",function(a){a="paste"===a.type?a.originalEvent.clipboardData.getData("text"):f.val();b(g,a)}).val("").trigger("focus")}).one("hidden.bs.modal",function(){e.off("change");f.off("keyup paste");g.off("click");"pending"===a.state()&&a.reject()}).modal("show")})};this.showLinkDialog=function(c,d,e){return a.Deferred(function(a){var c=
d.find(".note-link-dialog"),f=c.find(".note-link-text"),g=c.find(".note-link-url"),h=c.find(".note-link-btn"),k=c.find("input[type=checkbox]");c.one("shown.bs.modal",function(){f.val(e.text);f.on("input",function(){e.text=f.val()});e.url||(e.url=e.text,b(h,e.text));g.on("input",function(){b(h,g.val());e.text||f.val(g.val())}).val(e.url).trigger("focus").trigger("select");k.prop("checked",e.newWindow);h.one("click",function(b){b.preventDefault();a.resolve({range:e.range,url:g.val(),text:f.val(),newWindow:k.is(":checked")});
c.modal("hide")})}).one("hidden.bs.modal",function(){f.off("input");g.off("input");h.off("click");"pending"===a.state()&&a.reject()}).modal("show")}).promise()};this.showHelpDialog=function(b,c){return a.Deferred(function(a){c.find(".note-help-dialog").one("hidden.bs.modal",function(){a.resolve()}).modal("show")}).promise()}},U;d.hasCodeMirror&&(d.isSupportAmd?require(["CodeMirror"],function(a){U=a}):U=window.CodeMirror);a.summernote=a.summernote||{};a.extend(a.summernote,{version:"0.6.2",options:{width:null,
height:null,minHeight:null,maxHeight:null,focus:!1,tabsize:4,styleWithSpan:!0,disableLinkTarget:!1,disableDragAndDrop:!1,disableResizeEditor:!1,shortcuts:!0,placeholder:!1,prettifyHtml:!0,codemirror:{mode:"text/html",htmlMode:!0,lineNumbers:!0},lang:"zh-CN",direction:null,toolbar:[["style",["style"]],["font",["bold","italic","underline","clear"]],["fontname",["fontname"]],["color",["color"]],["para",["ul","ol","paragraph"]],["height",["height"]],["table",["table"]],["insert",["link","picture","hr"]],
["view",["fullscreen","codeview"]],["help",["help"]]],airMode:!1,airPopover:[["color",["color"]],["font",["bold","underline","clear"]],["para",["ul","paragraph"]],["table",["table"]],["insert",["link","picture"]]],styleTags:"p blockquote pre h1 h2 h3 h4 h5 h6".split(" "),defaultFontName:"Helvetica Neue",fontNames:"Arial;Arial Black;Comic Sans MS;Courier New;Helvetica Neue;Impact;Lucida Grande;Tahoma;Times New Roman;Verdana".split(";"),fontNamesIgnoreCheck:[],colors:["#000000 #424242 #636363 #9C9C94 #CEC6CE #EFEFEF #F7F7F7 #FFFFFF".split(" "),
"#FF0000 #FF9C00 #FFFF00 #00FF00 #00FFFF #0000FF #9C00FF #FF00FF".split(" "),"#F7C6CE #FFE7CE #FFEFC6 #D6EFD6 #CEDEE7 #CEE7F7 #D6D6E7 #E7D6DE".split(" "),"#E79C9C #FFC69C #FFE79C #B5D6A5 #A5C6CE #9CC6EF #B5A5D6 #D6A5BD".split(" "),"#E76363 #F7AD6B #FFD663 #94BD7B #73A5AD #6BADDE #8C7BC6 #C67BA5".split(" "),"#CE0000 #E79439 #EFC631 #6BA54A #4A7B8C #3984C6 #634AA5 #A54A7B".split(" "),"#9C0000 #B56308 #BD9400 #397B21 #104A5A #085294 #311873 #731842".split(" "),"#630000 #7B3900 #846300 #295218 #083139 #003163 #21104A #4A1031".split(" ")],
lineHeights:"1.0 1.2 1.4 1.5 1.6 1.8 2.0 3.0".split(" "),insertTableMaxSize:{col:10,row:10},maximumImageFileSize:null,oninit:null,onfocus:null,onblur:null,onenter:null,onkeyup:null,onkeydown:null,onImageUpload:null,onImageUploadError:null,onMediaDelete:null,onToolbarClick:null,onsubmit:null,onCreateLink:function(a){-1!==a.indexOf("@")&&-1===a.indexOf(":")?a="mailto:"+a:-1===a.indexOf("://")&&(a="http://"+a);return a},keyMap:{pc:{ENTER:"insertParagraph","CTRL+Z":"undo","CTRL+Y":"redo",TAB:"tab","SHIFT+TAB":"untab",
"CTRL+B":"bold","CTRL+I":"italic","CTRL+U":"underline","CTRL+SHIFT+S":"strikethrough","CTRL+BACKSLASH":"removeFormat","CTRL+SHIFT+L":"justifyLeft","CTRL+SHIFT+E":"justifyCenter","CTRL+SHIFT+R":"justifyRight","CTRL+SHIFT+J":"justifyFull","CTRL+SHIFT+NUM7":"insertUnorderedList","CTRL+SHIFT+NUM8":"insertOrderedList","CTRL+LEFTBRACKET":"outdent","CTRL+RIGHTBRACKET":"indent","CTRL+NUM0":"formatPara","CTRL+NUM1":"formatH1","CTRL+NUM2":"formatH2","CTRL+NUM3":"formatH3","CTRL+NUM4":"formatH4","CTRL+NUM5":"formatH5",
"CTRL+NUM6":"formatH6","CTRL+ENTER":"insertHorizontalRule","CTRL+K":"showLinkDialog"},mac:{ENTER:"insertParagraph","CMD+Z":"undo","CMD+SHIFT+Z":"redo",TAB:"tab","SHIFT+TAB":"untab","CMD+B":"bold","CMD+I":"italic","CMD+U":"underline","CMD+SHIFT+S":"strikethrough","CMD+BACKSLASH":"removeFormat","CMD+SHIFT+L":"justifyLeft","CMD+SHIFT+E":"justifyCenter","CMD+SHIFT+R":"justifyRight","CMD+SHIFT+J":"justifyFull","CMD+SHIFT+NUM7":"insertUnorderedList","CMD+SHIFT+NUM8":"insertOrderedList","CMD+LEFTBRACKET":"outdent",
"CMD+RIGHTBRACKET":"indent","CMD+NUM0":"formatPara","CMD+NUM1":"formatH1","CMD+NUM2":"formatH2","CMD+NUM3":"formatH3","CMD+NUM4":"formatH4","CMD+NUM5":"formatH5","CMD+NUM6":"formatH6","CMD+ENTER":"insertHorizontalRule","CMD+K":"showLinkDialog"}}},lang:{}});var Q=new function(){var c=function(a,b){var c=b.event,d=b.value,e=b.title,f=b.className,g=b.dropdown,h=b.hide;return'<button type="button" class="btn btn-default btn-sm btn-small'+(f?" "+f:"")+(g?" dropdown-toggle":"")+'"'+(g?' data-toggle="dropdown"':
"")+(e?' title="'+e+'"':"")+(c?' data-event="'+c+'"':"")+(d?" data-value='"+d+"'":"")+(h?" data-hide='"+h+"'":"")+' tabindex="-1">'+a+(g?' <span class="caret"></span>':"")+"</button>"+(g||"")},e=function(a,b){return c('<i class="'+a+'"></i>',b)},g=function(a,b){return'<div class="'+a+' popover bottom in" style="display: none;"><div class="arrow"></div><div class="popover-content">'+b+"</div></div>"},h=function(a,b,c,d,e){return'<div class="'+a+' modal" aria-hidden="false"><div class="modal-dialog'+
(e?" modal-lg":"")+'"><div class="modal-content">'+(b?'<div class="modal-header"><button type="button" class="close" aria-hidden="true" tabindex="-1">&times;</button><h4 class="modal-title">'+b+"</h4></div>":"")+'<form class="note-modal-form"><div class="modal-body">'+c+"</div>"+(d?'<div class="modal-footer">'+d+"</div>":"")+"</form></div></div></div>"},k={picture:function(a){return e("fa fa-picture-o",{event:"showImageDialog",title:a.image.image,hide:!0})},link:function(a){return e("fa fa-link",
{event:"showLinkDialog",title:a.link.link,hide:!0})},table:function(a){return e("fa fa-table",{title:a.table.table,dropdown:'<ul class="note-table dropdown-menu"><div class="note-dimension-picker"><div class="note-dimension-picker-mousecatcher" data-event="insertTable" data-value="1x1"></div><div class="note-dimension-picker-highlighted"></div><div class="note-dimension-picker-unhighlighted"></div></div><div class="note-dimension-display"> 1 x 1 </div></ul>'})},style:function(a,b){var c=b.styleTags.reduce(function(b,
c){var d=a.style["p"===c?"normal":c];return b+'<li><a data-event="formatBlock" href="#" data-value="'+c+'">'+("p"===c||"pre"===c?d:"<"+c+">"+d+"</"+c+">")+"</a></li>"},"");return e("fa fa-magic",{title:a.style.style,dropdown:'<ul class="dropdown-menu">'+c+"</ul>"})},fontname:function(a,b){var e=b.fontNames.reduce(function(a,c){return d.isFontInstalled(c)||-1!==b.fontNamesIgnoreCheck.indexOf(c)?a+'<li><a data-event="fontName" href="#" data-value="'+c+'" style="font-family:\''+c+'\'"><i class="fa fa-check"></i> '+
c+"</a></li>":a},"");return c('<span class="note-current-fontname">'+b.defaultFontName+"</span>",{title:a.font.name,dropdown:'<ul class="dropdown-menu">'+e+"</ul>"})},color:function(a){var b=c('<i class="fa fa-font" style="color:black;background-color:yellow;"></i>',{className:"note-recent-color",title:a.color.recent,event:"color",value:'{"backColor":"yellow"}'});a=c("",{title:a.color.more,dropdown:'<ul class="dropdown-menu"><li><div class="btn-group"><div class="note-palette-title">'+a.color.background+
'</div><div class="note-color-reset" data-event="backColor" data-value="inherit" title="'+a.color.transparent+'">'+a.color.setTransparent+'</div><div class="note-color-palette" data-target-event="backColor"></div></div><div class="btn-group"><div class="note-palette-title">'+a.color.foreground+'</div><div class="note-color-reset" data-event="foreColor" data-value="inherit" title="'+a.color.reset+'">'+a.color.resetToDefault+'</div><div class="note-color-palette" data-target-event="foreColor"></div></div></li></ul>'});
return b+a},bold:function(a){return e("fa fa-bold",{event:"bold",title:a.font.bold})},italic:function(a){return e("fa fa-italic",{event:"italic",title:a.font.italic})},underline:function(a){return e("fa fa-underline",{event:"underline",title:a.font.underline})},clear:function(a){return e("fa fa-eraser",{event:"removeFormat",title:a.font.clear})},ul:function(a){return e("fa fa-list-ul",{event:"insertUnorderedList",title:a.lists.unordered})},ol:function(a){return e("fa fa-list-ol",{event:"insertOrderedList",
title:a.lists.ordered})},paragraph:function(a){var b=e("fa fa-align-left",{title:a.paragraph.left,event:"justifyLeft"}),c=e("fa fa-align-center",{title:a.paragraph.center,event:"justifyCenter"}),d=e("fa fa-align-right",{title:a.paragraph.right,event:"justifyRight"}),f=e("fa fa-align-justify",{title:a.paragraph.justify,event:"justifyFull"}),g=e("fa fa-outdent",{title:a.paragraph.outdent,event:"outdent"}),h=e("fa fa-indent",{title:a.paragraph.indent,event:"indent"});return e("fa fa-align-left",{title:a.paragraph.paragraph,
dropdown:'<div class="dropdown-menu"><div class="note-align btn-group">'+b+c+d+f+'</div><div class="note-list btn-group">'+h+g+"</div></div>"})},height:function(a,b){var c=b.lineHeights.reduce(function(a,b){return a+'<li><a data-event="lineHeight" href="#" data-value="'+parseFloat(b)+'"><i class="fa fa-check"></i> '+b+"</a></li>"},"");return e("fa fa-text-height",{title:a.font.height,dropdown:'<ul class="dropdown-menu">'+c+"</ul>"})},help:function(a){return e("fa fa-question",{event:"showHelpDialog",
title:a.options.help,hide:!0})},fullscreen:function(a){return e("fa fa-arrows-alt",{event:"fullscreen",title:a.options.fullscreen})},codeview:function(a){return e("fa fa-code",{event:"codeview",title:a.options.codeview})},undo:function(a){return e("fa fa-undo",{event:"undo",title:a.history.undo})},redo:function(a){return e("fa fa-repeat",{event:"redo",title:a.history.redo})},hr:function(a){return e("fa fa-minus",{event:"insertHorizontalRule",title:a.hr.insert})}},l=function(a,b){var d=function(){for(var c=
"",d=0,e=b.airPopover.length;d<e;d++){for(var f=b.airPopover[d],c=c+('<div class="note-'+f[0]+' btn-group">'),h=0,l=f[1].length;h<l;h++)c+=k[f[1][h]](a,b);c+="</div>"}return g("note-air-popover",c)};return'<div class="note-popover">'+function(){var b=e("fa fa-edit",{title:a.link.edit,event:"showLinkDialog",hide:!0}),c=e("fa fa-unlink",{title:a.link.unlink,event:"unlink"});return g("note-link-popover",'<a href="http://www.google.com" target="_blank">www.google.com</a>&nbsp;&nbsp;<div class="note-insert btn-group">'+
b+c+"</div>")}()+function(){var b=c('<span class="note-fontsize-10">100%</span>',{title:a.image.resizeFull,event:"resize",value:"1"}),d=c('<span class="note-fontsize-10">50%</span>',{title:a.image.resizeHalf,event:"resize",value:"0.5"}),f=c('<span class="note-fontsize-10">25%</span>',{title:a.image.resizeQuarter,event:"resize",value:"0.25"}),h=e("fa fa-align-left",{title:a.image.floatLeft,event:"floatMe",value:"left"}),k=e("fa fa-align-right",{title:a.image.floatRight,event:"floatMe",value:"right"}),
l=e("fa fa-align-justify",{title:a.image.floatNone,event:"floatMe",value:"none"}),m=e("fa fa-square",{title:a.image.shapeRounded,event:"imageShape",value:"img-rounded"}),p=e("fa fa-circle-o",{title:a.image.shapeCircle,event:"imageShape",value:"img-circle"}),n=e("fa fa-picture-o",{title:a.image.shapeThumbnail,event:"imageShape",value:"img-thumbnail"}),s=e("fa fa-times",{title:a.image.shapeNone,event:"imageShape",value:""}),D=e("fa fa-trash-o",{title:a.image.remove,event:"removeMedia",value:"none"});
return g("note-image-popover",'<div class="btn-group">'+b+d+f+'</div><div class="btn-group">'+h+k+l+'</div><div class="btn-group">'+m+p+n+s+'</div><div class="btn-group">'+D+"</div>")}()+(b.airMode?d():"")+"</div>"},m=function(){return'<div class="note-handle"><div class="note-control-selection"><div class="note-control-selection-bg"></div><div class="note-control-holder note-control-nw"></div><div class="note-control-holder note-control-ne"></div><div class="note-control-holder note-control-sw"></div><div class="note-control-sizing note-control-se"></div><div class="note-control-selection-info"></div></div></div>'},
n=function(a,b){var c=[],d;for(d in b)b.hasOwnProperty(d)&&c.push('<div class="note-shortcut-col col-xs-6 note-shortcut-key">'+b[d].kbd+'</div><div class="note-shortcut-col col-xs-6 note-shortcut-name">'+b[d].text+"</div>");return'<div class="note-shortcut-row row"><div class="note-shortcut-col col-xs-6 note-shortcut-title col-xs-offset-6">'+a+'</div></div><div class="note-shortcut-row row">'+c.join('</div><div class="note-shortcut-row row">')+"</div>"},s=function(a,b){var c=b.extraKeys,d=[],e;for(e in c)c.hasOwnProperty(e)&&
d.push({kbd:e,text:c[e]});return n(a.shortcut.extraKeys,d)},v=function(a,b){var c='<div class="note-shortcut note-shortcut-col col-sm-6 col-xs-12">'+n(a.shortcut.action,[{kbd:"⌘ + Z",text:a.history.undo},{kbd:"⌘ + ⇧ + Z",text:a.history.redo},{kbd:"⌘ + ]",text:a.paragraph.indent},{kbd:"⌘ + [",text:a.paragraph.outdent},{kbd:"⌘ + ENTER",text:a.hr.insert}])+'</div><div class="note-shortcut note-shortcut-col col-sm-6 col-xs-12">',d;d=n(a.shortcut.textFormatting,[{kbd:"⌘ + B",text:a.font.bold},{kbd:"⌘ + I",
text:a.font.italic},{kbd:"⌘ + U",text:a.font.underline},{kbd:"⌘ + \\",text:a.font.clear}]);c=c+d+"</div>";d='<div class="note-shortcut note-shortcut-col col-sm-6 col-xs-12">'+n(a.shortcut.documentStyle,[{kbd:"⌘ + NUM0",text:a.style.normal},{kbd:"⌘ + NUM1",text:a.style.h1},{kbd:"⌘ + NUM2",text:a.style.h2},{kbd:"⌘ + NUM3",text:a.style.h3},{kbd:"⌘ + NUM4",text:a.style.h4},{kbd:"⌘ + NUM5",text:a.style.h5},{kbd:"⌘ + NUM6",text:a.style.h6}])+'</div><div class="note-shortcut note-shortcut-col col-sm-6 col-xs-12">';
var e;e=n(a.shortcut.paragraphFormatting,[{kbd:"⌘ + ⇧ + L",text:a.paragraph.left},{kbd:"⌘ + ⇧ + E",text:a.paragraph.center},{kbd:"⌘ + ⇧ + R",text:a.paragraph.right},{kbd:"⌘ + ⇧ + J",text:a.paragraph.justify},{kbd:"⌘ + ⇧ + NUM7",text:a.lists.ordered},{kbd:"⌘ + ⇧ + NUM8",text:a.lists.unordered}]);c=[c,d+e+"</div>"];b.extraKeys&&c.push('<div class="note-shortcut note-shortcut-col col-sm-6 col-xs-12">'+s(a,b)+"</div>");return'<div class="note-shortcut-row row">'+c.join('</div><div class="note-shortcut-row row">')+
"</div>"},u={image:function(b,c){if(c.maximumImageFileSize){var d=Math.floor(Math.log(c.maximumImageFileSize)/Math.log(1024));(c.maximumImageFileSize/Math.pow(1024,d)).toFixed(2)}var e="";a.ajax({url:imageuploadUrl,type:"get",dataType:"html",async:!1,success:function(a){e=a}});return h("note-image-dialog","",'<input class="note-image-url form-control span12" type="hidden" />'+e,"","true")},link:function(a,b){return h("note-link-dialog",a.link.insert,'<div class="form-group row-fluid"><label>'+a.link.textToDisplay+
'</label><input class="note-link-text form-control span12" type="text" /></div><div class="form-group row-fluid"><label>'+a.link.url+'</label><input class="note-link-url form-control span12" type="text" /></div>'+(b.disableLinkTarget?"":'<div class="checkbox"><label><input type="checkbox" checked> '+a.link.openInNewWindow+"</label></div>"),'<button href="#" class="btn btn-primary note-link-btn disabled" disabled>'+a.link.insert+"</button>")},help:function(a,b){var c='<a class="modal-close pull-right" aria-hidden="true" tabindex="-1">'+
a.shortcut.close+'</a><div class="title">'+a.shortcut.shortcuts+"</div>",e;e=d.isMac?v(a,b):v(a,b).replace(/⌘/g,"Ctrl").replace(/⇧/g,"Shift");return h("note-help-dialog","",c+e,"")}},y=function(b,c){var d="";a.each(u,function(a,e){d+=e(b,c)});return'<div class="note-dialog">'+d+"</div>"},C=function(b,c,e){var g=f.invertObject(c);b.find("button").each(function(b,c){var e=a(c),f=g[e.data("event")];f&&e.attr("title",function(a,b){var c=b+" (",e;e=f;d.isMac&&(e=e.replace("CMD","⌘").replace("SHIFT","⇧"));
e=e.replace("BACKSLASH","\\").replace("SLASH","/").replace("LEFTBRACKET","[").replace("RIGHTBRACKET","]");return c+e+")"})}).tooltip({container:"body",trigger:"hover",placement:e||"top"}).on("click",function(){a(this).tooltip("hide")})},H=function(b,c){var d=c.colors;b.find(".note-color-palette").each(function(){for(var b=a(this),c=b.attr("data-target-event"),e=[],f=0,g=d.length;f<g;f++){for(var h=d[f],k=[],l=0,m=h.length;l<m;l++){var p=h[l];k.push(['<button type="button" class="note-color-btn" style="background-color:',
p,';" data-event="',c,'" data-value="',p,'" title="',p,'" data-toggle="button" tabindex="-1"></button>'].join(""))}e.push('<div class="note-color-row">'+k.join("")+"</div>")}b.html(e.join(""))})};this.createLayoutByAirMode=function(b,c){var e=c.langInfo,g=c.keyMap[d.isMac?"mac":"pc"],h=f.uniqueId();b.addClass("note-air-editor note-editable");b.attr({id:"note-editor-"+h,contentEditable:!0});var k=document.body,p=a(l(e,c));p.addClass("note-air-layout");p.attr("id","note-popover-"+h);p.appendTo(k);C(p,
g);H(p,c);g=a(m());g.addClass("note-air-layout");g.attr("id","note-handle-"+h);g.appendTo(k);e=a(y(e,c));e.addClass("note-air-layout");e.attr("id","note-dialog-"+h);e.find("button.close, a.modal-close").click(function(){a(this).closest(".modal").modal("hide")});e.appendTo(k)};this.createLayoutByFrame=function(c,e){var f=e.langInfo,g=a('<div class="note-editor"></div>');e.width&&g.width(e.width);0<e.height&&a('<div class="note-statusbar">'+(e.disableResizeEditor?"":'<div class="note-resizebar"><div class="note-icon-bar"></div><div class="note-icon-bar"></div><div class="note-icon-bar"></div></div>')+
"</div>").prependTo(g);var h=!c.is(":disabled"),h=a('<div class="note-editable" contentEditable="'+h+'"></div>').prependTo(g);e.height&&h.height(e.height);e.direction&&h.attr("dir",e.direction);var p=c.attr("placeholder")||e.placeholder;p&&h.attr("data-placeholder",p);h.html(b.html(c));a('<textarea class="note-codable"></textarea>').prependTo(g);for(var h="",p=0,n=e.toolbar.length;p<n;p++){for(var r=e.toolbar[p][1],h=h+('<div class="note-'+e.toolbar[p][0]+' btn-group">'),s=0,t=r.length;s<t;s++){var S=
k[r[s]];a.isFunction(S)&&(h+=S(f,e))}h+="</div>"}p=a('<div class="note-toolbar btn-toolbar">'+h+"</div>").prependTo(g);h=e.keyMap[d.isMac?"mac":"pc"];H(p,e);C(p,h,"bottom");p=a(l(f,e)).prependTo(g);H(p,e);C(p,h);a(m()).prependTo(g);a(y(f,e)).prependTo(g).find("button.close, a.modal-close").click(function(){a(this).closest(".modal").modal("hide")});a('<div class="note-dropzone"><div class="note-dropzone-message"></div></div>').prependTo(g);g.insertAfter(c);c.hide()};this.noteEditorFromHolder=function(b){return b.hasClass("note-air-editor")?
b:b.next().hasClass("note-editor")?b.next():a()};this.createLayout=function(a,b){this.noteEditorFromHolder(a).length||(b.airMode?this.createLayoutByAirMode(a,b):this.createLayoutByFrame(a,b))};this.layoutInfoFromHolder=function(a){a=this.noteEditorFromHolder(a);if(a.length){a=b.buildLayoutInfo(a);for(var c in a)a.hasOwnProperty(c)&&(a[c]=a[c].call());return a}};this.removeLayout=function(a,b,c){c.airMode?(a.removeClass("note-air-editor note-editable").removeAttr("id contentEditable"),b.popover.remove(),
b.handle.remove(),b.dialog.remove()):(a.html(b.editable.html()),b.editor.remove(),a.show())};this.getTemplate=function(){return{button:c,iconButton:e,dialog:h}};this.addButtonInfo=function(a,b){k[a]=b};this.addDialogInfo=function(a,b){u[a]=b}},ha=new function(){var e=a(window),f=a(document),h=a("html, body"),k=new v,l=new L,m=new P,n=new Z,s=new H;this.getEditor=function(){return k};var u=function(d){d=a(d).closest(".note-editor, .note-air-editor, .note-air-layout");if(!d.length)return null;d=d.is(".note-editor, .note-air-editor")?
d:a("#note-editor-"+c.last(d.attr("id").split("-")));return b.buildLayoutInfo(d)},A=function(b,c){b.editor();var d=b.editable();a.each(c,function(a,b){k.insertImage(d,b)})},y={showLinkDialog:function(a){var b=a.editor(),c=a.dialog(),d=a.editable(),e=k.getLinkInfo(d),f=b.data("options");k.saveRange(d);s.showLinkDialog(d,c,e).then(function(b){k.restoreRange(d);k.createLink(d,b,f);m.hide(a.popover())}).fail(function(){k.restoreRange(d)})},showImageDialog:function(a){var b=a.dialog(),c=a.editable();k.saveRange(c);
s.showImageDialog(c,b).then(function(b){k.restoreRange(c);"string"===typeof b?k.insertImage(c,b):A(a,b)}).fail(function(){k.restoreRange(c)})},showHelpDialog:function(a){var b=a.dialog(),c=a.editable();k.saveRange(c,!0);s.showHelpDialog(c,b).then(function(){k.restoreRange(c)})},fullscreen:function(a){var b=a.editor(),c=a.toolbar(),d=a.editable(),f=a.codable(),g=function(a){d.css("height",a.h);f.css("height",a.h);f.data("cmeditor")&&f.data("cmeditor").setsize(null,a.h)};b.toggleClass("fullscreen");
(a=b.hasClass("fullscreen"))?(d.data("orgheight",d.css("height")),e.on("resize",function(){g({h:e.height()-c.outerHeight()})}).trigger("resize"),h.css("overflow","hidden")):(e.off("resize"),g({h:d.data("orgheight")}),h.css("overflow","visible"));l.updateFullscreen(c,a)},codeview:function(a){var c=a.editor(),e=a.toolbar(),f=a.editable(),g=a.codable(),h=a.popover(),k=a.handle(),p=c.data("options"),q;c.toggleClass("codeview");(c=c.hasClass("codeview"))?(g.val(b.html(f,p.prettifyHtml)),g.height(f.height()),
l.deactivate(e),m.hide(h),n.hide(k),g.focus(),d.hasCodeMirror&&(h=U.fromTextArea(g[0],p.codemirror),p.codemirror.tern&&(q=new U.TernServer(p.codemirror.tern),h.ternServer=q,h.on("cursorActivity",function(a){q.updateArgHints(a)})),h.setSize(null,f.outerHeight()),g.data("cmEditor",h))):(d.hasCodeMirror&&(h=g.data("cmEditor"),g.val(h.getValue()),h.toTextArea()),f.html(b.value(g,p.prettifyHtml)||b.emptyPara),f.height(p.height?g.height():"auto"),l.activate(e),f.focus());l.updateCodeview(a.toolbar(),c)}},
Q=function(a){b.isImg(a.target)&&a.preventDefault()},R=function(a){setTimeout(function(){var b=u(a.currentTarget||a.target),c=k.currentStyle(a.target);if(c){var d=b.editor().data("options").airMode;d||l.update(b.toolbar(),c);m.update(b.popover(),c,d);n.update(b.handle(),c,d)}},0)},ha=function(a){a=u(a.currentTarget||a.target);m.hide(a.popover());n.hide(a.handle())},W=function(b){var d=b.originalEvent.clipboardData,e=u(b.currentTarget||b.target),f=e.editable();d&&d.items&&d.items.length?(b=c.head(d.items),
"file"===b.kind&&-1!==b.type.indexOf("image/")&&A(e,[b.getAsFile()]),k.afterCommand(f)):f.data("callbacks").onImageUpload&&(k.saveNode(f),k.saveRange(f),f.html(""),setTimeout(function(){var b=f.find("img");if(b.length&&-1!==b[0].src.indexOf("data:")){for(var b=atob(b[0].src.split(",")[1]),c=new Uint8Array(b.length),d=0;d<b.length;d++)c[d]=b.charCodeAt(d);b=new Blob([c],{type:"image/png"});b.name="clipboard.png";k.restoreNode(f);k.restoreRange(f);A(e,[b]);k.afterCommand(f)}else{b=f.html();k.restoreNode(f);
k.restoreRange(f);try{a(b).each(function(){f.focus();k.insertNode(f,this)})}catch(g){f.focus(),k.insertText(f,b)}}},0))},da=function(c){if(b.isControlSizing(c.target)){c.preventDefault();c.stopPropagation();c=u(c.target);var d=c.handle(),e=c.popover(),g=c.editable();c=c.editor();var h=d.find(".note-control-selection").data("target"),l=a(h),q=l.offset(),s=f.scrollTop(),v=c.data("options").airMode;f.on("mousemove",function(a){k.resizeTo({x:a.clientX-q.left,y:a.clientY-(q.top-s)},l,!a.shiftKey);n.update(d,
{image:h},v);m.update(e,{image:h},v)}).one("mouseup",function(){f.off("mousemove");k.afterCommand(g)});l.data("ratio")||l.data("ratio",l.height()/l.width())}},la=function(b){a(b.target).closest("[data-event]").length&&b.preventDefault()},ia=function(b){var d=a(b.target).closest("[data-event]");if(d.length){var e=d.attr("data-event"),f=d.attr("data-value"),g=d.attr("data-hide"),h=u(b.target),n;-1!==a.inArray(e,["resize","floatMe","removeMedia","imageShape"])&&(n=h.handle().find(".note-control-selection"),
n=a(n.data("target")));g&&d.parents(".popover").hide();if(a.isFunction(a.summernote.pluginEvents[e]))a.summernote.pluginEvents[e](b,k,h,f);else k[e]?(g=h.editable(),g.trigger("focus"),k[e](g,f,n),b.preventDefault()):y[e]&&(y[e].call(this,h),b.preventDefault());if(-1!==a.inArray(e,["backColor","foreColor"])){var q=h.editor().data("options",q);(q.airMode?m:l).updateRecentColor(c.head(d),e,f)}R(b)}},G=function(a){a.preventDefault();a.stopPropagation();var b=u(a.target).editable(),c=b.offset().top-f.scrollTop(),
d=u(a.currentTarget||a.target).editor().data("options");f.on("mousemove",function(a){a=a.clientY-(c+24);a=0<d.minHeight?Math.max(a,d.minHeight):a;a=0<d.maxHeight?Math.min(a,d.maxHeight):a;b.height(a)}).one("mouseup",function(){f.off("mousemove")})},q=function(a,b){if(b.disableDragAndDrop)f.on("drop",function(a){a.preventDefault()});else V(a,b)},V=function(b,c){var d=a(),e=b.dropzone,g=b.dropzone.find(".note-dropzone-message");f.on("dragenter",function(a){b.editor.hasClass("codeview")||d.length||(b.editor.addClass("dragover"),
e.width(b.editor.width()),e.height(b.editor.height()),g.text(c.langInfo.image.dragImageHere));d=d.add(a.target)}).on("dragleave",function(a){d=d.not(a.target);d.length||b.editor.removeClass("dragover")}).on("drop",function(){d=a();b.editor.removeClass("dragover")}).on("mouseout",function(a){d=d.not(a.target);d.length||b.editor.removeClass("dragover")});e.on("dragenter",function(){e.addClass("hover");g.text(c.langInfo.image.dropImage)}).on("dragleave",function(){e.removeClass("hover");g.text(c.langInfo.image.dragImageHere)});
e.on("drop",function(b){b.preventDefault();var c=b.originalEvent.dataTransfer,d=c.getData("text/html"),e=c.getData("text/plain"),f=u(b.currentTarget||b.target);c&&c.files&&c.files.length?(f.editable().focus(),A(f,c.files)):d?a(d).each(function(){f.editable().focus();k.insertNode(f.editable(),this)}):e&&(f.editable().focus(),k.insertText(f.editable(),e))}).on("dragover",!1)};this.bindKeyMap=function(b,c){var d=b.editor,e=b.editable;b=u(e);e.on("keydown",function(f){var h=[];f.metaKey&&h.push("CMD");
f.ctrlKey&&!f.altKey&&h.push("CTRL");f.shiftKey&&h.push("SHIFT");var l=g.nameFromCode[f.keyCode];l&&h.push(l);(h=c[h.join("+")])?a.summernote.pluginEvents[h]?(h=a.summernote.pluginEvents[h],a.isFunction(h)&&h(f,k,b)):k[h]?(k[h](e,d.data("options")),f.preventDefault()):y[h]&&(y[h].call(this,b),f.preventDefault()):g.isEdit(f.keyCode)&&k.afterCommand(e)})};this.attach=function(b,c){c.shortcuts&&this.bindKeyMap(b,c.keyMap[d.isMac?"mac":"pc"]);b.editable.on("mousedown",Q);b.editable.on("keyup mouseup",
R);b.editable.on("scroll",ha);b.editable.on("paste",W);b.handle.on("mousedown",da);b.popover.on("click",ia);b.popover.on("mousedown",la);if(!c.airMode&&(q(b,c),b.toolbar.on("click",ia),b.toolbar.on("mousedown",la),!c.disableResizeEditor))b.statusbar.on("mousedown",G);(c.airMode?b.popover:b.toolbar).find(".note-dimension-picker-mousecatcher").css({width:c.insertTableMaxSize.col+"em",height:c.insertTableMaxSize.row+"em"}).on("mousemove",function(b){var d,e=a(b.target.parentNode),f=e.next(),g=e.find(".note-dimension-picker-mousecatcher"),
h=e.find(".note-dimension-picker-highlighted"),e=e.find(".note-dimension-picker-unhighlighted");if(void 0===b.offsetX){var k=a(b.target).offset();d=b.pageX-k.left;b=b.pageY-k.top}else d=b.offsetX,b=b.offsetY;d=Math.ceil(d/18)||1;b=Math.ceil(b/18)||1;h.css({width:d+"em",height:b+"em"});g.attr("data-value",d+"x"+b);3<d&&d<c.insertTableMaxSize.col&&e.css({width:d+1+"em"});3<b&&b<c.insertTableMaxSize.row&&e.css({height:b+1+"em"});f.html(d+" x "+b)});b.editor.data("options",c);d.isMSIE||setTimeout(function(){document.execCommand("styleWithCSS",
0,c.styleWithSpan)},0);var e=new C(b.editable);b.editable.data("NoteHistory",e);c.onenter&&b.editable.keypress(function(a){if(a.keyCode===g.ENTER)c.onenter(a)});c.onfocus&&b.editable.focus(c.onfocus);c.onblur&&b.editable.blur(c.onblur);c.onkeyup&&b.editable.keyup(c.onkeyup);c.onkeydown&&b.editable.keydown(c.onkeydown);if(c.onpaste)b.editable.on("paste",c.onpaste);c.onToolbarClick&&b.toolbar.click(c.onToolbarClick);if(c.onChange)if(e=function(){k.triggerOnChange(b.editable)},d.isMSIE)b.editable.on("DOMCharacterDataModified DOMSubtreeModified DOMNodeInserted",
e);else b.editable.on("input",e);b.editable.data("callbacks",{onBeforeChange:c.onBeforeChange,onChange:c.onChange,onAutoSave:c.onAutoSave,onImageUpload:c.onImageUpload,onImageUploadError:c.onImageUploadError,onFileUpload:c.onFileUpload,onFileUploadError:c.onFileUpload,onMediaDelete:c.onMediaDelete})};this.detach=function(a,b){a.editable.off();a.popover.off();a.handle.off();a.dialog.off();b.airMode||(a.dropzone.off(),a.toolbar.off(),a.statusbar.off())}};a.extend(a.summernote,{renderer:Q,eventHandler:ha,
core:{agent:d,dom:b,range:k},pluginEvents:{}});a.summernote.addPlugin=function(b){b.buttons&&a.each(b.buttons,function(a,b){Q.addButtonInfo(a,b)});b.dialogs&&a.each(b.dialogs,function(a,b){Q.addDialogInfo(a,b)});b.events&&a.each(b.events,function(b,c){a.summernote.pluginEvents[b]=c});b.langs&&a.each(b.langs,function(b,c){a.summernote.lang[b]&&a.extend(a.summernote.lang[b],c)});b.options&&a.extend(a.summernote.options,b.options)};a.fn.extend({summernote:function(c){c=a.extend({},a.summernote.options,
c);c.langInfo=a.extend(!0,{},a.summernote.lang["zh-CN"],a.summernote.lang[c.lang]);this.each(function(d,e){var f=a(e);Q.createLayout(f,c);var g=Q.layoutInfoFromHolder(f);ha.attach(g,c);b.isTextarea(f[0])&&f.closest("form").submit(function(){var a=f.code();f.val(a);if(c.onsubmit)c.onsubmit(a)})});this.first().length&&c.focus&&Q.layoutInfoFromHolder(this.first()).editable.focus();if(this.length&&c.oninit)c.oninit();return this},code:function(c){if(void 0===c){var e=this.first();if(!e.length)return;
var f=Q.layoutInfoFromHolder(e);return f&&f.editable?((e=f.editor.hasClass("codeview"))&&d.hasCodeMirror&&f.codable.data("cmEditor").save(),e?f.codable.val():f.editable.html()):b.isTextarea(e[0])?e.val():e.html()}this.each(function(b,d){var e=Q.layoutInfoFromHolder(a(d));e&&e.editable&&e.editable.html(c)});return this},destroy:function(){this.each(function(b,c){var d=a(c),e=Q.layoutInfoFromHolder(d);if(e&&e.editable){var f=e.editor.data("options");ha.detach(e,f);Q.removeLayout(d,e,f)}});return this}})});(function(a){a.extend(a.summernote.lang,{"zh-CN":{font:{bold:"粗体",italic:"斜体",underline:"下划线",strikethrough:"删除线",clear:"清除格式",height:"行高",name:"字体",size:"字号"},image:{image:"图片",insert:"插入图片",resizeFull:"调整至 100%",resizeHalf:"调整至 50%",resizeQuarter:"调整至 25%",floatLeft:"左浮动",floatRight:"右浮动",floatNone:"不浮动",dragImageHere:"将图片拖至此处",selectFromFiles:"从本地上传",url:"图片地址"},link:{link:"链接",insert:"插入链接",unlink:"去除链接",edit:"编辑链接",textToDisplay:"显示文本",url:"链接地址",openInNewWindow:"在新窗口打开"},video:{video:"视频",videoLink:"视频链接",
insert:"插入视频",url:"视频地址",providers:"(优酷, Instagram, DailyMotion, Youtube等)"},table:{table:"表格"},hr:{insert:"水平线"},style:{style:"样式",normal:"普通",blockquote:"引用",pre:"代码",h1:"标题 1",h2:"标题 2",h3:"标题 3",h4:"标题 4",h5:"标题 5",h6:"标题 6"},lists:{unordered:"无序列表",ordered:"有序列表"},options:{help:"帮助",fullscreen:"全屏",codeview:"源代码"},paragraph:{paragraph:"段落",outdent:"减少缩进",indent:"增加缩进",left:"左对齐",center:"居中对齐",right:"右对齐",justify:"两端对齐"},color:{recent:"最近使用",more:"更多",background:"背景",foreground:"前景",transparent:"透明",
setTransparent:"透明",reset:"重置",resetToDefault:"默认"},shortcut:{shortcuts:"快捷键",close:"关闭",textFormatting:"文本格式",action:"动作",paragraphFormatting:"段落格式",documentStyle:"文档样式"},history:{undo:"撤销",redo:"重做"}}})})(jQuery);